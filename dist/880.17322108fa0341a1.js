"use strict";(self.webpackChunkInvestment_News_Aggregator_and_Analysis_Tool_project=self.webpackChunkInvestment_News_Aggregator_and_Analysis_Tool_project||[]).push([[880],{4279:(ti,Pe,V)=>{V.d(Pe,{T:()=>lr});var a=V(5861);class fe extends Error{constructor(h,o="FunctionsError",l){super(h),this.name=o,this.context=l}}class Ce extends fe{constructor(h){super("Failed to send a request to the Edge Function","FunctionsFetchError",h)}}class $ extends fe{constructor(h){super("Relay Error invoking the Edge Function","FunctionsRelayError",h)}}class Q extends fe{constructor(h){super("Edge Function returned a non-2xx status code","FunctionsHttpError",h)}}class X{constructor(h,{headers:o={},customFetch:l}={}){this.url=h,this.headers=o,this.fetch=(p=>{let h;return h=p||(typeof fetch>"u"?(...o)=>Promise.resolve().then(V.bind(V,6397)).then(({default:l})=>l(...o)):fetch),(...o)=>h(...o)})(l)}setAuth(h){this.headers.Authorization=`Bearer ${h}`}invoke(h,o={}){var l;return function(p,h,o,l){return new(o||(o=Promise))(function(m,f){function x(k){try{w(l.next(k))}catch(O){f(O)}}function b(k){try{w(l.throw(k))}catch(O){f(O)}}function w(k){k.done?m(k.value):function u(m){return m instanceof o?m:new o(function(f){f(m)})}(k.value).then(x,b)}w((l=l.apply(p,h||[])).next())})}(this,void 0,void 0,function*(){try{const{headers:u,method:m,body:f}=o;let b,x={};f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",b=f):"string"==typeof f?(x["Content-Type"]="text/plain",b=f):typeof FormData<"u"&&f instanceof FormData?b=f:(x["Content-Type"]="application/json",b=JSON.stringify(f)));const w=yield this.fetch(`${this.url}/${h}`,{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),u),body:b}).catch(ne=>{throw new Ce(ne)}),k=w.headers.get("x-relay-error");if(k&&"true"===k)throw new $(w);if(!w.ok)throw new Q(w);let j,O=(null!==(l=w.headers.get("Content-Type"))&&void 0!==l?l:"text/plain").split(";")[0].trim();return j="application/json"===O?yield w.json():"application/octet-stream"===O?yield w.blob():"multipart/form-data"===O?yield w.formData():yield w.text(),{data:j,error:null}}catch(u){return{data:null,error:u}}})}}var G=V(6397);class pe extends Error{constructor(h){super(h.message),this.name="PostgrestError",this.details=h.details,this.hint=h.hint,this.code=h.code}}class K{constructor(h){this.shouldThrowOnError=!1,this.method=h.method,this.url=h.url,this.headers=h.headers,this.schema=h.schema,this.body=h.body,this.shouldThrowOnError=h.shouldThrowOnError,this.signal=h.signal,this.isMaybeSingle=h.isMaybeSingle,this.fetch=h.fetch?h.fetch:typeof fetch>"u"?G.default:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(h,o){var l=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let m=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var f=(0,a.Z)(function*(x){var b,w,k;let O=null,j=null,ne=null,Y=x.status,me=x.statusText;if(x.ok){if("HEAD"!==l.method){const et=yield x.text();""===et||(j="text/csv"===l.headers.Accept||l.headers.Accept&&l.headers.Accept.includes("application/vnd.pgrst.plan+text")?et:JSON.parse(et))}const $e=null===(b=l.headers.Prefer)||void 0===b?void 0:b.match(/count=(exact|planned|estimated)/),Ke=null===(w=x.headers.get("content-range"))||void 0===w?void 0:w.split("/");$e&&Ke&&Ke.length>1&&(ne=parseInt(Ke[1])),l.isMaybeSingle&&"GET"===l.method&&Array.isArray(j)&&(j.length>1?(O={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,ne=null,Y=406,me="Not Acceptable"):j=1===j.length?j[0]:null)}else{const $e=yield x.text();try{O=JSON.parse($e),Array.isArray(O)&&404===x.status&&(j=[],O=null,Y=200,me="OK")}catch{404===x.status&&""===$e?(Y=204,me="No Content"):O={message:$e}}if(O&&l.isMaybeSingle&&!(null===(k=O?.details)||void 0===k)&&k.includes("0 rows")&&(O=null,Y=200,me="OK"),O&&l.shouldThrowOnError)throw new pe(O)}return{error:O,data:j,count:ne,status:Y,statusText:me}});return function(x){return f.apply(this,arguments)}}());return this.shouldThrowOnError||(m=m.catch(f=>{var x,b,w;return{error:{message:`${null!==(x=f?.name)&&void 0!==x?x:"FetchError"}: ${f?.message}`,details:`${null!==(b=f?.stack)&&void 0!==b?b:""}`,hint:"",code:`${null!==(w=f?.code)&&void 0!==w?w:""}`},data:null,count:null,status:0,statusText:""}})),m.then(h,o)}}class oe extends K{select(h){let o=!1;const l=(h??"*").split("").map(u=>/\s/.test(u)&&!o?"":('"'===u&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(h,{ascending:o=!0,nullsFirst:l,foreignTable:u,referencedTable:m=u}={}){const f=m?`${m}.order`:"order",x=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${x?`${x},`:""}${h}.${o?"asc":"desc"}${void 0===l?"":l?".nullsfirst":".nullslast"}`),this}limit(h,{foreignTable:o,referencedTable:l=o}={}){return this.url.searchParams.set(typeof l>"u"?"limit":`${l}.limit`,`${h}`),this}range(h,o,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(typeof u>"u"?"offset":`${u}.offset`,`${h}`),this.url.searchParams.set(f,""+(o-h+1)),this}abortSignal(h){return this.signal=h,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="GET"===this.method?"application/json":"application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:h=!1,verbose:o=!1,settings:l=!1,buffers:u=!1,wal:m=!1,format:f="text"}={}){var x;const b=[h?"analyze":null,o?"verbose":null,l?"settings":null,u?"buffers":null,m?"wal":null].filter(Boolean).join("|"),w=null!==(x=this.headers.Accept)&&void 0!==x?x:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${f}; for="${w}"; options=${b};`,this}rollback(){var h;return(null!==(h=this.headers.Prefer)&&void 0!==h?h:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Ee extends oe{eq(h,o){return this.url.searchParams.append(h,`eq.${o}`),this}neq(h,o){return this.url.searchParams.append(h,`neq.${o}`),this}gt(h,o){return this.url.searchParams.append(h,`gt.${o}`),this}gte(h,o){return this.url.searchParams.append(h,`gte.${o}`),this}lt(h,o){return this.url.searchParams.append(h,`lt.${o}`),this}lte(h,o){return this.url.searchParams.append(h,`lte.${o}`),this}like(h,o){return this.url.searchParams.append(h,`like.${o}`),this}likeAllOf(h,o){return this.url.searchParams.append(h,`like(all).{${o.join(",")}}`),this}likeAnyOf(h,o){return this.url.searchParams.append(h,`like(any).{${o.join(",")}}`),this}ilike(h,o){return this.url.searchParams.append(h,`ilike.${o}`),this}ilikeAllOf(h,o){return this.url.searchParams.append(h,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(h,o){return this.url.searchParams.append(h,`ilike(any).{${o.join(",")}}`),this}is(h,o){return this.url.searchParams.append(h,`is.${o}`),this}in(h,o){const l=o.map(u=>"string"==typeof u&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(h,`in.(${l})`),this}contains(h,o){return"string"==typeof o?this.url.searchParams.append(h,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(h,`cs.{${o.join(",")}}`):this.url.searchParams.append(h,`cs.${JSON.stringify(o)}`),this}containedBy(h,o){return"string"==typeof o?this.url.searchParams.append(h,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(h,`cd.{${o.join(",")}}`):this.url.searchParams.append(h,`cd.${JSON.stringify(o)}`),this}rangeGt(h,o){return this.url.searchParams.append(h,`sr.${o}`),this}rangeGte(h,o){return this.url.searchParams.append(h,`nxl.${o}`),this}rangeLt(h,o){return this.url.searchParams.append(h,`sl.${o}`),this}rangeLte(h,o){return this.url.searchParams.append(h,`nxr.${o}`),this}rangeAdjacent(h,o){return this.url.searchParams.append(h,`adj.${o}`),this}overlaps(h,o){return this.url.searchParams.append(h,"string"==typeof o?`ov.${o}`:`ov.{${o.join(",")}}`),this}textSearch(h,o,{config:l,type:u}={}){let m="";return"plain"===u?m="pl":"phrase"===u?m="ph":"websearch"===u&&(m="w"),this.url.searchParams.append(h,`${m}fts${void 0===l?"":`(${l})`}.${o}`),this}match(h){return Object.entries(h).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(h,o,l){return this.url.searchParams.append(h,`not.${o}.${l}`),this}or(h,{foreignTable:o,referencedTable:l=o}={}){return this.url.searchParams.append(l?`${l}.or`:"or",`(${h})`),this}filter(h,o,l){return this.url.searchParams.append(h,`${o}.${l}`),this}}class _e{constructor(h,{headers:o={},schema:l,fetch:u}){this.url=h,this.headers=o,this.schema=l,this.fetch=u}select(h,{head:o=!1,count:l}={}){const u=o?"HEAD":"GET";let m=!1;const f=(h??"*").split("").map(x=>/\s/.test(x)&&!m?"":('"'===x&&(m=!m),x)).join("");return this.url.searchParams.set("select",f),l&&(this.headers.Prefer=`count=${l}`),new Ee({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(h,{count:o,defaultToNull:l=!0}={}){const m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),o&&m.push(`count=${o}`),l||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(h)){const f=h.reduce((x,b)=>x.concat(Object.keys(b)),[]);if(f.length>0){const x=[...new Set(f)].map(b=>`"${b}"`);this.url.searchParams.set("columns",x.join(","))}}return new Ee({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:h,fetch:this.fetch,allowEmpty:!1})}upsert(h,{onConflict:o,ignoreDuplicates:l=!1,count:u,defaultToNull:m=!0}={}){const x=[`resolution=${l?"ignore":"merge"}-duplicates`];if(void 0!==o&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&x.push(this.headers.Prefer),u&&x.push(`count=${u}`),m||x.push("missing=default"),this.headers.Prefer=x.join(","),Array.isArray(h)){const b=h.reduce((w,k)=>w.concat(Object.keys(k)),[]);if(b.length>0){const w=[...new Set(b)].map(k=>`"${k}"`);this.url.searchParams.set("columns",w.join(","))}}return new Ee({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:h,fetch:this.fetch,allowEmpty:!1})}update(h,{count:o}={}){const u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),o&&u.push(`count=${o}`),this.headers.Prefer=u.join(","),new Ee({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:h,fetch:this.fetch,allowEmpty:!1})}delete({count:h}={}){const l=[];return h&&l.push(`count=${h}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new Ee({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const Ge={"X-Client-Info":"postgrest-js/1.9.2"};class ce{constructor(h,{headers:o={},schema:l,fetch:u}={}){this.url=h,this.headers=Object.assign(Object.assign({},Ge),o),this.schemaName=l,this.fetch=u}from(h){const o=new URL(`${this.url}/${h}`);return new _e(o,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(h){return new ce(this.url,{headers:this.headers,schema:h,fetch:this.fetch})}rpc(h,o={},{head:l=!1,count:u}={}){let m;const f=new URL(`${this.url}/rpc/${h}`);let x;l?(m="HEAD",Object.entries(o).forEach(([w,k])=>{f.searchParams.append(w,`${k}`)})):(m="POST",x=o);const b=Object.assign({},this.headers);return u&&(b.Prefer=`count=${u}`),new Ee({method:m,url:f,headers:b,schema:this.schemaName,body:x,fetch:this.fetch,allowEmpty:!1})}}const Be={"X-Client-Info":"realtime-js/2.9.3"};var Dt=(()=>{return(p=Dt||(Dt={}))[p.connecting=0]="connecting",p[p.open=1]="open",p[p.closing=2]="closing",p[p.closed=3]="closed",Dt;var p})(),Ue=(()=>{return(p=Ue||(Ue={})).closed="closed",p.errored="errored",p.joined="joined",p.joining="joining",p.leaving="leaving",Ue;var p})(),qe=(()=>{return(p=qe||(qe={})).close="phx_close",p.error="phx_error",p.join="phx_join",p.reply="phx_reply",p.leave="phx_leave",p.access_token="access_token",qe;var p})(),lt=(()=>((lt||(lt={})).websocket="websocket",lt))(),At=(()=>{return(p=At||(At={})).Connecting="connecting",p.Open="open",p.Closing="closing",p.Closed="closed",At;var p})();class Fi{constructor(h,o){this.callback=h,this.timerCalc=o,this.timer=void 0,this.tries=0,this.callback=h,this.timerCalc=o}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class ii{constructor(){this.HEADER_LENGTH=1}decode(h,o){return h.constructor===ArrayBuffer?o(this._binaryDecode(h)):o("string"==typeof h?JSON.parse(h):{})}_binaryDecode(h){const o=new DataView(h),l=new TextDecoder;return this._decodeBroadcast(h,o,l)}_decodeBroadcast(h,o,l){const u=o.getUint8(1),m=o.getUint8(2);let f=this.HEADER_LENGTH+2;const x=l.decode(h.slice(f,f+u));f+=u;const b=l.decode(h.slice(f,f+m));return f+=m,{ref:null,topic:x,event:b,payload:JSON.parse(l.decode(h.slice(f,h.byteLength)))}}}class pi{constructor(h,o,l={},u=1e4){this.channel=h,this.event=o,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(h){this.timeout=h,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(h){this.payload=Object.assign(Object.assign({},this.payload),h)}receive(h,o){var l;return this._hasReceived(h)&&o(null===(l=this.receivedResp)||void 0===l?void 0:l.response),this.recHooks.push({status:h,callback:o}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},o=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=o,this._matchReceive(o)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(h,o){this.refEvent&&this.channel._trigger(this.refEvent,{status:h,response:o})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:h,response:o}){this.recHooks.filter(l=>l.status===h).forEach(l=>l.callback(o))}_hasReceived(h){return this.receivedResp&&this.receivedResp.status===h}}class zt{constructor(h,o){this.channel=h,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=o?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:m,onLeave:f,onSync:x}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zt.syncState(this.state,u,m,f),this.pendingDiffs.forEach(b=>{this.state=zt.syncDiff(this.state,b,m,f)}),this.pendingDiffs=[],x()}),this.channel._on(l.diff,{},u=>{const{onJoin:m,onLeave:f,onSync:x}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=zt.syncDiff(this.state,u,m,f),x())}),this.onJoin((u,m,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:m,newPresences:f})}),this.onLeave((u,m,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:m,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(h,o,l,u){const m=this.cloneDeep(h),f=this.transformState(o),x={},b={};return this.map(m,(w,k)=>{f[w]||(b[w]=k)}),this.map(f,(w,k)=>{const O=m[w];if(O){const j=k.map(we=>we.presence_ref),ne=O.map(we=>we.presence_ref),Y=k.filter(we=>ne.indexOf(we.presence_ref)<0),me=O.filter(we=>j.indexOf(we.presence_ref)<0);Y.length>0&&(x[w]=Y),me.length>0&&(b[w]=me)}else x[w]=k}),this.syncDiff(m,{joins:x,leaves:b},l,u)}static syncDiff(h,o,l,u){const{joins:m,leaves:f}={joins:this.transformState(o.joins),leaves:this.transformState(o.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(m,(x,b)=>{var w;const k=null!==(w=h[x])&&void 0!==w?w:[];if(h[x]=this.cloneDeep(b),k.length>0){const O=h[x].map(ne=>ne.presence_ref),j=k.filter(ne=>O.indexOf(ne.presence_ref)<0);h[x].unshift(...j)}l(x,k,b)}),this.map(f,(x,b)=>{let w=h[x];if(!w)return;const k=b.map(O=>O.presence_ref);w=w.filter(O=>k.indexOf(O.presence_ref)<0),h[x]=w,u(x,w,b),0===w.length&&delete h[x]}),h}static map(h,o){return Object.getOwnPropertyNames(h).map(l=>o(l,h[l]))}static transformState(h){return h=this.cloneDeep(h),Object.getOwnPropertyNames(h).reduce((o,l)=>{const u=h[l];return o[l]="metas"in u?u.metas.map(m=>(m.presence_ref=m.phx_ref,delete m.phx_ref,delete m.phx_ref_prev,m)):u,o},{})}static cloneDeep(h){return JSON.parse(JSON.stringify(h))}onJoin(h){this.caller.onJoin=h}onLeave(h){this.caller.onLeave=h}onSync(h){this.caller.onSync=h}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Se=(()=>{return(p=Se||(Se={})).abstime="abstime",p.bool="bool",p.date="date",p.daterange="daterange",p.float4="float4",p.float8="float8",p.int2="int2",p.int4="int4",p.int4range="int4range",p.int8="int8",p.int8range="int8range",p.json="json",p.jsonb="jsonb",p.money="money",p.numeric="numeric",p.oid="oid",p.reltime="reltime",p.text="text",p.time="time",p.timestamp="timestamp",p.timestamptz="timestamptz",p.timetz="timetz",p.tsrange="tsrange",p.tstzrange="tstzrange",Se;var p})();const yt=(p,h,o={})=>{var l;const u=null!==(l=o.skipTypes)&&void 0!==l?l:[];return Object.keys(h).reduce((m,f)=>(m[f]=sn(f,p,h,u),m),{})},sn=(p,h,o,l)=>{const m=h.find(x=>x.name===p)?.type,f=o[p];return m&&!l.includes(m)?Gi(m,f):gi(f)},Gi=(p,h)=>{if("_"===p.charAt(0)){const o=p.slice(1,p.length);return P(h,o)}switch(p){case Se.bool:return ye(h);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return it(h);case Se.json:case Se.jsonb:return D(h);case Se.timestamp:return U(h);default:return gi(h)}},gi=p=>p,ye=p=>{switch(p){case"t":return!0;case"f":return!1;default:return p}},it=p=>{if("string"==typeof p){const h=parseFloat(p);if(!Number.isNaN(h))return h}return p},D=p=>{if("string"==typeof p)try{return JSON.parse(p)}catch(h){return console.log(`JSON parse error: ${h}`),p}return p},P=(p,h)=>{if("string"!=typeof p)return p;const o=p.length-1;if("{"===p[0]&&"}"===p[o]){let m;const f=p.slice(1,o);try{m=JSON.parse("["+f+"]")}catch{m=f?f.split(","):[]}return m.map(x=>Gi(h,x))}return p},U=p=>"string"==typeof p?p.replace(" ","T"):p;class ni{constructor(h,o={config:{}},l){this.topic=h,this.params=o,this.socket=l,this.bindings={},this.state=Ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=h.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},o.config),this.timeout=this.socket.timeout,this.joinPush=new pi(this,qe.join,this.params,this.timeout),this.rejoinTimer=new Fi(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ue.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qe.reply,{},(u,m)=>{this._trigger(this._replyEventName(m),u)}),this.presence=new zt(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(h,o=this.timeout){var l,u;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:m,presence:f}}=this.params;this._onError(w=>h&&h("CHANNEL_ERROR",w)),this._onClose(()=>h&&h("CLOSED"));const x={},b={broadcast:m,presence:f,postgres_changes:null!==(u=null===(l=this.bindings.postgres_changes)||void 0===l?void 0:l.map(w=>w.filter))&&void 0!==u?u:[]};this.socket.accessToken&&(x.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:b},x)),this.joinedOnce=!0,this._rejoin(o),this.joinPush.receive("ok",({postgres_changes:w})=>{var k;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0!==w){const O=this.bindings.postgres_changes,j=null!==(k=O?.length)&&void 0!==k?k:0,ne=[];for(let Y=0;Y<j;Y++){const me=O[Y],{filter:{event:we,schema:$e,table:Ke,filter:et}}=me,tt=w&&w[Y];if(!tt||tt.event!==we||tt.schema!==$e||tt.table!==Ke||tt.filter!==et)return this.unsubscribe(),void(h&&h("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes")));ne.push(Object.assign(Object.assign({},me),{id:tt.id}))}return this.bindings.postgres_changes=ne,void(h&&h("SUBSCRIBED"))}h&&h("SUBSCRIBED")}).receive("error",w=>{h&&h("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{h&&h("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(h,o={}){var l=this;return(0,a.Z)(function*(){return yield l.send({type:"presence",event:"track",payload:h},o.timeout||l.timeout)})()}untrack(h={}){var o=this;return(0,a.Z)(function*(){return yield o.send({type:"presence",event:"untrack"},h)})()}on(h,o,l){return this._on(h,o,l)}send(h,o={}){var l=this;return(0,a.Z)(function*(){var u,m;if(l._canPush()||"broadcast"!==h.type)return new Promise(f=>{var x,b,w;const k=l._push(h.type,h,o.timeout||l.timeout);"broadcast"===h.type&&!(null!==(w=null===(b=null===(x=l.params)||void 0===x?void 0:x.config)||void 0===b?void 0:b.broadcast)&&void 0!==w&&w.ack)&&f("ok"),k.receive("ok",()=>f("ok")),k.receive("timeout",()=>f("timed out"))});{const{event:f,payload:x}=h,b={method:"POST",headers:{apikey:null!==(u=l.socket.apiKey)&&void 0!==u?u:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:l.subTopic,event:f,payload:x}]})};try{return(yield l._fetchWithTimeout(l.broadcastEndpointURL,b,null!==(m=o.timeout)&&void 0!==m?m:l.timeout)).ok?"ok":"error"}catch(w){return"AbortError"===w.name?"timed out":"error"}}})()}updateJoinPayload(h){this.joinPush.updatePayload(h)}unsubscribe(h=this.timeout){this.state=Ue.leaving;const o=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qe.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(l=>{const u=new pi(this,qe.leave,{},h);u.receive("ok",()=>{o(),l("ok")}).receive("timeout",()=>{o(),l("timed out")}).receive("error",()=>{l("error")}),u.send(),this._canPush()||u.trigger("ok",{})})}_broadcastEndpointURL(){let h=this.socket.endPoint;return h=h.replace(/^ws/i,"http"),h=h.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),h.replace(/\/+$/,"")+"/api/broadcast"}_fetchWithTimeout(h,o,l){var u=this;return(0,a.Z)(function*(){const m=new AbortController,f=setTimeout(()=>m.abort(),l),x=yield u.socket.fetch(h,Object.assign(Object.assign({},o),{signal:m.signal}));return clearTimeout(f),x})()}_push(h,o,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${h}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new pi(this,h,o,l);return this._canPush()?u.send():(u.startTimeout(),this.pushBuffer.push(u)),u}_onMessage(h,o,l){return o}_isMember(h){return this.topic===h}_joinRef(){return this.joinPush.ref}_trigger(h,o,l){var u,m;const f=h.toLocaleLowerCase(),{close:x,error:b,leave:w,join:k}=qe;if(l&&[x,b,w,k].indexOf(f)>=0&&l!==this._joinRef())return;let j=this._onMessage(f,o,l);if(o&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?null===(u=this.bindings.postgres_changes)||void 0===u||u.filter(ne=>{var Y,me,we;return"*"===(null===(Y=ne.filter)||void 0===Y?void 0:Y.event)||(null===(we=null===(me=ne.filter)||void 0===me?void 0:me.event)||void 0===we?void 0:we.toLocaleLowerCase())===f}).map(ne=>ne.callback(j,l)):null===(m=this.bindings[f])||void 0===m||m.filter(ne=>{var Y,me,we,$e,Ke,et;if(["broadcast","presence","postgres_changes"].includes(f)){if("id"in ne){const tt=ne.id,bt=null===(Y=ne.filter)||void 0===Y?void 0:Y.event;return tt&&(null===(me=o.ids)||void 0===me?void 0:me.includes(tt))&&("*"===bt||bt?.toLocaleLowerCase()===(null===(we=o.data)||void 0===we?void 0:we.type.toLocaleLowerCase()))}{const tt=null===(Ke=null===($e=ne?.filter)||void 0===$e?void 0:$e.event)||void 0===Ke?void 0:Ke.toLocaleLowerCase();return"*"===tt||tt===(null===(et=o?.event)||void 0===et?void 0:et.toLocaleLowerCase())}}return ne.type.toLocaleLowerCase()===f}).map(ne=>{if("object"==typeof j&&"ids"in j){const Y=j.data,{schema:me,table:we,commit_timestamp:$e,type:Ke,errors:et}=Y;j=Object.assign(Object.assign({},{schema:me,table:we,commit_timestamp:$e,eventType:Ke,new:{},old:{},errors:et}),this._getPayloadRecords(Y))}ne.callback(j,l)})}_isClosed(){return this.state===Ue.closed}_isJoined(){return this.state===Ue.joined}_isJoining(){return this.state===Ue.joining}_isLeaving(){return this.state===Ue.leaving}_replyEventName(h){return`chan_reply_${h}`}_on(h,o,l){const u=h.toLocaleLowerCase(),m={type:u,filter:o,callback:l};return this.bindings[u]?this.bindings[u].push(m):this.bindings[u]=[m],this}_off(h,o){const l=h.toLocaleLowerCase();return this.bindings[l]=this.bindings[l].filter(u=>{var m;return!((null===(m=u.type)||void 0===m?void 0:m.toLocaleLowerCase())===l&&ni.isEqual(u.filter,o))}),this}static isEqual(h,o){if(Object.keys(h).length!==Object.keys(o).length)return!1;for(const l in h)if(h[l]!==o[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(h){this._on(qe.close,{},h)}_onError(h){this._on(qe.error,{},o=>h(o))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(h=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ue.joining,this.joinPush.resend(h))}_getPayloadRecords(h){const o={new:{},old:{}};return("INSERT"===h.type||"UPDATE"===h.type)&&(o.new=yt(h.columns,h.record)),("UPDATE"===h.type||"DELETE"===h.type)&&(o.old=yt(h.columns,h.old_record)),o}}const Ot=()=>{},It=typeof WebSocket<"u";class nt{constructor(h,o){var u,l=this;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=Be,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Ot,this.conn=null,this.sendBuffer=[],this.serializer=new ii,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=f=>{let x;return x=f||(typeof fetch>"u"?(...b)=>Promise.resolve().then(V.bind(V,6397)).then(({default:w})=>w(...b)):fetch),(...b)=>x(...b)},this.endPoint=`${h}/${lt.websocket}`,this.transport=o?.transport?o.transport:null,o?.params&&(this.params=o.params),o?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),o.headers)),o?.timeout&&(this.timeout=o.timeout),o?.logger&&(this.logger=o.logger),o?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=o.heartbeatIntervalMs);const m=null===(u=o?.params)||void 0===u?void 0:u.apikey;m&&(this.accessToken=m,this.apiKey=m),this.reconnectAfterMs=o?.reconnectAfterMs?o.reconnectAfterMs:f=>[1e3,2e3,5e3,1e4][f-1]||1e4,this.encode=o?.encode?o.encode:(f,x)=>x(JSON.stringify(f)),this.decode=o?.decode?o.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Fi((0,a.Z)(function*(){l.disconnect(),l.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(o?.fetch)}connect(){if(!this.conn){if(this.transport)return void(this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers}));if(It)return this.conn=new WebSocket(this._endPointURL()),void this.setupConnection();this.conn=new fi(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),V.e(144).then(V.t.bind(V,3144,23)).then(({default:h})=>{this.conn=new h(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(h,o){this.conn&&(this.conn.onclose=function(){},h?this.conn.close(h,o??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(h){var o=this;return(0,a.Z)(function*(){const l=yield h.unsubscribe();return 0===o.channels.length&&o.disconnect(),l})()}removeAllChannels(){var h=this;return(0,a.Z)(function*(){const o=yield Promise.all(h.channels.map(l=>l.unsubscribe()));return h.disconnect(),o})()}log(h,o,l){this.logger(h,o,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Dt.connecting:return At.Connecting;case Dt.open:return At.Open;case Dt.closing:return At.Closing;default:return At.Closed}}isConnected(){return this.connectionState()===At.Open}channel(h,o={config:{}}){const l=new ni(`realtime:${h}`,o,this);return this.channels.push(l),l}push(h){const{topic:o,event:l,payload:u,ref:m}=h,f=()=>{this.encode(h,x=>{var b;null===(b=this.conn)||void 0===b||b.send(x)})};this.log("push",`${o} ${l} (${m})`,u),this.isConnected()?f():this.sendBuffer.push(f)}setAuth(h){this.accessToken=h,this.channels.forEach(o=>{h&&o.updateJoinPayload({access_token:h}),o.joinedOnce&&o._isJoined()&&o._push(qe.access_token,{access_token:h})})}_makeRef(){let h=this.ref+1;return this.ref=h===this.ref?0:h,this.ref.toString()}_leaveOpenTopic(h){let o=this.channels.find(l=>l.topic===h&&(l._isJoined()||l._isJoining()));o&&(this.log("transport",`leaving duplicate topic "${h}"`),o.unsubscribe())}_remove(h){this.channels=this.channels.filter(o=>o._joinRef()!==h._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=h=>this._onConnError(h),this.conn.onmessage=h=>this._onConnMessage(h),this.conn.onclose=h=>this._onConnClose(h))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(h){this.decode(h.data,o=>{let{topic:l,event:u,payload:m,ref:f}=o;(f&&f===this.pendingHeartbeatRef||u===m?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${m.status||""} ${l} ${u} ${f&&"("+f+")"||""}`,m),this.channels.filter(x=>x._isMember(l)).forEach(x=>x._trigger(u,m,f)),this.stateChangeCallbacks.message.forEach(x=>x(o))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(h=>h())}_onConnClose(h){this.log("transport","close",h),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(o=>o(h))}_onConnError(h){this.log("transport",h.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(o=>o(h))}_triggerChanError(){this.channels.forEach(h=>h._trigger(qe.error))}_appendParams(h,o){if(0===Object.keys(o).length)return h;const l=h.match(/\?/)?"&":"?";return`${h}${l}${new URLSearchParams(o)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(h=>h()),this.sendBuffer=[])}_sendHeartbeat(){var h;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(h=this.conn)||void 0===h||h.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class fi{constructor(h,o,l){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Dt.connecting,this.send=()=>{},this.url=null,this.url=h,this.close=l.close}}class an extends Error{constructor(h){super(h),this.__isStorageError=!0,this.name="StorageError"}}function Je(p){return"object"==typeof p&&null!==p&&"__isStorageError"in p}class Mi extends an{constructor(h,o){super(h),this.name="StorageApiError",this.status=o}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class rn extends an{constructor(h,o){super(h),this.name="StorageUnknownError",this.originalError=o}}const Nn=p=>{let h;return h=p||(typeof fetch>"u"?(...o)=>Promise.resolve().then(V.bind(V,6397)).then(({default:l})=>l(...o)):fetch),(...o)=>h(...o)};var _i=function(p,h,o,l){return new(o||(o=Promise))(function(m,f){function x(k){try{w(l.next(k))}catch(O){f(O)}}function b(k){try{w(l.throw(k))}catch(O){f(O)}}function w(k){k.done?m(k.value):function u(m){return m instanceof o?m:new o(function(f){f(m)})}(k.value).then(x,b)}w((l=l.apply(p,h||[])).next())})};const ln=p=>p.msg||p.message||p.error_description||p.error||JSON.stringify(p),ms=(p,h)=>_i(void 0,void 0,void 0,function*(){const o=yield function(p,h,o,l){return new(o||(o=Promise))(function(m,f){function x(k){try{w(l.next(k))}catch(O){f(O)}}function b(k){try{w(l.throw(k))}catch(O){f(O)}}function w(k){k.done?m(k.value):function u(m){return m instanceof o?m:new o(function(f){f(m)})}(k.value).then(x,b)}w((l=l.apply(p,h||[])).next())})}(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(V.bind(V,6397))).Response:Response});p instanceof o?p.json().then(l=>{h(new Mi(ln(l),p.status||500))}).catch(l=>{h(new rn(ln(l),l))}):h(new rn(ln(p),p))}),ps=(p,h,o,l)=>{const u={method:p,headers:h?.headers||{}};return"GET"===p?u:(u.headers=Object.assign({"Content-Type":"application/json"},h?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),o))};function Pt(p,h,o,l,u,m){return _i(this,void 0,void 0,function*(){return new Promise((f,x)=>{p(o,ps(h,l,u,m)).then(b=>{if(!b.ok)throw b;return l?.noResolveJson?b:b.json()}).then(b=>f(b)).catch(b=>ms(b,x))})})}function Yi(p,h,o,l){return _i(this,void 0,void 0,function*(){return Pt(p,"GET",h,o,l)})}function Bt(p,h,o,l,u){return _i(this,void 0,void 0,function*(){return Pt(p,"POST",h,l,u,o)})}function zn(p,h,o,l,u){return _i(this,void 0,void 0,function*(){return Pt(p,"PUT",h,l,u,o)})}function Gn(p,h,o,l,u){return _i(this,void 0,void 0,function*(){return Pt(p,"DELETE",h,l,u,o)})}var gt=function(p,h,o,l){return new(o||(o=Promise))(function(m,f){function x(k){try{w(l.next(k))}catch(O){f(O)}}function b(k){try{w(l.throw(k))}catch(O){f(O)}}function w(k){k.done?m(k.value):function u(m){return m instanceof o?m:new o(function(f){f(m)})}(k.value).then(x,b)}w((l=l.apply(p,h||[])).next())})};const cn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Oi={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ii{constructor(h,o={},l,u){this.url=h,this.headers=o,this.bucketId=l,this.fetch=Nn(u)}uploadOrUpdate(h,o,l,u){return gt(this,void 0,void 0,function*(){try{let m;const f=Object.assign(Object.assign({},Oi),u),x=Object.assign(Object.assign({},this.headers),"POST"===h&&{"x-upsert":String(f.upsert)});typeof Blob<"u"&&l instanceof Blob?(m=new FormData,m.append("cacheControl",f.cacheControl),m.append("",l)):typeof FormData<"u"&&l instanceof FormData?(m=l,m.append("cacheControl",f.cacheControl)):(m=l,x["cache-control"]=`max-age=${f.cacheControl}`,x["content-type"]=f.contentType);const b=this._removeEmptyFolders(o),w=this._getFinalPath(b),k=yield this.fetch(`${this.url}/object/${w}`,Object.assign({method:h,body:m,headers:x},f?.duplex?{duplex:f.duplex}:{})),O=yield k.json();return k.ok?{data:{path:b,id:O.Id,fullPath:O.Key},error:null}:{data:null,error:O}}catch(m){if(Je(m))return{data:null,error:m};throw m}})}upload(h,o,l){return gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",h,o,l)})}uploadToSignedUrl(h,o,l,u){return gt(this,void 0,void 0,function*(){const m=this._removeEmptyFolders(h),f=this._getFinalPath(m),x=new URL(this.url+`/object/upload/sign/${f}`);x.searchParams.set("token",o);try{let b;const w=Object.assign({upsert:Oi.upsert},u),k=Object.assign(Object.assign({},this.headers),{"x-upsert":String(w.upsert)});typeof Blob<"u"&&l instanceof Blob?(b=new FormData,b.append("cacheControl",w.cacheControl),b.append("",l)):typeof FormData<"u"&&l instanceof FormData?(b=l,b.append("cacheControl",w.cacheControl)):(b=l,k["cache-control"]=`max-age=${w.cacheControl}`,k["content-type"]=w.contentType);const O=yield this.fetch(x.toString(),{method:"PUT",body:b,headers:k}),j=yield O.json();return O.ok?{data:{path:m,fullPath:j.Key},error:null}:{data:null,error:j}}catch(b){if(Je(b))return{data:null,error:b};throw b}})}createSignedUploadUrl(h){return gt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(h);const l=yield Bt(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:this.headers}),u=new URL(this.url+l.url),m=u.searchParams.get("token");if(!m)throw new an("No token returned by API");return{data:{signedUrl:u.toString(),path:h,token:m},error:null}}catch(o){if(Je(o))return{data:null,error:o};throw o}})}update(h,o,l){return gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",h,o,l)})}move(h,o){return gt(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:h,destinationKey:o},{headers:this.headers}),error:null}}catch(l){if(Je(l))return{data:null,error:l};throw l}})}copy(h,o){return gt(this,void 0,void 0,function*(){try{return{data:{path:(yield Bt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:h,destinationKey:o},{headers:this.headers})).Key},error:null}}catch(l){if(Je(l))return{data:null,error:l};throw l}})}createSignedUrl(h,o,l){return gt(this,void 0,void 0,function*(){try{let u=this._getFinalPath(h),m=yield Bt(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:o},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const f=l?.download?`&download=${!0===l.download?"":l.download}`:"";return m={signedUrl:encodeURI(`${this.url}${m.signedURL}${f}`)},{data:m,error:null}}catch(u){if(Je(u))return{data:null,error:u};throw u}})}createSignedUrls(h,o,l){return gt(this,void 0,void 0,function*(){try{const u=yield Bt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:o,paths:h},{headers:this.headers}),m=l?.download?`&download=${!0===l.download?"":l.download}`:"";return{data:u.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${m}`):null})),error:null}}catch(u){if(Je(u))return{data:null,error:u};throw u}})}download(h,o){return gt(this,void 0,void 0,function*(){const u=typeof o?.transform<"u"?"render/image/authenticated":"object",m=this.transformOptsToQueryString(o?.transform||{}),f=m?`?${m}`:"";try{const x=this._getFinalPath(h);return{data:yield(yield Yi(this.fetch,`${this.url}/${u}/${x}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(x){if(Je(x))return{data:null,error:x};throw x}})}getPublicUrl(h,o){const l=this._getFinalPath(h),u=[],m=o?.download?`download=${!0===o.download?"":o.download}`:"";""!==m&&u.push(m);const x=typeof o?.transform<"u"?"render/image":"object",b=this.transformOptsToQueryString(o?.transform||{});""!==b&&u.push(b);let w=u.join("&");return""!==w&&(w=`?${w}`),{data:{publicUrl:encodeURI(`${this.url}/${x}/public/${l}${w}`)}}}remove(h){return gt(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:h},{headers:this.headers}),error:null}}catch(o){if(Je(o))return{data:null,error:o};throw o}})}list(h,o,l){return gt(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},cn),o),{prefix:h||""});return{data:yield Bt(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},l),error:null}}catch(u){if(Je(u))return{data:null,error:u};throw u}})}_getFinalPath(h){return`${this.bucketId}/${h}`}_removeEmptyFolders(h){return h.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(h){const o=[];return h.width&&o.push(`width=${h.width}`),h.height&&o.push(`height=${h.height}`),h.resize&&o.push(`resize=${h.resize}`),h.format&&o.push(`format=${h.format}`),h.quality&&o.push(`quality=${h.quality}`),o.join("&")}}const Xn={"X-Client-Info":"storage-js/2.5.5"};var si=function(p,h,o,l){return new(o||(o=Promise))(function(m,f){function x(k){try{w(l.next(k))}catch(O){f(O)}}function b(k){try{w(l.throw(k))}catch(O){f(O)}}function w(k){k.done?m(k.value):function u(m){return m instanceof o?m:new o(function(f){f(m)})}(k.value).then(x,b)}w((l=l.apply(p,h||[])).next())})};class hn{constructor(h,o={},l){this.url=h,this.headers=Object.assign(Object.assign({},Xn),o),this.fetch=Nn(l)}listBuckets(){return si(this,void 0,void 0,function*(){try{return{data:yield Yi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(h){if(Je(h))return{data:null,error:h};throw h}})}getBucket(h){return si(this,void 0,void 0,function*(){try{return{data:yield Yi(this.fetch,`${this.url}/bucket/${h}`,{headers:this.headers}),error:null}}catch(o){if(Je(o))return{data:null,error:o};throw o}})}createBucket(h,o={public:!1}){return si(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/bucket`,{id:h,name:h,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(Je(l))return{data:null,error:l};throw l}})}updateBucket(h,o){return si(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,`${this.url}/bucket/${h}`,{id:h,name:h,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(Je(l))return{data:null,error:l};throw l}})}emptyBucket(h){return si(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/bucket/${h}/empty`,{},{headers:this.headers}),error:null}}catch(o){if(Je(o))return{data:null,error:o};throw o}})}deleteBucket(h){return si(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/bucket/${h}`,{},{headers:this.headers}),error:null}}catch(o){if(Je(o))return{data:null,error:o};throw o}})}}class dn extends hn{constructor(h,o={},l){super(h,o,l)}from(h){return new Ii(this.url,this.headers,h,this.fetch)}}let xi="";xi=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const ai={headers:{"X-Client-Info":`supabase-js-${xi}/2.39.7`}},ri={schema:"public"},gs={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fs={};const vs=(p,h,o)=>{const l=(p=>{let h;return h=p||(typeof fetch>"u"?G.default:fetch),(...o)=>h(...o)})(o),u=typeof Headers>"u"?G.Headers:Headers;return(m,f)=>function(p,h,o,l){return new(o||(o=Promise))(function(m,f){function x(k){try{w(l.next(k))}catch(O){f(O)}}function b(k){try{w(l.throw(k))}catch(O){f(O)}}function w(k){k.done?m(k.value):function u(m){return m instanceof o?m:new o(function(f){f(m)})}(k.value).then(x,b)}w((l=l.apply(p,h||[])).next())})}(void 0,void 0,void 0,function*(){var x;const b=null!==(x=yield h())&&void 0!==x?x:p;let w=new u(f?.headers);return w.has("apikey")||w.set("apikey",p),w.has("Authorization")||w.set("Authorization",`Bearer ${b}`),l(m,Object.assign(Object.assign({},f),{headers:w}))})},Tt=()=>typeof document<"u",Xt={tested:!1,writable:!1},Gt=()=>{if(!Tt())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(Xt.tested)return Xt.writable;const p=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(p,p),globalThis.localStorage.removeItem(p),Xt.tested=!0,Xt.writable=!0}catch{Xt.tested=!0,Xt.writable=!1}return Xt.writable};function Xi(p){const h={},o=new URL(p);if(o.hash&&"#"===o.hash[0])try{new URLSearchParams(o.hash.substring(1)).forEach((u,m)=>{h[m]=u})}catch{}return o.searchParams.forEach((l,u)=>{h[u]=l}),h}const oi=p=>{let h;return h=p||(typeof fetch>"u"?(...o)=>Promise.resolve().then(V.bind(V,6397)).then(({default:l})=>l(...o)):fetch),(...o)=>h(...o)},mn=p=>"object"==typeof p&&null!==p&&"status"in p&&"ok"in p&&"json"in p&&"function"==typeof p.json,Wt=function(){var p=(0,a.Z)(function*(h,o,l){yield h.setItem(o,JSON.stringify(l))});return function(o,l,u){return p.apply(this,arguments)}}(),vi=function(){var p=(0,a.Z)(function*(h,o){const l=yield h.getItem(o);if(!l)return null;try{return JSON.parse(l)}catch{return l}});return function(o,l){return p.apply(this,arguments)}}(),Pi=function(){var p=(0,a.Z)(function*(h,o){yield h.removeItem(o)});return function(o,l){return p.apply(this,arguments)}}();class jt{constructor(){this.promise=new jt.promiseConstructor((h,o)=>{this.resolve=h,this.reject=o})}}function pn(p){const o=p.split(".");if(3!==o.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(o[1]))throw new Error("JWT is not valid: payload is not in base64url format");return JSON.parse(function Ut(p){const h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let l,u,m,f,x,b,w,o="",k=0;for(p=p.replace("-","+").replace("_","/");k<p.length;)f=h.indexOf(p.charAt(k++)),x=h.indexOf(p.charAt(k++)),b=h.indexOf(p.charAt(k++)),w=h.indexOf(p.charAt(k++)),l=f<<2|x>>4,u=(15&x)<<4|b>>2,m=(3&b)<<6|w,o+=String.fromCharCode(l),64!=b&&0!=u&&(o+=String.fromCharCode(u)),64!=w&&0!=m&&(o+=String.fromCharCode(m));return o}(o[1]))}function li(){return(li=(0,a.Z)(function*(p){return yield new Promise(h=>{setTimeout(()=>h(null),p)})})).apply(this,arguments)}function Zn(p){return("0"+p.toString(16)).substr(-2)}function ci(){const h=new Uint32Array(56);if(typeof crypto>"u"){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=o.length;let u="";for(let m=0;m<56;m++)u+=o.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(h),Array.from(h,Zn).join("")}function st(){return(st=(0,a.Z)(function*(p){const o=(new TextEncoder).encode(p),l=yield crypto.subtle.digest("SHA-256",o),u=new Uint8Array(l);return Array.from(u).map(m=>String.fromCharCode(m)).join("")})).apply(this,arguments)}function Zt(p){return qt.apply(this,arguments)}function qt(){return qt=(0,a.Z)(function*(p){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),p;const o=yield function fn(p){return st.apply(this,arguments)}(p);return function _n(p){return btoa(p).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}(o)}),qt.apply(this,arguments)}jt.promiseConstructor=Promise;class ct extends Error{constructor(h,o){super(h),this.__isAuthError=!0,this.name="AuthError",this.status=o}}function ve(p){return"object"==typeof p&&null!==p&&"__isAuthError"in p}class xn extends ct{constructor(h,o){super(h,o),this.name="AuthApiError",this.status=o}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class T extends ct{constructor(h,o){super(h),this.name="AuthUnknownError",this.originalError=o}}class v extends ct{constructor(h,o,l){super(h),this.name=o,this.status=l}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class S extends v{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class E extends v{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class I extends v{constructor(h){super(h,"AuthInvalidCredentialsError",400)}}class N extends v{constructor(h,o=null){super(h,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class de extends v{constructor(h,o=null){super(h,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class he extends v{constructor(h,o){super(h,"AuthRetryableFetchError",o)}}function Re(p){return ve(p)&&"AuthRetryableFetchError"===p.name}class mt extends v{constructor(h,o,l){super(h,"AuthWeakPasswordError",o),this.reasons=l}}var ft=function(p,h){var o={};for(var l in p)Object.prototype.hasOwnProperty.call(p,l)&&h.indexOf(l)<0&&(o[l]=p[l]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(l=Object.getOwnPropertySymbols(p);u<l.length;u++)h.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(p,l[u])&&(o[l[u]]=p[l[u]])}return o};const Qe=p=>p.msg||p.message||p.error_description||p.error||JSON.stringify(p),Rt=[502,503,504];function hi(p){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,a.Z)(function*(p){if(!mn(p))throw new he(Qe(p),0);if(Rt.includes(p.status))throw new he(Qe(p),p.status);let h;try{h=yield p.json()}catch(o){throw new T(Qe(o),o)}throw"object"==typeof h&&h&&"object"==typeof h.weak_password&&h.weak_password&&Array.isArray(h.weak_password.reasons)&&h.weak_password.reasons.length&&h.weak_password.reasons.reduce((o,l)=>o&&"string"==typeof l,!0)?new mt(Qe(h),p.status,h.weak_password.reasons):new xn(Qe(h),p.status||500)})).apply(this,arguments)}const Bi=(p,h,o,l)=>{const u={method:p,headers:h?.headers||{}};return"GET"===p?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},h?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),o))};function ge(p,h,o,l){return vn.apply(this,arguments)}function vn(){return vn=(0,a.Z)(function*(p,h,o,l){var u;const m=Object.assign({},l?.headers);l?.jwt&&(m.Authorization=`Bearer ${l.jwt}`);const f=null!==(u=l?.query)&&void 0!==u?u:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const x=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",b=yield function Cs(p,h,o,l,u,m){return qn.apply(this,arguments)}(p,h,o+x,{headers:m,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(b):{data:Object.assign({},b),error:null}}),vn.apply(this,arguments)}function qn(){return(qn=(0,a.Z)(function*(p,h,o,l,u,m){const f=Bi(h,l,u,m);let x;try{x=yield p(o,f)}catch(b){throw console.error(b),new he(Qe(b),0)}if(x.ok||(yield hi(x)),l?.noResolveJson)return x;try{return yield x.json()}catch(b){yield hi(b)}})).apply(this,arguments)}function yi(p){var h;let o=null;return function ea(p){return p.access_token&&p.refresh_token&&p.expires_in}(p)&&(o=Object.assign({},p),p.expires_at||(o.expires_at=function Ts(p){return Math.round(Date.now()/1e3)+p}(p.expires_in))),{data:{session:o,user:null!==(h=p.user)&&void 0!==h?h:p},error:null}}function ws(p){const h=yi(p);return!h.error&&p.weak_password&&"object"==typeof p.weak_password&&Array.isArray(p.weak_password.reasons)&&p.weak_password.reasons.length&&p.weak_password.message&&"string"==typeof p.weak_password.message&&p.weak_password.reasons.reduce((o,l)=>o&&"string"==typeof l,!0)&&(h.data.weak_password=p.weak_password),h}function di(p){var h;return{data:{user:null!==(h=p.user)&&void 0!==h?h:p},error:null}}function Ks(p){return{data:p,error:null}}function Ss(p){const{action_link:h,email_otp:o,hashed_token:l,redirect_to:u,verification_type:m}=p,f=ft(p,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:h,email_otp:o,hashed_token:l,redirect_to:u,verification_type:m},user:Object.assign({},f)},error:null}}function ks(p){return p}class As{constructor({url:h="",headers:o={},fetch:l}){this.url=h,this.headers=o,this.fetch=oi(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(h,o="global"){var l=this;return(0,a.Z)(function*(){try{return yield ge(l.fetch,"POST",`${l.url}/logout?scope=${o}`,{headers:l.headers,jwt:h,noResolveJson:!0}),{data:null,error:null}}catch(u){if(ve(u))return{data:null,error:u};throw u}})()}inviteUserByEmail(h,o={}){var l=this;return(0,a.Z)(function*(){try{return yield ge(l.fetch,"POST",`${l.url}/invite`,{body:{email:h,data:o.data},headers:l.headers,redirectTo:o.redirectTo,xform:di})}catch(u){if(ve(u))return{data:{user:null},error:u};throw u}})()}generateLink(h){var o=this;return(0,a.Z)(function*(){try{const{options:l}=h,u=function(p,h){var o={};for(var l in p)Object.prototype.hasOwnProperty.call(p,l)&&h.indexOf(l)<0&&(o[l]=p[l]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(l=Object.getOwnPropertySymbols(p);u<l.length;u++)h.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(p,l[u])&&(o[l[u]]=p[l[u]])}return o}(h,["options"]),m=Object.assign(Object.assign({},u),l);return"newEmail"in u&&(m.new_email=u?.newEmail,delete m.newEmail),yield ge(o.fetch,"POST",`${o.url}/admin/generate_link`,{body:m,headers:o.headers,xform:Ss,redirectTo:l?.redirectTo})}catch(l){if(ve(l))return{data:{properties:null,user:null},error:l};throw l}})()}createUser(h){var o=this;return(0,a.Z)(function*(){try{return yield ge(o.fetch,"POST",`${o.url}/admin/users`,{body:h,headers:o.headers,xform:di})}catch(l){if(ve(l))return{data:{user:null},error:l};throw l}})()}listUsers(h){var o=this;return(0,a.Z)(function*(){var l,u,m,f,x,b,w;try{const k={nextPage:null,lastPage:0,total:0},O=yield ge(o.fetch,"GET",`${o.url}/admin/users`,{headers:o.headers,noResolveJson:!0,query:{page:null!==(u=null===(l=h?.page)||void 0===l?void 0:l.toString())&&void 0!==u?u:"",per_page:null!==(f=null===(m=h?.perPage)||void 0===m?void 0:m.toString())&&void 0!==f?f:""},xform:ks});if(O.error)throw O.error;const j=yield O.json(),ne=null!==(x=O.headers.get("x-total-count"))&&void 0!==x?x:0,Y=null!==(w=null===(b=O.headers.get("link"))||void 0===b?void 0:b.split(","))&&void 0!==w?w:[];return Y.length>0&&(Y.forEach(me=>{const we=parseInt(me.split(";")[0].split("=")[1].substring(0,1)),$e=JSON.parse(me.split(";")[1].split("=")[1]);k[`${$e}Page`]=we}),k.total=parseInt(ne)),{data:Object.assign(Object.assign({},j),k),error:null}}catch(k){if(ve(k))return{data:{users:[]},error:k};throw k}})()}getUserById(h){var o=this;return(0,a.Z)(function*(){try{return yield ge(o.fetch,"GET",`${o.url}/admin/users/${h}`,{headers:o.headers,xform:di})}catch(l){if(ve(l))return{data:{user:null},error:l};throw l}})()}updateUserById(h,o){var l=this;return(0,a.Z)(function*(){try{return yield ge(l.fetch,"PUT",`${l.url}/admin/users/${h}`,{body:o,headers:l.headers,xform:di})}catch(u){if(ve(u))return{data:{user:null},error:u};throw u}})()}deleteUser(h,o=!1){var l=this;return(0,a.Z)(function*(){try{return yield ge(l.fetch,"DELETE",`${l.url}/admin/users/${h}`,{headers:l.headers,body:{should_soft_delete:o},xform:di})}catch(u){if(ve(u))return{data:{user:null},error:u};throw u}})()}_listFactors(h){var o=this;return(0,a.Z)(function*(){try{const{data:l,error:u}=yield ge(o.fetch,"GET",`${o.url}/admin/users/${h.userId}/factors`,{headers:o.headers,xform:m=>({data:{factors:m},error:null})});return{data:l,error:u}}catch(l){if(ve(l))return{data:null,error:l};throw l}})()}_deleteFactor(h){var o=this;return(0,a.Z)(function*(){try{return{data:yield ge(o.fetch,"DELETE",`${o.url}/admin/users/${h.userId}/factors/${h.id}`,{headers:o.headers}),error:null}}catch(l){if(ve(l))return{data:null,error:l};throw l}})()}}const na={getItem:p=>Gt()?globalThis.localStorage.getItem(p):null,setItem:(p,h)=>{Gt()&&globalThis.localStorage.setItem(p,h)},removeItem:p=>{Gt()&&globalThis.localStorage.removeItem(p)}};function Jn(p={}){return{getItem:h=>p[h]||null,setItem:(h,o)=>{p[h]=o},removeItem:h=>{delete p[h]}}}globalThis&&Gt()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug");class Ti extends Error{constructor(h){super(h),this.isAcquireTimeout=!0}}!function bn(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const Vt={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.61.0"},flowType:"implicit",debug:!1},Ri=3e4;function Kn(p,h,o){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,a.Z)(function*(p,h,o){return yield o()})).apply(this,arguments)}let aa=(()=>{class p{constructor(o){var u,l=this;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=p.nextInstanceID,p.nextInstanceID+=1,this.instanceID>0&&Tt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const m=Object.assign(Object.assign({},Vt),o);if(this.logDebugMessages=!!m.debug,"function"==typeof m.debug&&(this.logger=m.debug),this.persistSession=m.persistSession,this.storageKey=m.storageKey,this.autoRefreshToken=m.autoRefreshToken,this.admin=new As({url:m.url,headers:m.headers,fetch:m.fetch}),this.url=m.url,this.headers=m.headers,this.fetch=oi(m.fetch),this.lock=m.lock||Kn,this.detectSessionInUrl=m.detectSessionInUrl,this.flowType=m.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?m.storage?this.storage=m.storage:Gt()?this.storage=na:(this.memoryStorage={},this.storage=Jn(this.memoryStorage)):(this.memoryStorage={},this.storage=Jn(this.memoryStorage)),Tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}null===(u=this.broadcastChannel)||void 0===u||u.addEventListener("message",function(){var f=(0,a.Z)(function*(x){l._debug("received broadcast notification from other tab or client",x),yield l._notifyAllSubscribers(x.data.event,x.data.session,!1)});return function(x){return f.apply(this,arguments)}}())}this.initialize()}_debug(...o){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (2.61.0) ${(new Date).toISOString()}`,...o),this}initialize(){var o=this;return(0,a.Z)(function*(){return o.initializePromise||(o.initializePromise=(0,a.Z)(function*(){return yield o._acquireLock(-1,(0,a.Z)(function*(){return yield o._initialize()}))})()),yield o.initializePromise})()}_initialize(){var o=this;return(0,a.Z)(function*(){try{const l=!!Tt()&&(yield o._isPKCEFlow());if(o._debug("#_initialize()","begin","is PKCE flow",l),l||o.detectSessionInUrl&&o._isImplicitGrantFlow()){const{data:u,error:m}=yield o._getSessionFromURL(l);if(m)return o._debug("#_initialize()","error detecting session from URL",m),"Identity is already linked"===m?.message||"Identity is already linked to another user"===m?.message||(yield o._removeSession()),{error:m};const{session:f,redirectType:x}=u;return o._debug("#_initialize()","detected session in URL",f,"redirect type",x),yield o._saveSession(f),setTimeout((0,a.Z)(function*(){"recovery"===x?yield o._notifyAllSubscribers("PASSWORD_RECOVERY",f):yield o._notifyAllSubscribers("SIGNED_IN",f)}),0),{error:null}}return yield o._recoverAndRefresh(),{error:null}}catch(l){return ve(l)?{error:l}:{error:new T("Unexpected error during initialization",l)}}finally{yield o._handleVisibilityChange(),o._debug("#_initialize()","end")}})()}signUp(o){var l=this;return(0,a.Z)(function*(){var u,m,f;try{let x;if(yield l._removeSession(),"email"in o){const{email:j,password:ne,options:Y}=o;let me=null,we=null;if("pkce"===l.flowType){const $e=ci();yield Wt(l.storage,`${l.storageKey}-code-verifier`,$e),me=yield Zt($e),we=$e===me?"plain":"s256"}x=yield ge(l.fetch,"POST",`${l.url}/signup`,{headers:l.headers,redirectTo:Y?.emailRedirectTo,body:{email:j,password:ne,data:null!==(u=Y?.data)&&void 0!==u?u:{},gotrue_meta_security:{captcha_token:Y?.captchaToken},code_challenge:me,code_challenge_method:we},xform:yi})}else{if(!("phone"in o))throw new I("You must provide either an email or phone number and a password");{const{phone:j,password:ne,options:Y}=o;x=yield ge(l.fetch,"POST",`${l.url}/signup`,{headers:l.headers,body:{phone:j,password:ne,data:null!==(m=Y?.data)&&void 0!==m?m:{},channel:null!==(f=Y?.channel)&&void 0!==f?f:"sms",gotrue_meta_security:{captcha_token:Y?.captchaToken}},xform:yi})}}const{data:b,error:w}=x;if(w||!b)return{data:{user:null,session:null},error:w};const k=b.session,O=b.user;return b.session&&(yield l._saveSession(b.session),yield l._notifyAllSubscribers("SIGNED_IN",k)),{data:{user:O,session:k},error:null}}catch(x){if(ve(x))return{data:{user:null,session:null},error:x};throw x}})()}signInWithPassword(o){var l=this;return(0,a.Z)(function*(){try{let u;if(yield l._removeSession(),"email"in o){const{email:x,password:b,options:w}=o;u=yield ge(l.fetch,"POST",`${l.url}/token?grant_type=password`,{headers:l.headers,body:{email:x,password:b,gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:ws})}else{if(!("phone"in o))throw new I("You must provide either an email or phone number and a password");{const{phone:x,password:b,options:w}=o;u=yield ge(l.fetch,"POST",`${l.url}/token?grant_type=password`,{headers:l.headers,body:{phone:x,password:b,gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:ws})}}const{data:m,error:f}=u;return f?{data:{user:null,session:null},error:f}:m&&m.session&&m.user?(m.session&&(yield l._saveSession(m.session),yield l._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({user:m.user,session:m.session},m.weak_password?{weakPassword:m.weak_password}:null),error:f}):{data:{user:null,session:null},error:new E}}catch(u){if(ve(u))return{data:{user:null,session:null},error:u};throw u}})()}signInWithOAuth(o){var l=this;return(0,a.Z)(function*(){var u,m,f,x;return yield l._removeSession(),yield l._handleProviderSignIn(o.provider,{redirectTo:null===(u=o.options)||void 0===u?void 0:u.redirectTo,scopes:null===(m=o.options)||void 0===m?void 0:m.scopes,queryParams:null===(f=o.options)||void 0===f?void 0:f.queryParams,skipBrowserRedirect:null===(x=o.options)||void 0===x?void 0:x.skipBrowserRedirect})})()}exchangeCodeForSession(o){var l=this;return(0,a.Z)(function*(){return yield l.initializePromise,l._acquireLock(-1,(0,a.Z)(function*(){return l._exchangeCodeForSession(o)}))})()}_exchangeCodeForSession(o){var l=this;return(0,a.Z)(function*(){const u=yield vi(l.storage,`${l.storageKey}-code-verifier`),[m,f]=(u??"").split("/"),{data:x,error:b}=yield ge(l.fetch,"POST",`${l.url}/token?grant_type=pkce`,{headers:l.headers,body:{auth_code:o,code_verifier:m},xform:yi});return yield Pi(l.storage,`${l.storageKey}-code-verifier`),b?{data:{user:null,session:null,redirectType:null},error:b}:x&&x.session&&x.user?(x.session&&(yield l._saveSession(x.session),yield l._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign(Object.assign({},x),{redirectType:f??null}),error:b}):{data:{user:null,session:null,redirectType:null},error:new E}})()}signInWithIdToken(o){var l=this;return(0,a.Z)(function*(){yield l._removeSession();try{const{options:u,provider:m,token:f,access_token:x,nonce:b}=o,w=yield ge(l.fetch,"POST",`${l.url}/token?grant_type=id_token`,{headers:l.headers,body:{provider:m,id_token:f,access_token:x,nonce:b,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:yi}),{data:k,error:O}=w;return O?{data:{user:null,session:null},error:O}:k&&k.session&&k.user?(k.session&&(yield l._saveSession(k.session),yield l._notifyAllSubscribers("SIGNED_IN",k.session)),{data:k,error:O}):{data:{user:null,session:null},error:new E}}catch(u){if(ve(u))return{data:{user:null,session:null},error:u};throw u}})()}signInWithOtp(o){var l=this;return(0,a.Z)(function*(){var u,m,f,x,b;try{if(yield l._removeSession(),"email"in o){const{email:w,options:k}=o;let O=null,j=null;if("pkce"===l.flowType){const Y=ci();yield Wt(l.storage,`${l.storageKey}-code-verifier`,Y),O=yield Zt(Y),j=Y===O?"plain":"s256"}const{error:ne}=yield ge(l.fetch,"POST",`${l.url}/otp`,{headers:l.headers,body:{email:w,data:null!==(u=k?.data)&&void 0!==u?u:{},create_user:null===(m=k?.shouldCreateUser)||void 0===m||m,gotrue_meta_security:{captcha_token:k?.captchaToken},code_challenge:O,code_challenge_method:j},redirectTo:k?.emailRedirectTo});return{data:{user:null,session:null},error:ne}}if("phone"in o){const{phone:w,options:k}=o,{data:O,error:j}=yield ge(l.fetch,"POST",`${l.url}/otp`,{headers:l.headers,body:{phone:w,data:null!==(f=k?.data)&&void 0!==f?f:{},create_user:null===(x=k?.shouldCreateUser)||void 0===x||x,gotrue_meta_security:{captcha_token:k?.captchaToken},channel:null!==(b=k?.channel)&&void 0!==b?b:"sms"}});return{data:{user:null,session:null,messageId:O?.message_id},error:j}}throw new I("You must provide either an email or phone number.")}catch(w){if(ve(w))return{data:{user:null,session:null},error:w};throw w}})()}verifyOtp(o){var l=this;return(0,a.Z)(function*(){var u,m;try{let f,x;"email_change"!==o.type&&"phone_change"!==o.type&&(yield l._removeSession()),"options"in o&&(f=null===(u=o.options)||void 0===u?void 0:u.redirectTo,x=null===(m=o.options)||void 0===m?void 0:m.captchaToken);const{data:b,error:w}=yield ge(l.fetch,"POST",`${l.url}/verify`,{headers:l.headers,body:Object.assign(Object.assign({},o),{gotrue_meta_security:{captcha_token:x}}),redirectTo:f,xform:yi});if(w)throw w;if(!b)throw new Error("An error occurred on token verification.");const k=b.session,O=b.user;return k?.access_token&&(yield l._saveSession(k),yield l._notifyAllSubscribers("SIGNED_IN",k)),{data:{user:O,session:k},error:null}}catch(f){if(ve(f))return{data:{user:null,session:null},error:f};throw f}})()}signInWithSSO(o){var l=this;return(0,a.Z)(function*(){var u,m,f;try{yield l._removeSession();let x=null,b=null;if("pkce"===l.flowType){const w=ci();yield Wt(l.storage,`${l.storageKey}-code-verifier`,w),x=yield Zt(w),b=w===x?"plain":"s256"}return yield ge(l.fetch,"POST",`${l.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in o?{provider_id:o.providerId}:null),"domain"in o?{domain:o.domain}:null),{redirect_to:null!==(m=null===(u=o.options)||void 0===u?void 0:u.redirectTo)&&void 0!==m?m:void 0}),null!==(f=o?.options)&&void 0!==f&&f.captchaToken?{gotrue_meta_security:{captcha_token:o.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:x,code_challenge_method:b}),headers:l.headers,xform:Ks})}catch(x){if(ve(x))return{data:null,error:x};throw x}})()}reauthenticate(){var o=this;return(0,a.Z)(function*(){return yield o.initializePromise,yield o._acquireLock(-1,(0,a.Z)(function*(){return yield o._reauthenticate()}))})()}_reauthenticate(){var o=this;return(0,a.Z)(function*(){try{return yield o._useSession(function(){var l=(0,a.Z)(function*(u){const{data:{session:m},error:f}=u;if(f)throw f;if(!m)throw new S;const{error:x}=yield ge(o.fetch,"GET",`${o.url}/reauthenticate`,{headers:o.headers,jwt:m.access_token});return{data:{user:null,session:null},error:x}});return function(u){return l.apply(this,arguments)}}())}catch(l){if(ve(l))return{data:{user:null,session:null},error:l};throw l}})()}resend(o){var l=this;return(0,a.Z)(function*(){try{"email_change"!=o.type&&"phone_change"!=o.type&&(yield l._removeSession());const u=`${l.url}/resend`;if("email"in o){const{email:m,type:f,options:x}=o,{error:b}=yield ge(l.fetch,"POST",u,{headers:l.headers,body:{email:m,type:f,gotrue_meta_security:{captcha_token:x?.captchaToken}},redirectTo:x?.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in o){const{phone:m,type:f,options:x}=o,{data:b,error:w}=yield ge(l.fetch,"POST",u,{headers:l.headers,body:{phone:m,type:f,gotrue_meta_security:{captcha_token:x?.captchaToken}}});return{data:{user:null,session:null,messageId:b?.message_id},error:w}}throw new I("You must provide either an email or phone number and a type")}catch(u){if(ve(u))return{data:{user:null,session:null},error:u};throw u}})()}getSession(){var o=this;return(0,a.Z)(function*(){return yield o.initializePromise,o._acquireLock(-1,(0,a.Z)(function*(){return o._useSession(function(){var l=(0,a.Z)(function*(u){return u});return function(u){return l.apply(this,arguments)}}())}))})()}_acquireLock(o,l){var u=this;return(0,a.Z)(function*(){u._debug("#_acquireLock","begin",o);try{if(u.lockAcquired){const m=u.pendingInLock.length?u.pendingInLock[u.pendingInLock.length-1]:Promise.resolve(),f=(0,a.Z)(function*(){return yield m,yield l()})();return u.pendingInLock.push((0,a.Z)(function*(){try{yield f}catch{}})()),f}return yield u.lock(`lock:${u.storageKey}`,o,(0,a.Z)(function*(){u._debug("#_acquireLock","lock acquired for storage key",u.storageKey);try{u.lockAcquired=!0;const m=l();for(u.pendingInLock.push((0,a.Z)(function*(){try{yield m}catch{}})()),yield m;u.pendingInLock.length;){const f=[...u.pendingInLock];yield Promise.all(f),u.pendingInLock.splice(0,f.length)}return yield m}finally{u._debug("#_acquireLock","lock released for storage key",u.storageKey),u.lockAcquired=!1}}))}finally{u._debug("#_acquireLock","end")}})()}_useSession(o){var l=this;return(0,a.Z)(function*(){l._debug("#_useSession","begin");try{const u=yield l.__loadSession();return yield o(u)}finally{l._debug("#_useSession","end")}})()}__loadSession(){var o=this;return(0,a.Z)(function*(){o._debug("#__loadSession()","begin"),o.lockAcquired||o._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let l=null;const u=yield vi(o.storage,o.storageKey);if(o._debug("#getSession()","session from storage",u),null!==u&&(o._isValidSession(u)?l=u:(o._debug("#getSession()","session from storage is not valid"),yield o._removeSession())),!l)return{data:{session:null},error:null};const m=!!l.expires_at&&l.expires_at<=Date.now()/1e3;if(o._debug("#__loadSession()",`session has${m?"":" not"} expired`,"expires_at",l.expires_at),!m)return{data:{session:l},error:null};const{session:f,error:x}=yield o._callRefreshToken(l.refresh_token);return x?{data:{session:null},error:x}:{data:{session:f},error:null}}finally{o._debug("#__loadSession()","end")}})()}getUser(o){var l=this;return(0,a.Z)(function*(){return o?yield l._getUser(o):(yield l.initializePromise,l._acquireLock(-1,(0,a.Z)(function*(){return yield l._getUser()})))})()}_getUser(o){var l=this;return(0,a.Z)(function*(){try{return o?yield ge(l.fetch,"GET",`${l.url}/user`,{headers:l.headers,jwt:o,xform:di}):yield l._useSession(function(){var u=(0,a.Z)(function*(m){var f,x;const{data:b,error:w}=m;if(w)throw w;return yield ge(l.fetch,"GET",`${l.url}/user`,{headers:l.headers,jwt:null!==(x=null===(f=b.session)||void 0===f?void 0:f.access_token)&&void 0!==x?x:void 0,xform:di})});return function(m){return u.apply(this,arguments)}}())}catch(u){if(ve(u))return{data:{user:null},error:u};throw u}})()}updateUser(o,l={}){var u=this;return(0,a.Z)(function*(){return yield u.initializePromise,yield u._acquireLock(-1,(0,a.Z)(function*(){return yield u._updateUser(o,l)}))})()}_updateUser(o,l={}){var u=this;return(0,a.Z)(function*(){try{return yield u._useSession(function(){var m=(0,a.Z)(function*(f){const{data:x,error:b}=f;if(b)throw b;if(!x.session)throw new S;const w=x.session;let k=null,O=null;if("pkce"===u.flowType&&null!=o.email){const Y=ci();yield Wt(u.storage,`${u.storageKey}-code-verifier`,Y),k=yield Zt(Y),O=Y===k?"plain":"s256"}const{data:j,error:ne}=yield ge(u.fetch,"PUT",`${u.url}/user`,{headers:u.headers,redirectTo:l?.emailRedirectTo,body:Object.assign(Object.assign({},o),{code_challenge:k,code_challenge_method:O}),jwt:w.access_token,xform:di});if(ne)throw ne;return w.user=j.user,yield u._saveSession(w),yield u._notifyAllSubscribers("USER_UPDATED",w),{data:{user:w.user},error:null}});return function(f){return m.apply(this,arguments)}}())}catch(m){if(ve(m))return{data:{user:null},error:m};throw m}})()}_decodeJWT(o){return pn(o)}setSession(o){var l=this;return(0,a.Z)(function*(){return yield l.initializePromise,yield l._acquireLock(-1,(0,a.Z)(function*(){return yield l._setSession(o)}))})()}_setSession(o){var l=this;return(0,a.Z)(function*(){try{if(!o.access_token||!o.refresh_token)throw new S;const u=Date.now()/1e3;let m=u,f=!0,x=null;const b=pn(o.access_token);if(b.exp&&(m=b.exp,f=m<=u),f){const{session:w,error:k}=yield l._callRefreshToken(o.refresh_token);if(k)return{data:{user:null,session:null},error:k};if(!w)return{data:{user:null,session:null},error:null};x=w}else{const{data:w,error:k}=yield l._getUser(o.access_token);if(k)throw k;x={access_token:o.access_token,refresh_token:o.refresh_token,user:w.user,token_type:"bearer",expires_in:m-u,expires_at:m},yield l._saveSession(x),yield l._notifyAllSubscribers("SIGNED_IN",x)}return{data:{user:x.user,session:x},error:null}}catch(u){if(ve(u))return{data:{session:null,user:null},error:u};throw u}})()}refreshSession(o){var l=this;return(0,a.Z)(function*(){return yield l.initializePromise,yield l._acquireLock(-1,(0,a.Z)(function*(){return yield l._refreshSession(o)}))})()}_refreshSession(o){var l=this;return(0,a.Z)(function*(){try{return yield l._useSession(function(){var u=(0,a.Z)(function*(m){var f;if(!o){const{data:w,error:k}=m;if(k)throw k;o=null!==(f=w.session)&&void 0!==f?f:void 0}if(!o?.refresh_token)throw new S;const{session:x,error:b}=yield l._callRefreshToken(o.refresh_token);return b?{data:{user:null,session:null},error:b}:x?{data:{user:x.user,session:x},error:null}:{data:{user:null,session:null},error:null}});return function(m){return u.apply(this,arguments)}}())}catch(u){if(ve(u))return{data:{user:null,session:null},error:u};throw u}})()}_getSessionFromURL(o){var l=this;return(0,a.Z)(function*(){try{if(!Tt())throw new N("No browser detected.");if("implicit"===l.flowType&&!l._isImplicitGrantFlow())throw new N("Not a valid implicit grant flow url.");if("pkce"==l.flowType&&!o)throw new de("Not a valid PKCE flow url.");const u=Xi(window.location.href);if(o){if(!u.code)throw new de("No code detected.");const{data:tt,error:bt}=yield l._exchangeCodeForSession(u.code);if(bt)throw bt;const Ui=new URL(window.location.href);return Ui.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Ui.toString()),{data:{session:tt.session,redirectType:null},error:null}}if(u.error||u.error_description||u.error_code)throw new N(u.error_description||"Error in URL with unspecified error_description",{error:u.error||"unspecified_error",code:u.error_code||"unspecified_code"});const{provider_token:m,provider_refresh_token:f,access_token:x,refresh_token:b,expires_in:w,expires_at:k,token_type:O}=u;if(!(x&&w&&b&&O))throw new N("No session defined in URL");const j=Math.round(Date.now()/1e3),ne=parseInt(w);let Y=j+ne;k&&(Y=parseInt(k));const me=Y-j;1e3*me<=Ri&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${me}s, should have been closer to ${ne}s`);const we=Y-ne;j-we>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",we,Y,j):j-we<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",we,Y,j);const{data:$e,error:Ke}=yield l._getUser(x);if(Ke)throw Ke;const et={provider_token:m,provider_refresh_token:f,access_token:x,expires_in:ne,expires_at:Y,refresh_token:b,token_type:O,user:$e.user};return window.location.hash="",l._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:et,redirectType:u.type},error:null}}catch(u){if(ve(u))return{data:{session:null,redirectType:null},error:u};throw u}})()}_isImplicitGrantFlow(){const o=Xi(window.location.href);return!(!Tt()||!o.access_token&&!o.error_description)}_isPKCEFlow(){var o=this;return(0,a.Z)(function*(){const l=Xi(window.location.href),u=yield vi(o.storage,`${o.storageKey}-code-verifier`);return!(!l.code||!u)})()}signOut(o={scope:"global"}){var l=this;return(0,a.Z)(function*(){return yield l.initializePromise,yield l._acquireLock(-1,(0,a.Z)(function*(){return yield l._signOut(o)}))})()}_signOut({scope:o}={scope:"global"}){var l=this;return(0,a.Z)(function*(){return yield l._useSession(function(){var u=(0,a.Z)(function*(m){var f;const{data:x,error:b}=m;if(b)return{error:b};const w=null===(f=x.session)||void 0===f?void 0:f.access_token;if(w){const{error:k}=yield l.admin.signOut(w,o);if(k&&(!function L(p){return ve(p)&&"AuthApiError"===p.name}(k)||404!==k.status&&401!==k.status))return{error:k}}return"others"!==o&&(yield l._removeSession(),yield Pi(l.storage,`${l.storageKey}-code-verifier`),yield l._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}});return function(m){return u.apply(this,arguments)}}())})()}onAuthStateChange(o){var l=this;const u=function bs(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(p){const h=16*Math.random()|0;return("x"==p?h:3&h|8).toString(16)})}(),m={id:u,callback:o,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",u),this.stateChangeEmitters.delete(u)}};return this._debug("#onAuthStateChange()","registered callback with id",u),this.stateChangeEmitters.set(u,m),(0,a.Z)(function*(){yield l.initializePromise,yield l._acquireLock(-1,(0,a.Z)(function*(){l._emitInitialSession(u)}))})(),{data:{subscription:m}}}_emitInitialSession(o){var l=this;return(0,a.Z)(function*(){return yield l._useSession(function(){var u=(0,a.Z)(function*(m){var f,x;try{const{data:{session:b},error:w}=m;if(w)throw w;yield null===(f=l.stateChangeEmitters.get(o))||void 0===f?void 0:f.callback("INITIAL_SESSION",b),l._debug("INITIAL_SESSION","callback id",o,"session",b)}catch(b){yield null===(x=l.stateChangeEmitters.get(o))||void 0===x?void 0:x.callback("INITIAL_SESSION",null),l._debug("INITIAL_SESSION","callback id",o,"error",b),console.error(b)}});return function(m){return u.apply(this,arguments)}}())})()}resetPasswordForEmail(o,l={}){var u=this;return(0,a.Z)(function*(){let m=null,f=null;if("pkce"===u.flowType){const x=ci();yield Wt(u.storage,`${u.storageKey}-code-verifier`,`${x}/PASSWORD_RECOVERY`),m=yield Zt(x),f=x===m?"plain":"s256"}try{return yield ge(u.fetch,"POST",`${u.url}/recover`,{body:{email:o,code_challenge:m,code_challenge_method:f,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:u.headers,redirectTo:l.redirectTo})}catch(x){if(ve(x))return{data:null,error:x};throw x}})()}getUserIdentities(){var o=this;return(0,a.Z)(function*(){var l;try{const{data:u,error:m}=yield o.getUser();if(m)throw m;return{data:{identities:null!==(l=u.user.identities)&&void 0!==l?l:[]},error:null}}catch(u){if(ve(u))return{data:null,error:u};throw u}})()}linkIdentity(o){var l=this;return(0,a.Z)(function*(){var u;try{const{data:m,error:f}=yield l._useSession(function(){var x=(0,a.Z)(function*(b){var w,k,O,j,ne;const{data:Y,error:me}=b;if(me)throw me;const we=yield l._getUrlForProvider(`${l.url}/user/identities/authorize`,o.provider,{redirectTo:null===(w=o.options)||void 0===w?void 0:w.redirectTo,scopes:null===(k=o.options)||void 0===k?void 0:k.scopes,queryParams:null===(O=o.options)||void 0===O?void 0:O.queryParams,skipBrowserRedirect:!0});return yield ge(l.fetch,"GET",we,{headers:l.headers,jwt:null!==(ne=null===(j=Y.session)||void 0===j?void 0:j.access_token)&&void 0!==ne?ne:void 0})});return function(b){return x.apply(this,arguments)}}());if(f)throw f;return Tt()&&!(null!==(u=o.options)&&void 0!==u&&u.skipBrowserRedirect)&&window.location.assign(m?.url),{data:{provider:o.provider,url:m?.url},error:null}}catch(m){if(ve(m))return{data:{provider:o.provider,url:null},error:m};throw m}})()}unlinkIdentity(o){var l=this;return(0,a.Z)(function*(){try{return yield l._useSession(function(){var u=(0,a.Z)(function*(m){var f,x;const{data:b,error:w}=m;if(w)throw w;return yield ge(l.fetch,"DELETE",`${l.url}/user/identities/${o.identity_id}`,{headers:l.headers,jwt:null!==(x=null===(f=b.session)||void 0===f?void 0:f.access_token)&&void 0!==x?x:void 0})});return function(m){return u.apply(this,arguments)}}())}catch(u){if(ve(u))return{data:null,error:u};throw u}})()}_refreshAccessToken(o){var l=this;return(0,a.Z)(function*(){const u=`#_refreshAccessToken(${o.substring(0,5)}...)`;l._debug(u,"begin");try{const m=Date.now();return yield function gn(p,h){return new Promise((l,u)=>{(0,a.Z)(function*(){for(let m=0;m<1/0;m++)try{const f=yield p(m);if(!h(m,null,f))return void l(f)}catch(f){if(!h(m,f))return void u(f)}})()})}(function(){var f=(0,a.Z)(function*(x){return yield function jn(p){return li.apply(this,arguments)}(200*x),l._debug(u,"refreshing attempt",x),yield ge(l.fetch,"POST",`${l.url}/token?grant_type=refresh_token`,{body:{refresh_token:o},headers:l.headers,xform:yi})});return function(x){return f.apply(this,arguments)}}(),(f,x,b)=>b&&b.error&&Re(b.error)&&Date.now()+200*(f+1)-m<Ri)}catch(m){if(l._debug(u,"error",m),ve(m))return{data:{session:null,user:null},error:m};throw m}finally{l._debug(u,"end")}})()}_isValidSession(o){return"object"==typeof o&&null!==o&&"access_token"in o&&"refresh_token"in o&&"expires_at"in o}_handleProviderSignIn(o,l){var u=this;return(0,a.Z)(function*(){const m=yield u._getUrlForProvider(`${u.url}/authorize`,o,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return u._debug("#_handleProviderSignIn()","provider",o,"options",l,"url",m),Tt()&&!l.skipBrowserRedirect&&window.location.assign(m),{data:{provider:o,url:m},error:null}})()}_recoverAndRefresh(){var o=this;return(0,a.Z)(function*(){var l;const u="#_recoverAndRefresh()";o._debug(u,"begin");try{const m=yield vi(o.storage,o.storageKey);if(o._debug(u,"session from storage",m),!o._isValidSession(m))return o._debug(u,"session is not valid"),void(null!==m&&(yield o._removeSession()));const f=Math.round(Date.now()/1e3),x=(null!==(l=m.expires_at)&&void 0!==l?l:1/0)<f+10;if(o._debug(u,`session has${x?"":" not"} expired with margin of 10s`),x){if(o.autoRefreshToken&&m.refresh_token){const{error:b}=yield o._callRefreshToken(m.refresh_token);b&&(console.error(b),Re(b)||(o._debug(u,"refresh failed with a non-retryable error, removing the session",b),yield o._removeSession()))}}else yield o._notifyAllSubscribers("SIGNED_IN",m)}catch(m){return o._debug(u,"error",m),void console.error(m)}finally{o._debug(u,"end")}})()}_callRefreshToken(o){var l=this;return(0,a.Z)(function*(){var u,m;if(!o)throw new S;if(l.refreshingDeferred)return l.refreshingDeferred.promise;const f=`#_callRefreshToken(${o.substring(0,5)}...)`;l._debug(f,"begin");try{l.refreshingDeferred=new jt;const{data:x,error:b}=yield l._refreshAccessToken(o);if(b)throw b;if(!x.session)throw new S;yield l._saveSession(x.session),yield l._notifyAllSubscribers("TOKEN_REFRESHED",x.session);const w={session:x.session,error:null};return l.refreshingDeferred.resolve(w),w}catch(x){if(l._debug(f,"error",x),ve(x)){const b={session:null,error:x};return Re(x)||(yield l._removeSession(),yield l._notifyAllSubscribers("SIGNED_OUT",null)),null===(u=l.refreshingDeferred)||void 0===u||u.resolve(b),b}throw null===(m=l.refreshingDeferred)||void 0===m||m.reject(x),x}finally{l.refreshingDeferred=null,l._debug(f,"end")}})()}_notifyAllSubscribers(o,l,u=!0){var m=this;return(0,a.Z)(function*(){const f=`#_notifyAllSubscribers(${o})`;m._debug(f,"begin",l,`broadcast = ${u}`);try{m.broadcastChannel&&u&&m.broadcastChannel.postMessage({event:o,session:l});const x=[],b=Array.from(m.stateChangeEmitters.values()).map(function(){var w=(0,a.Z)(function*(k){try{yield k.callback(o,l)}catch(O){x.push(O)}});return function(k){return w.apply(this,arguments)}}());if(yield Promise.all(b),x.length>0){for(let w=0;w<x.length;w+=1)console.error(x[w]);throw x[0]}}finally{m._debug(f,"end")}})()}_saveSession(o){var l=this;return(0,a.Z)(function*(){l._debug("#_saveSession()",o),yield Wt(l.storage,l.storageKey,o)})()}_removeSession(){var o=this;return(0,a.Z)(function*(){o._debug("#_removeSession()"),yield Pi(o.storage,o.storageKey)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const o=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{o&&Tt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",o)}catch(l){console.error("removing visibilitychange callback failed",l)}}_startAutoRefresh(){var o=this;return(0,a.Z)(function*(){yield o._stopAutoRefresh(),o._debug("#_startAutoRefresh()");const l=setInterval(()=>o._autoRefreshTokenTick(),Ri);o.autoRefreshTicker=l,l&&"object"==typeof l&&"function"==typeof l.unref?l.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(l),setTimeout((0,a.Z)(function*(){yield o.initializePromise,yield o._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var o=this;return(0,a.Z)(function*(){o._debug("#_stopAutoRefresh()");const l=o.autoRefreshTicker;o.autoRefreshTicker=null,l&&clearInterval(l)})()}startAutoRefresh(){var o=this;return(0,a.Z)(function*(){o._removeVisibilityChangedCallback(),yield o._startAutoRefresh()})()}stopAutoRefresh(){var o=this;return(0,a.Z)(function*(){o._removeVisibilityChangedCallback(),yield o._stopAutoRefresh()})()}_autoRefreshTokenTick(){var o=this;return(0,a.Z)(function*(){o._debug("#_autoRefreshTokenTick()","begin");try{yield o._acquireLock(0,(0,a.Z)(function*(){try{const l=Date.now();try{return yield o._useSession(function(){var u=(0,a.Z)(function*(m){const{data:{session:f}}=m;if(!f||!f.refresh_token||!f.expires_at)return void o._debug("#_autoRefreshTokenTick()","no session");const x=Math.floor((1e3*f.expires_at-l)/Ri);o._debug("#_autoRefreshTokenTick()",`access token expires in ${x} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),x<=3&&(yield o._callRefreshToken(f.refresh_token))});return function(m){return u.apply(this,arguments)}}())}catch(u){console.error("Auto refresh tick failed with error. This is likely a transient error.",u)}}finally{o._debug("#_autoRefreshTokenTick()","end")}}))}catch(l){if(!(l.isAcquireTimeout||l instanceof Ti))throw l;o._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var o=this;return(0,a.Z)(function*(){if(o._debug("#_handleVisibilityChange()"),!Tt()||!window?.addEventListener)return o.autoRefreshToken&&o.startAutoRefresh(),!1;try{o.visibilityChangedCallback=(0,a.Z)(function*(){return yield o._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",o.visibilityChangedCallback),yield o._onVisibilityChanged(!0)}catch(l){console.error("_handleVisibilityChange",l)}})()}_onVisibilityChanged(o){var l=this;return(0,a.Z)(function*(){const u=`#_onVisibilityChanged(${o})`;l._debug(u,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(l.autoRefreshToken&&l._startAutoRefresh(),o||(yield l.initializePromise,yield l._acquireLock(-1,(0,a.Z)(function*(){"visible"===document.visibilityState?yield l._recoverAndRefresh():l._debug(u,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&l.autoRefreshToken&&l._stopAutoRefresh()})()}_getUrlForProvider(o,l,u){var m=this;return(0,a.Z)(function*(){const f=[`provider=${encodeURIComponent(l)}`];if(u?.redirectTo&&f.push(`redirect_to=${encodeURIComponent(u.redirectTo)}`),u?.scopes&&f.push(`scopes=${encodeURIComponent(u.scopes)}`),"pkce"===m.flowType){const x=ci();yield Wt(m.storage,`${m.storageKey}-code-verifier`,x);const b=yield Zt(x),w=x===b?"plain":"s256";m._debug("PKCE","code verifier",`${x.substring(0,5)}...`,"code challenge",b,"method",w);const k=new URLSearchParams({code_challenge:`${encodeURIComponent(b)}`,code_challenge_method:`${encodeURIComponent(w)}`});f.push(k.toString())}if(u?.queryParams){const x=new URLSearchParams(u.queryParams);f.push(x.toString())}return u?.skipBrowserRedirect&&f.push(`skip_http_redirect=${u.skipBrowserRedirect}`),`${o}?${f.join("&")}`})()}_unenroll(o){var l=this;return(0,a.Z)(function*(){try{return yield l._useSession(function(){var u=(0,a.Z)(function*(m){var f;const{data:x,error:b}=m;return b?{data:null,error:b}:yield ge(l.fetch,"DELETE",`${l.url}/factors/${o.factorId}`,{headers:l.headers,jwt:null===(f=x?.session)||void 0===f?void 0:f.access_token})});return function(m){return u.apply(this,arguments)}}())}catch(u){if(ve(u))return{data:null,error:u};throw u}})()}_enroll(o){var l=this;return(0,a.Z)(function*(){try{return yield l._useSession(function(){var u=(0,a.Z)(function*(m){var f,x;const{data:b,error:w}=m;if(w)return{data:null,error:w};const{data:k,error:O}=yield ge(l.fetch,"POST",`${l.url}/factors`,{body:{friendly_name:o.friendlyName,factor_type:o.factorType,issuer:o.issuer},headers:l.headers,jwt:null===(f=b?.session)||void 0===f?void 0:f.access_token});return O?{data:null,error:O}:(!(null===(x=k?.totp)||void 0===x)&&x.qr_code&&(k.totp.qr_code=`data:image/svg+xml;utf-8,${k.totp.qr_code}`),{data:k,error:null})});return function(m){return u.apply(this,arguments)}}())}catch(u){if(ve(u))return{data:null,error:u};throw u}})()}_verify(o){var l=this;return(0,a.Z)(function*(){return l._acquireLock(-1,(0,a.Z)(function*(){try{return yield l._useSession(function(){var u=(0,a.Z)(function*(m){var f;const{data:x,error:b}=m;if(b)return{data:null,error:b};const{data:w,error:k}=yield ge(l.fetch,"POST",`${l.url}/factors/${o.factorId}/verify`,{body:{code:o.code,challenge_id:o.challengeId},headers:l.headers,jwt:null===(f=x?.session)||void 0===f?void 0:f.access_token});return k?{data:null,error:k}:(yield l._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+w.expires_in},w)),yield l._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",w),{data:w,error:k})});return function(m){return u.apply(this,arguments)}}())}catch(u){if(ve(u))return{data:null,error:u};throw u}}))})()}_challenge(o){var l=this;return(0,a.Z)(function*(){return l._acquireLock(-1,(0,a.Z)(function*(){try{return yield l._useSession(function(){var u=(0,a.Z)(function*(m){var f;const{data:x,error:b}=m;return b?{data:null,error:b}:yield ge(l.fetch,"POST",`${l.url}/factors/${o.factorId}/challenge`,{headers:l.headers,jwt:null===(f=x?.session)||void 0===f?void 0:f.access_token})});return function(m){return u.apply(this,arguments)}}())}catch(u){if(ve(u))return{data:null,error:u};throw u}}))})()}_challengeAndVerify(o){var l=this;return(0,a.Z)(function*(){const{data:u,error:m}=yield l._challenge({factorId:o.factorId});return m?{data:null,error:m}:yield l._verify({factorId:o.factorId,challengeId:u.id,code:o.code})})()}_listFactors(){var o=this;return(0,a.Z)(function*(){const{data:{user:l},error:u}=yield o.getUser();if(u)return{data:null,error:u};const m=l?.factors||[],f=m.filter(x=>"totp"===x.factor_type&&"verified"===x.status);return{data:{all:m,totp:f},error:null}})()}_getAuthenticatorAssuranceLevel(){var o=this;return(0,a.Z)(function*(){return o._acquireLock(-1,(0,a.Z)(function*(){return yield o._useSession(function(){var l=(0,a.Z)(function*(u){var m,f;const{data:{session:x},error:b}=u;if(b)return{data:null,error:b};if(!x)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const w=o._decodeJWT(x.access_token);let k=null;w.aal&&(k=w.aal);let O=k;return(null!==(f=null===(m=x.user.factors)||void 0===m?void 0:m.filter(Y=>"verified"===Y.status))&&void 0!==f?f:[]).length>0&&(O="aal2"),{data:{currentLevel:k,nextLevel:O,currentAuthenticationMethods:w.amr||[]},error:null}});return function(u){return l.apply(this,arguments)}}())}))})()}}return p.nextInstanceID=0,p})();class rr extends aa{constructor(h){super(h)}}class Fs{constructor(h,o,l){var u,m,f,x,b,w,k,O;if(this.supabaseUrl=h,this.supabaseKey=o,!h)throw new Error("supabaseUrl is required.");if(!o)throw new Error("supabaseKey is required.");const j=function ys(p){return p.replace(/\/$/,"")}(h);this.realtimeUrl=`${j}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${j}/auth/v1`,this.storageUrl=`${j}/storage/v1`,this.functionsUrl=`${j}/functions/v1`;const ne=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,me=function Un(p,h){const{db:o,auth:l,realtime:u,global:m}=p,{db:f,auth:x,realtime:b,global:w}=h;return{db:Object.assign(Object.assign({},f),o),auth:Object.assign(Object.assign({},x),l),realtime:Object.assign(Object.assign({},b),u),global:Object.assign(Object.assign({},w),m)}}(l??{},{db:ri,realtime:fs,auth:Object.assign(Object.assign({},gs),{storageKey:ne}),global:ai});this.storageKey=null!==(m=null===(u=me.auth)||void 0===u?void 0:u.storageKey)&&void 0!==m?m:"",this.headers=null!==(x=null===(f=me.global)||void 0===f?void 0:f.headers)&&void 0!==x?x:{},this.auth=this._initSupabaseAuthClient(null!==(b=me.auth)&&void 0!==b?b:{},this.headers,null===(w=me.global)||void 0===w?void 0:w.fetch),this.fetch=vs(o,this._getAccessToken.bind(this),null===(k=me.global)||void 0===k?void 0:k.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},me.realtime)),this.rest=new ce(`${j}/rest/v1`,{headers:this.headers,schema:null===(O=me.db)||void 0===O?void 0:O.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new X(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new dn(this.storageUrl,this.headers,this.fetch)}from(h){return this.rest.from(h)}schema(h){return this.rest.schema(h)}rpc(h,o={},l={}){return this.rest.rpc(h,o,l)}channel(h,o={config:{}}){return this.realtime.channel(h,o)}getChannels(){return this.realtime.getChannels()}removeChannel(h){return this.realtime.removeChannel(h)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var h,o;return function(p,h,o,l){return new(o||(o=Promise))(function(m,f){function x(k){try{w(l.next(k))}catch(O){f(O)}}function b(k){try{w(l.throw(k))}catch(O){f(O)}}function w(k){k.done?m(k.value):function u(m){return m instanceof o?m:new o(function(f){f(m)})}(k.value).then(x,b)}w((l=l.apply(p,h||[])).next())})}(this,void 0,void 0,function*(){const{data:l}=yield this.auth.getSession();return null!==(o=null===(h=l.session)||void 0===h?void 0:h.access_token)&&void 0!==o?o:null})}_initSupabaseAuthClient({autoRefreshToken:h,persistSession:o,detectSessionInUrl:l,storage:u,storageKey:m,flowType:f,debug:x},b,w){return new rr({url:this.authUrl,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),b),storageKey:m,autoRefreshToken:h,persistSession:o,detectSessionInUrl:l,storage:u,flowType:f,debug:x,fetch:w})}_initRealtimeClient(h){return new nt(this.realtimeUrl,Object.assign(Object.assign({},h),{params:Object.assign({apikey:this.supabaseKey},h?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((o,l)=>{this._handleTokenChanged(o,"CLIENT",l?.access_token)})}_handleTokenChanged(h,o,l){"TOKEN_REFRESHED"!==h&&"SIGNED_IN"!==h||this.changedAccessToken===l?"SIGNED_OUT"===h&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==o&&this.auth.signOut(),this.changedAccessToken=void 0):(this.realtime.setAuth(l??null),this.changedAccessToken=l)}}var Ms=V(7146),or=V(4650);const la=new Ms.j;let lr=(()=>{class p{constructor(){this.supabase_client=((p,h,o)=>new Fs(p,h,void 0))(la.supabaseURL,la.supabaseKey)}getData(o){var l=this;return(0,a.Z)(function*(){const{data:u,error:m}=yield l.supabase_client.from(o).select();return u||m})()}getDataWithFilter(o,l,u){var m=this;return(0,a.Z)(function*(){const{data:f,error:x}=yield m.supabase_client.from(o).select("*").eq(l,u);return f||x})()}sendData(o,l,u,m,f){var x=this;return(0,a.Z)(function*(){yield x.supabase_client.from(o).insert([{industry:l,date:u,value:m,volume:f}]).select()})()}getTop5GoodNews(o){var l=this;return(0,a.Z)(function*(){const{data:u,error:m}=yield l.supabase_client.from(o).select();return u?u.sort((b,w)=>w.polarity-b.polarity).slice(0,5):(console.log(m),m)})()}getTop5BadNews(o){var l=this;return(0,a.Z)(function*(){const{data:u,error:m}=yield l.supabase_client.from(o).select();return u?u.sort((b,w)=>b.polarity-w.polarity).slice(0,5):(console.log(m),m)})()}checkIfDataExists(o,l,u,m,f){var x=this;return(0,a.Z)(function*(){try{const{data:b,error:w}=yield x.supabase_client.from(o).select("*").eq(l,u).eq(m,f);return b?.length>0||(w&&console.log(w),!1)}catch{return!1}})()}static#e=this.\u0275fac=function(l){return new(l||p)};static#t=this.\u0275prov=or.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},7146:(ti,Pe,V)=>{V.d(Pe,{j:()=>a});class a{constructor(){this.supabaseURL="https://zlmaryslxtjmktervpuh.supabase.co",this.supabaseKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpsbWFyeXNseHRqbWt0ZXJ2cHVoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDcyNDIwODcsImV4cCI6MjAyMjgxODA4N30.F8sA2x4pahe8XJfeMgSnesqMkQ1KhyCQvXlUEJ0Ou-c"}}},6397:(ti,Pe,V)=>{V.r(Pe),V.d(Pe,{Headers:()=>$,Request:()=>Q,Response:()=>Z,default:()=>Ce,fetch:()=>fe});var H=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}();const fe=H.fetch,Ce=H.fetch.bind(H),$=H.Headers,Q=H.Request,Z=H.Response},5126:ti=>{function Pe(H){return H instanceof Buffer?Buffer.from(H):new H.constructor(H.buffer.slice(),H.byteOffset,H.length)}ti.exports=function V(H){return(H=H||{}).circles?function a(H){var fe=[],Ce=[];return H.proto?function Z(X){if("object"!=typeof X||null===X)return X;if(X instanceof Date)return new Date(X);if(Array.isArray(X))return $(X,Z);if(X instanceof Map)return new Map($(Array.from(X),Z));if(X instanceof Set)return new Set($(Array.from(X),Z));var G={};for(var pe in fe.push(X),Ce.push(G),X){var K=X[pe];if("object"!=typeof K||null===K)G[pe]=K;else if(K instanceof Date)G[pe]=new Date(K);else if(K instanceof Map)G[pe]=new Map($(Array.from(K),Z));else if(K instanceof Set)G[pe]=new Set($(Array.from(K),Z));else if(ArrayBuffer.isView(K))G[pe]=Pe(K);else{var oe=fe.indexOf(K);G[pe]=-1!==oe?Ce[oe]:Z(K)}}return fe.pop(),Ce.pop(),G}:function Q(X){if("object"!=typeof X||null===X)return X;if(X instanceof Date)return new Date(X);if(Array.isArray(X))return $(X,Q);if(X instanceof Map)return new Map($(Array.from(X),Q));if(X instanceof Set)return new Set($(Array.from(X),Q));var G={};for(var pe in fe.push(X),Ce.push(G),X)if(!1!==Object.hasOwnProperty.call(X,pe)){var K=X[pe];if("object"!=typeof K||null===K)G[pe]=K;else if(K instanceof Date)G[pe]=new Date(K);else if(K instanceof Map)G[pe]=new Map($(Array.from(K),Q));else if(K instanceof Set)G[pe]=new Set($(Array.from(K),Q));else if(ArrayBuffer.isView(K))G[pe]=Pe(K);else{var oe=fe.indexOf(K);G[pe]=-1!==oe?Ce[oe]:Q(K)}}return fe.pop(),Ce.pop(),G};function $(X,G){for(var pe=Object.keys(X),K=new Array(pe.length),oe=0;oe<pe.length;oe++){var Ee=pe[oe],_e=X[Ee];if("object"!=typeof _e||null===_e)K[Ee]=_e;else if(_e instanceof Date)K[Ee]=new Date(_e);else if(ArrayBuffer.isView(_e))K[Ee]=Pe(_e);else{var Te=fe.indexOf(_e);K[Ee]=-1!==Te?Ce[Te]:G(_e)}}return K}}(H):H.proto?function $(Q){if("object"!=typeof Q||null===Q)return Q;if(Q instanceof Date)return new Date(Q);if(Array.isArray(Q))return fe(Q,$);if(Q instanceof Map)return new Map(fe(Array.from(Q),$));if(Q instanceof Set)return new Set(fe(Array.from(Q),$));var Z={};for(var X in Q){var G=Q[X];Z[X]="object"!=typeof G||null===G?G:G instanceof Date?new Date(G):G instanceof Map?new Map(fe(Array.from(G),$)):G instanceof Set?new Set(fe(Array.from(G),$)):ArrayBuffer.isView(G)?Pe(G):$(G)}return Z}:function Ce(Q){if("object"!=typeof Q||null===Q)return Q;if(Q instanceof Date)return new Date(Q);if(Array.isArray(Q))return fe(Q,Ce);if(Q instanceof Map)return new Map(fe(Array.from(Q),Ce));if(Q instanceof Set)return new Set(fe(Array.from(Q),Ce));var Z={};for(var X in Q)if(!1!==Object.hasOwnProperty.call(Q,X)){var G=Q[X];Z[X]="object"!=typeof G||null===G?G:G instanceof Date?new Date(G):G instanceof Map?new Map(fe(Array.from(G),Ce)):G instanceof Set?new Set(fe(Array.from(G),Ce)):ArrayBuffer.isView(G)?Pe(G):Ce(G)}return Z};function fe(Q,Z){for(var X=Object.keys(Q),G=new Array(X.length),pe=0;pe<X.length;pe++){var K=X[pe],oe=Q[K];G[K]="object"!=typeof oe||null===oe?oe:oe instanceof Date?new Date(oe):ArrayBuffer.isView(oe)?Pe(oe):Z(oe)}return G}}},4218:(ti,Pe,V)=>{V.d(Pe,{Hw:()=>ve,Ps:()=>xn});var a=V(4650),H=V(3238),fe=V(1281),Ce=V(6895),$=V(9646),Q=V(2843),Z=V(9751),X=V(4742),G=V(8421),pe=V(3269),K=V(5403),oe=V(3268),Ee=V(1810),Te=V(727),Ge=V(8505),ce=V(4004),ze=V(262),Be=V(8746),Hi=V(3099),Di=V(5698),zi=V(4351),Dt=V(9300);class Ue{}class lt{constructor(T){this.normalizedNames=new Map,this.lazyUpdate=null,T?this.lazyInit="string"==typeof T?()=>{this.headers=new Map,T.split("\n").forEach(v=>{const S=v.indexOf(":");if(S>0){const E=v.slice(0,S),I=E.toLowerCase(),N=v.slice(S+1).trim();this.maybeSetNormalizedName(E,I),this.headers.has(I)?this.headers.get(I).push(N):this.headers.set(I,[N])}})}:()=>{this.headers=new Map,Object.entries(T).forEach(([v,S])=>{let E;if(E="string"==typeof S?[S]:"number"==typeof S?[S.toString()]:S.map(I=>I.toString()),E.length>0){const I=v.toLowerCase();this.headers.set(I,E),this.maybeSetNormalizedName(v,I)}})}:this.headers=new Map}has(T){return this.init(),this.headers.has(T.toLowerCase())}get(T){this.init();const v=this.headers.get(T.toLowerCase());return v&&v.length>0?v[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(T){return this.init(),this.headers.get(T.toLowerCase())||null}append(T,v){return this.clone({name:T,value:v,op:"a"})}set(T,v){return this.clone({name:T,value:v,op:"s"})}delete(T,v){return this.clone({name:T,value:v,op:"d"})}maybeSetNormalizedName(T,v){this.normalizedNames.has(v)||this.normalizedNames.set(v,T)}init(){this.lazyInit&&(this.lazyInit instanceof lt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(T=>this.applyUpdate(T)),this.lazyUpdate=null))}copyFrom(T){T.init(),Array.from(T.headers.keys()).forEach(v=>{this.headers.set(v,T.headers.get(v)),this.normalizedNames.set(v,T.normalizedNames.get(v))})}clone(T){const v=new lt;return v.lazyInit=this.lazyInit&&this.lazyInit instanceof lt?this.lazyInit:this,v.lazyUpdate=(this.lazyUpdate||[]).concat([T]),v}applyUpdate(T){const v=T.name.toLowerCase();switch(T.op){case"a":case"s":let S=T.value;if("string"==typeof S&&(S=[S]),0===S.length)return;this.maybeSetNormalizedName(T.name,v);const E=("a"===T.op?this.headers.get(v):void 0)||[];E.push(...S),this.headers.set(v,E);break;case"d":const I=T.value;if(I){let N=this.headers.get(v);if(!N)return;N=N.filter(de=>-1===I.indexOf(de)),0===N.length?(this.headers.delete(v),this.normalizedNames.delete(v)):this.headers.set(v,N)}else this.headers.delete(v),this.normalizedNames.delete(v)}}forEach(T){this.init(),Array.from(this.normalizedNames.keys()).forEach(v=>T(this.normalizedNames.get(v),this.headers.get(v)))}}class Fi{encodeKey(T){return zt(T)}encodeValue(T){return zt(T)}decodeKey(T){return decodeURIComponent(T)}decodeValue(T){return decodeURIComponent(T)}}const pi=/%(\d[a-f0-9])/gi,nn={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function zt(L){return encodeURIComponent(L).replace(pi,(T,v)=>nn[v]??T)}function Se(L){return`${L}`}class yt{constructor(T={}){if(this.updates=null,this.cloneFrom=null,this.encoder=T.encoder||new Fi,T.fromString){if(T.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ii(L,T){const v=new Map;return L.length>0&&L.replace(/^\?/,"").split("&").forEach(E=>{const I=E.indexOf("="),[N,de]=-1==I?[T.decodeKey(E),""]:[T.decodeKey(E.slice(0,I)),T.decodeValue(E.slice(I+1))],he=v.get(N)||[];he.push(de),v.set(N,he)}),v}(T.fromString,this.encoder)}else T.fromObject?(this.map=new Map,Object.keys(T.fromObject).forEach(v=>{const S=T.fromObject[v],E=Array.isArray(S)?S.map(Se):[Se(S)];this.map.set(v,E)})):this.map=null}has(T){return this.init(),this.map.has(T)}get(T){this.init();const v=this.map.get(T);return v?v[0]:null}getAll(T){return this.init(),this.map.get(T)||null}keys(){return this.init(),Array.from(this.map.keys())}append(T,v){return this.clone({param:T,value:v,op:"a"})}appendAll(T){const v=[];return Object.keys(T).forEach(S=>{const E=T[S];Array.isArray(E)?E.forEach(I=>{v.push({param:S,value:I,op:"a"})}):v.push({param:S,value:E,op:"a"})}),this.clone(v)}set(T,v){return this.clone({param:T,value:v,op:"s"})}delete(T,v){return this.clone({param:T,value:v,op:"d"})}toString(){return this.init(),this.keys().map(T=>{const v=this.encoder.encodeKey(T);return this.map.get(T).map(S=>v+"="+this.encoder.encodeValue(S)).join("&")}).filter(T=>""!==T).join("&")}clone(T){const v=new yt({encoder:this.encoder});return v.cloneFrom=this.cloneFrom||this,v.updates=(this.updates||[]).concat(T),v}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(T=>this.map.set(T,this.cloneFrom.map.get(T))),this.updates.forEach(T=>{switch(T.op){case"a":case"s":const v=("a"===T.op?this.map.get(T.param):void 0)||[];v.push(Se(T.value)),this.map.set(T.param,v);break;case"d":if(void 0===T.value){this.map.delete(T.param);break}{let S=this.map.get(T.param)||[];const E=S.indexOf(Se(T.value));-1!==E&&S.splice(E,1),S.length>0?this.map.set(T.param,S):this.map.delete(T.param)}}}),this.cloneFrom=this.updates=null)}}class Gi{constructor(){this.map=new Map}set(T,v){return this.map.set(T,v),this}get(T){return this.map.has(T)||this.map.set(T,T.defaultValue()),this.map.get(T)}delete(T){return this.map.delete(T),this}has(T){return this.map.has(T)}keys(){return this.map.keys()}}function ye(L){return typeof ArrayBuffer<"u"&&L instanceof ArrayBuffer}function it(L){return typeof Blob<"u"&&L instanceof Blob}function D(L){return typeof FormData<"u"&&L instanceof FormData}class U{constructor(T,v,S,E){let I;if(this.url=v,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=T.toUpperCase(),function gi(L){switch(L){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||E?(this.body=void 0!==S?S:null,I=E):I=S,I&&(this.reportProgress=!!I.reportProgress,this.withCredentials=!!I.withCredentials,I.responseType&&(this.responseType=I.responseType),I.headers&&(this.headers=I.headers),I.context&&(this.context=I.context),I.params&&(this.params=I.params)),this.headers||(this.headers=new lt),this.context||(this.context=new Gi),this.params){const N=this.params.toString();if(0===N.length)this.urlWithParams=v;else{const de=v.indexOf("?");this.urlWithParams=v+(-1===de?"?":de<v.length-1?"&":"")+N}}else this.params=new yt,this.urlWithParams=v}serializeBody(){return null===this.body?null:ye(this.body)||it(this.body)||D(this.body)||function P(L){return typeof URLSearchParams<"u"&&L instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof yt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||D(this.body)?null:it(this.body)?this.body.type||null:ye(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof yt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(T={}){const v=T.method||this.method,S=T.url||this.url,E=T.responseType||this.responseType,I=void 0!==T.body?T.body:this.body,N=void 0!==T.withCredentials?T.withCredentials:this.withCredentials,de=void 0!==T.reportProgress?T.reportProgress:this.reportProgress;let he=T.headers||this.headers,Re=T.params||this.params;const mt=T.context??this.context;return void 0!==T.setHeaders&&(he=Object.keys(T.setHeaders).reduce((Lt,ft)=>Lt.set(ft,T.setHeaders[ft]),he)),T.setParams&&(Re=Object.keys(T.setParams).reduce((Lt,ft)=>Lt.set(ft,T.setParams[ft]),Re)),new U(v,S,I,{params:Re,headers:he,context:mt,reportProgress:de,responseType:E,withCredentials:N})}}var se=(()=>((se=se||{})[se.Sent=0]="Sent",se[se.UploadProgress=1]="UploadProgress",se[se.ResponseHeader=2]="ResponseHeader",se[se.DownloadProgress=3]="DownloadProgress",se[se.Response=4]="Response",se[se.User=5]="User",se))();class Ye{constructor(T,v=200,S="OK"){this.headers=T.headers||new lt,this.status=void 0!==T.status?T.status:v,this.statusText=T.statusText||S,this.url=T.url||null,this.ok=this.status>=200&&this.status<300}}class Mt extends Ye{constructor(T={}){super(T),this.type=se.Response,this.body=void 0!==T.body?T.body:null}clone(T={}){return new Mt({body:void 0!==T.body?T.body:this.body,headers:T.headers||this.headers,status:void 0!==T.status?T.status:this.status,statusText:T.statusText||this.statusText,url:T.url||this.url||void 0})}}function Ot(L,T){return{body:T,headers:L.headers,context:L.context,observe:L.observe,params:L.params,reportProgress:L.reportProgress,responseType:L.responseType,withCredentials:L.withCredentials}}let It=(()=>{class L{constructor(v){this.handler=v}request(v,S,E={}){let I;if(v instanceof U)I=v;else{let he,Re;he=E.headers instanceof lt?E.headers:new lt(E.headers),E.params&&(Re=E.params instanceof yt?E.params:new yt({fromObject:E.params})),I=new U(v,S,void 0!==E.body?E.body:null,{headers:he,context:E.context,params:Re,reportProgress:E.reportProgress,responseType:E.responseType||"json",withCredentials:E.withCredentials})}const N=(0,$.of)(I).pipe((0,zi.b)(he=>this.handler.handle(he)));if(v instanceof U||"events"===E.observe)return N;const de=N.pipe((0,Dt.h)(he=>he instanceof Mt));switch(E.observe||"body"){case"body":switch(I.responseType){case"arraybuffer":return de.pipe((0,ce.U)(he=>{if(null!==he.body&&!(he.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return he.body}));case"blob":return de.pipe((0,ce.U)(he=>{if(null!==he.body&&!(he.body instanceof Blob))throw new Error("Response is not a Blob.");return he.body}));case"text":return de.pipe((0,ce.U)(he=>{if(null!==he.body&&"string"!=typeof he.body)throw new Error("Response is not a string.");return he.body}));default:return de.pipe((0,ce.U)(he=>he.body))}case"response":return de;default:throw new Error(`Unreachable: unhandled observe type ${E.observe}}`)}}delete(v,S={}){return this.request("DELETE",v,S)}get(v,S={}){return this.request("GET",v,S)}head(v,S={}){return this.request("HEAD",v,S)}jsonp(v,S){return this.request("JSONP",v,{params:(new yt).append(S,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(v,S={}){return this.request("OPTIONS",v,S)}patch(v,S,E={}){return this.request("PATCH",v,Ot(E,S))}post(v,S,E={}){return this.request("POST",v,Ot(E,S))}put(v,S,E={}){return this.request("PUT",v,Ot(E,S))}}return L.\u0275fac=function(v){return new(v||L)(a.LFG(Ue))},L.\u0275prov=a.Yz7({token:L,factory:L.\u0275fac}),L})();var Tt=V(1481);const Xt=["*"];let Gt;function oi(L){return function Xi(){if(void 0===Gt&&(Gt=null,typeof window<"u")){const L=window;void 0!==L.trustedTypes&&(Gt=L.trustedTypes.createPolicy("angular#components",{createHTML:T=>T}))}return Gt}()?.createHTML(L)||L}function mn(L){return Error(`Unable to find icon with the name "${L}"`)}function vi(L){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${L}".`)}function Pi(L){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${L}".`)}class Ut{constructor(T,v,S){this.url=T,this.svgText=v,this.options=S}}let jt=(()=>{class L{constructor(v,S,E,I){this._httpClient=v,this._sanitizer=S,this._errorHandler=I,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=E}addSvgIcon(v,S,E){return this.addSvgIconInNamespace("",v,S,E)}addSvgIconLiteral(v,S,E){return this.addSvgIconLiteralInNamespace("",v,S,E)}addSvgIconInNamespace(v,S,E,I){return this._addSvgIconConfig(v,S,new Ut(E,null,I))}addSvgIconResolver(v){return this._resolvers.push(v),this}addSvgIconLiteralInNamespace(v,S,E,I){const N=this._sanitizer.sanitize(a.q3G.HTML,E);if(!N)throw Pi(E);const de=oi(N);return this._addSvgIconConfig(v,S,new Ut("",de,I))}addSvgIconSet(v,S){return this.addSvgIconSetInNamespace("",v,S)}addSvgIconSetLiteral(v,S){return this.addSvgIconSetLiteralInNamespace("",v,S)}addSvgIconSetInNamespace(v,S,E){return this._addSvgIconSetConfig(v,new Ut(S,null,E))}addSvgIconSetLiteralInNamespace(v,S,E){const I=this._sanitizer.sanitize(a.q3G.HTML,S);if(!I)throw Pi(S);const N=oi(I);return this._addSvgIconSetConfig(v,new Ut("",N,E))}registerFontClassAlias(v,S=v){return this._fontCssClassesByAlias.set(v,S),this}classNameForFontAlias(v){return this._fontCssClassesByAlias.get(v)||v}setDefaultFontSetClass(...v){return this._defaultFontSetClass=v,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(v){const S=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,v);if(!S)throw vi(v);const E=this._cachedIconsByUrl.get(S);return E?(0,$.of)(li(E)):this._loadSvgIconFromConfig(new Ut(v,null)).pipe((0,Ge.b)(I=>this._cachedIconsByUrl.set(S,I)),(0,ce.U)(I=>li(I)))}getNamedSvgIcon(v,S=""){const E=gn(S,v);let I=this._svgIconConfigs.get(E);if(I)return this._getSvgFromConfig(I);if(I=this._getIconConfigFromResolvers(S,v),I)return this._svgIconConfigs.set(E,I),this._getSvgFromConfig(I);const N=this._iconSetConfigs.get(S);return N?this._getSvgFromIconSetConfigs(v,N):(0,Q._)(mn(E))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(v){return v.svgText?(0,$.of)(li(this._svgElementFromConfig(v))):this._loadSvgIconFromConfig(v).pipe((0,ce.U)(S=>li(S)))}_getSvgFromIconSetConfigs(v,S){const E=this._extractIconWithNameFromAnySet(v,S);return E?(0,$.of)(E):function _e(...L){const T=(0,pe.jO)(L),{args:v,keys:S}=(0,X.D)(L),E=new Z.y(I=>{const{length:N}=v;if(!N)return void I.complete();const de=new Array(N);let he=N,Re=N;for(let mt=0;mt<N;mt++){let Lt=!1;(0,G.Xf)(v[mt]).subscribe((0,K.x)(I,ft=>{Lt||(Lt=!0,Re--),de[mt]=ft},()=>he--,void 0,()=>{(!he||!Lt)&&(Re||I.next(S?(0,Ee.n)(S,de):de),I.complete())}))}});return T?E.pipe((0,oe.Z)(T)):E}(S.filter(N=>!N.svgText).map(N=>this._loadSvgIconSetFromConfig(N).pipe((0,ze.K)(de=>{const Re=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,N.url)} failed: ${de.message}`;return this._errorHandler.handleError(new Error(Re)),(0,$.of)(null)})))).pipe((0,ce.U)(()=>{const N=this._extractIconWithNameFromAnySet(v,S);if(!N)throw mn(v);return N}))}_extractIconWithNameFromAnySet(v,S){for(let E=S.length-1;E>=0;E--){const I=S[E];if(I.svgText&&I.svgText.toString().indexOf(v)>-1){const N=this._svgElementFromConfig(I),de=this._extractSvgIconFromSet(N,v,I.options);if(de)return de}}return null}_loadSvgIconFromConfig(v){return this._fetchIcon(v).pipe((0,Ge.b)(S=>v.svgText=S),(0,ce.U)(()=>this._svgElementFromConfig(v)))}_loadSvgIconSetFromConfig(v){return v.svgText?(0,$.of)(null):this._fetchIcon(v).pipe((0,Ge.b)(S=>v.svgText=S))}_extractSvgIconFromSet(v,S,E){const I=v.querySelector(`[id="${S}"]`);if(!I)return null;const N=I.cloneNode(!0);if(N.removeAttribute("id"),"svg"===N.nodeName.toLowerCase())return this._setSvgAttributes(N,E);if("symbol"===N.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(N),E);const de=this._svgElementFromString(oi("<svg></svg>"));return de.appendChild(N),this._setSvgAttributes(de,E)}_svgElementFromString(v){const S=this._document.createElement("DIV");S.innerHTML=v;const E=S.querySelector("svg");if(!E)throw Error("<svg> tag not found");return E}_toSvgElement(v){const S=this._svgElementFromString(oi("<svg></svg>")),E=v.attributes;for(let I=0;I<E.length;I++){const{name:N,value:de}=E[I];"id"!==N&&S.setAttribute(N,de)}for(let I=0;I<v.childNodes.length;I++)v.childNodes[I].nodeType===this._document.ELEMENT_NODE&&S.appendChild(v.childNodes[I].cloneNode(!0));return S}_setSvgAttributes(v,S){return v.setAttribute("fit",""),v.setAttribute("height","100%"),v.setAttribute("width","100%"),v.setAttribute("preserveAspectRatio","xMidYMid meet"),v.setAttribute("focusable","false"),S&&S.viewBox&&v.setAttribute("viewBox",S.viewBox),v}_fetchIcon(v){const{url:S,options:E}=v,I=E?.withCredentials??!1;if(!this._httpClient)throw function Wt(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==S)throw Error(`Cannot fetch icon from URL "${S}".`);const N=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,S);if(!N)throw vi(S);const de=this._inProgressUrlFetches.get(N);if(de)return de;const he=this._httpClient.get(N,{responseType:"text",withCredentials:I}).pipe((0,ce.U)(Re=>oi(Re)),(0,Be.x)(()=>this._inProgressUrlFetches.delete(N)),(0,Hi.B)());return this._inProgressUrlFetches.set(N,he),he}_addSvgIconConfig(v,S,E){return this._svgIconConfigs.set(gn(v,S),E),this}_addSvgIconSetConfig(v,S){const E=this._iconSetConfigs.get(v);return E?E.push(S):this._iconSetConfigs.set(v,[S]),this}_svgElementFromConfig(v){if(!v.svgElement){const S=this._svgElementFromString(v.svgText);this._setSvgAttributes(S,v.options),v.svgElement=S}return v.svgElement}_getIconConfigFromResolvers(v,S){for(let E=0;E<this._resolvers.length;E++){const I=this._resolvers[E](S,v);if(I)return Zn(I)?new Ut(I.url,null,I.options):new Ut(I,null)}}}return L.\u0275fac=function(v){return new(v||L)(a.LFG(It,8),a.LFG(Tt.H7),a.LFG(Ce.K0,8),a.LFG(a.qLn))},L.\u0275prov=a.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();function li(L){return L.cloneNode(!0)}function gn(L,T){return L+":"+T}function Zn(L){return!(!L.url||!L.options)}const ci=(0,H.pj)(class{constructor(L){this._elementRef=L}}),fn=new a.OlP("MAT_ICON_DEFAULT_OPTIONS"),st=new a.OlP("mat-icon-location",{providedIn:"root",factory:function _n(){const L=(0,a.f3M)(Ce.K0),T=L?L.location:null;return{getPathname:()=>T?T.pathname+T.search:""}}}),Zt=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],qt=Zt.map(L=>`[${L}]`).join(", "),ct=/^url\(['"]?#(.*?)['"]?\)$/;let ve=(()=>{class L extends ci{get inline(){return this._inline}set inline(v){this._inline=(0,fe.Ig)(v)}get svgIcon(){return this._svgIcon}set svgIcon(v){v!==this._svgIcon&&(v?this._updateSvgIcon(v):this._svgIcon&&this._clearSvgElement(),this._svgIcon=v)}get fontSet(){return this._fontSet}set fontSet(v){const S=this._cleanupFontValue(v);S!==this._fontSet&&(this._fontSet=S,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(v){const S=this._cleanupFontValue(v);S!==this._fontIcon&&(this._fontIcon=S,this._updateFontIconClasses())}constructor(v,S,E,I,N,de){super(v),this._iconRegistry=S,this._location=I,this._errorHandler=N,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Te.w0.EMPTY,de&&(de.color&&(this.color=this.defaultColor=de.color),de.fontSet&&(this.fontSet=de.fontSet)),E||v.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(v){if(!v)return["",""];const S=v.split(":");switch(S.length){case 1:return["",S[0]];case 2:return S;default:throw Error(`Invalid icon name: "${v}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const v=this._elementsWithExternalReferences;if(v&&v.size){const S=this._location.getPathname();S!==this._previousPath&&(this._previousPath=S,this._prependPathToReferences(S))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(v){this._clearSvgElement();const S=this._location.getPathname();this._previousPath=S,this._cacheChildrenWithExternalReferences(v),this._prependPathToReferences(S),this._elementRef.nativeElement.appendChild(v)}_clearSvgElement(){const v=this._elementRef.nativeElement;let S=v.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();S--;){const E=v.childNodes[S];(1!==E.nodeType||"svg"===E.nodeName.toLowerCase())&&E.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const v=this._elementRef.nativeElement,S=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(E=>E.length>0);this._previousFontSetClass.forEach(E=>v.classList.remove(E)),S.forEach(E=>v.classList.add(E)),this._previousFontSetClass=S,this.fontIcon!==this._previousFontIconClass&&!S.includes("mat-ligature-font")&&(this._previousFontIconClass&&v.classList.remove(this._previousFontIconClass),this.fontIcon&&v.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(v){return"string"==typeof v?v.trim().split(" ")[0]:v}_prependPathToReferences(v){const S=this._elementsWithExternalReferences;S&&S.forEach((E,I)=>{E.forEach(N=>{I.setAttribute(N.name,`url('${v}#${N.value}')`)})})}_cacheChildrenWithExternalReferences(v){const S=v.querySelectorAll(qt),E=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let I=0;I<S.length;I++)Zt.forEach(N=>{const de=S[I],he=de.getAttribute(N),Re=he?he.match(ct):null;if(Re){let mt=E.get(de);mt||(mt=[],E.set(de,mt)),mt.push({name:N,value:Re[1]})}})}_updateSvgIcon(v){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),v){const[S,E]=this._splitIconName(v);S&&(this._svgNamespace=S),E&&(this._svgName=E),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(E,S).pipe((0,Di.q)(1)).subscribe(I=>this._setSvgElement(I),I=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${S}:${E}! ${I.message}`))})}}}return L.\u0275fac=function(v){return new(v||L)(a.Y36(a.SBq),a.Y36(jt),a.$8M("aria-hidden"),a.Y36(st),a.Y36(a.qLn),a.Y36(fn,8))},L.\u0275cmp=a.Xpm({type:L,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(v,S){2&v&&(a.uIk("data-mat-icon-type",S._usingFontIcon()?"font":"svg")("data-mat-icon-name",S._svgName||S.fontIcon)("data-mat-icon-namespace",S._svgNamespace||S.fontSet)("fontIcon",S._usingFontIcon()?S.fontIcon:null),a.ekj("mat-icon-inline",S.inline)("mat-icon-no-color","primary"!==S.color&&"accent"!==S.color&&"warn"!==S.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:Xt,decls:1,vars:0,template:function(v,S){1&v&&(a.F$t(),a.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),L})(),xn=(()=>{class L{}return L.\u0275fac=function(v){return new(v||L)},L.\u0275mod=a.oAB({type:L}),L.\u0275inj=a.cJS({imports:[H.BQ,H.BQ]}),L})()},1572:(ti,Pe,V)=>{V.d(Pe,{Cq:()=>_e,Ou:()=>oe});var a=V(4650),H=V(3238),fe=V(1281),Ce=V(6895);const $=["determinateSpinner"];function Q(Te,Ge){if(1&Te&&(a.O4$(),a.TgZ(0,"svg",11),a._UZ(1,"circle",12),a.qZA()),2&Te){const ce=a.oxw();a.uIk("viewBox",ce._viewBox()),a.xp6(1),a.Udp("stroke-dasharray",ce._strokeCircumference(),"px")("stroke-dashoffset",ce._strokeCircumference()/2,"px")("stroke-width",ce._circleStrokeWidth(),"%"),a.uIk("r",ce._circleRadius())}}const Z=(0,H.pj)(class{constructor(Te){this._elementRef=Te}},"primary"),X=new a.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function G(){return{diameter:pe}}}),pe=100;let oe=(()=>{class Te extends Z{constructor(ce,ze,Be){super(ce),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=pe,this._noopAnimations="NoopAnimations"===ze&&!!Be&&!Be._forceAnimations,Be&&(Be.color&&(this.color=this.defaultColor=Be.color),Be.diameter&&(this.diameter=Be.diameter),Be.strokeWidth&&(this.strokeWidth=Be.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(ce){this._value=Math.max(0,Math.min(100,(0,fe.su)(ce)))}get diameter(){return this._diameter}set diameter(ce){this._diameter=(0,fe.su)(ce)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(ce){this._strokeWidth=(0,fe.su)(ce)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const ce=2*this._circleRadius()+this.strokeWidth;return`0 0 ${ce} ${ce}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return Te.\u0275fac=function(ce){return new(ce||Te)(a.Y36(a.SBq),a.Y36(a.QbO,8),a.Y36(X))},Te.\u0275cmp=a.Xpm({type:Te,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(ce,ze){if(1&ce&&a.Gf($,5),2&ce){let Be;a.iGM(Be=a.CRH())&&(ze._determinateCircle=Be.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:12,hostBindings:function(ce,ze){2&ce&&(a.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===ze.mode?ze.value:null)("mode",ze.mode),a.Udp("width",ze.diameter,"px")("height",ze.diameter,"px"),a.ekj("_mat-animation-noopable",ze._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===ze.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[a.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(ce,ze){if(1&ce&&(a.YNc(0,Q,2,8,"ng-template",null,0,a.W1O),a.TgZ(2,"div",1,2),a.O4$(),a.TgZ(4,"svg",3),a._UZ(5,"circle",4),a.qZA()(),a.kcU(),a.TgZ(6,"div",5)(7,"div",6)(8,"div",7),a.GkF(9,8),a.qZA(),a.TgZ(10,"div",9),a.GkF(11,8),a.qZA(),a.TgZ(12,"div",10),a.GkF(13,8),a.qZA()()()),2&ce){const Be=a.MAs(1);a.xp6(4),a.uIk("viewBox",ze._viewBox()),a.xp6(1),a.Udp("stroke-dasharray",ze._strokeCircumference(),"px")("stroke-dashoffset",ze._strokeDashOffset(),"px")("stroke-width",ze._circleStrokeWidth(),"%"),a.uIk("r",ze._circleRadius()),a.xp6(4),a.Q6J("ngTemplateOutlet",Be),a.xp6(2),a.Q6J("ngTemplateOutlet",Be),a.xp6(2),a.Q6J("ngTemplateOutlet",Be)}},dependencies:[Ce.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, transparent)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),Te})(),_e=(()=>{class Te{}return Te.\u0275fac=function(ce){return new(ce||Te)},Te.\u0275mod=a.oAB({type:Te}),Te.\u0275inj=a.cJS({imports:[Ce.ez,H.BQ]}),Te})()},3683:(ti,Pe,V)=>{V.d(Pe,{Ye:()=>G,g0:()=>K});var a=V(4650),H=V(3238),fe=V(3353),Ce=V(6895);const $=["*",[["mat-toolbar-row"]]],Q=["*","mat-toolbar-row"],Z=(0,H.pj)(class{constructor(oe){this._elementRef=oe}});let X=(()=>{class oe{}return oe.\u0275fac=function(_e){return new(_e||oe)},oe.\u0275dir=a.lG2({type:oe,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),oe})(),G=(()=>{class oe extends Z{constructor(_e,Te,Ge){super(_e),this._platform=Te,this._document=Ge}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return oe.\u0275fac=function(_e){return new(_e||oe)(a.Y36(a.SBq),a.Y36(fe.t4),a.Y36(Ce.K0))},oe.\u0275cmp=a.Xpm({type:oe,selectors:[["mat-toolbar"]],contentQueries:function(_e,Te,Ge){if(1&_e&&a.Suo(Ge,X,5),2&_e){let ce;a.iGM(ce=a.CRH())&&(Te._toolbarRows=ce)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(_e,Te){2&_e&&a.ekj("mat-toolbar-multiple-rows",Te._toolbarRows.length>0)("mat-toolbar-single-row",0===Te._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[a.qOj],ngContentSelectors:Q,decls:2,vars:0,template:function(_e,Te){1&_e&&(a.F$t($),a.Hsn(0),a.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),oe})(),K=(()=>{class oe{}return oe.\u0275fac=function(_e){return new(_e||oe)},oe.\u0275mod=a.oAB({type:oe}),oe.\u0275inj=a.cJS({imports:[H.BQ,H.BQ]}),oe})()},266:(ti,Pe,V)=>{V.d(Pe,{AV:()=>gi,gM:()=>Se});var a=V(2722),H=V(5698),fe=V(1281),Ce=V(9521),$=V(4650),Q=V(6895),Z=V(3353),X=V(1518),G=V(445),pe=V(8184),K=V(1218),oe=V(4080),Ee=V(7579),Te=(V(7340),V(3238));const Ge=["tooltip"],Be=new $.OlP("mat-tooltip-scroll-strategy"),Di={provide:Be,deps:[pe.aV],useFactory:function Hi(ye){return()=>ye.scrollStrategies.reposition({scrollThrottle:20})}},Dt=new $.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function zi(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),qe="tooltip-panel",lt=(0,Z.i$)({passive:!0});let zt=(()=>{class ye{get position(){return this._position}set position(D){D!==this._position&&(this._position=D,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(D){this._positionAtOrigin=(0,fe.Ig)(D),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(D){this._disabled=(0,fe.Ig)(D),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(D){this._showDelay=(0,fe.su)(D)}get hideDelay(){return this._hideDelay}set hideDelay(D){this._hideDelay=(0,fe.su)(D),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(D){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=D?String(D).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(D){this._tooltipClass=D,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(D,P,U,se,Ye,Ft,Mt,ni,Ot,It,nt,fi){this._overlay=D,this._elementRef=P,this._scrollDispatcher=U,this._viewContainerRef=se,this._ngZone=Ye,this._platform=Ft,this._ariaDescriber=Mt,this._focusMonitor=ni,this._dir=It,this._defaultOptions=nt,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Ee.x,this._scrollStrategy=Ot,this._document=fi,nt&&(nt.position&&(this.position=nt.position),nt.positionAtOrigin&&(this.positionAtOrigin=nt.positionAtOrigin),nt.touchGestures&&(this.touchGestures=nt.touchGestures)),It.change.pipe((0,a.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,a.R)(this._destroyed)).subscribe(D=>{D?"keyboard"===D&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const D=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([P,U])=>{D.removeEventListener(P,U,lt)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(D,this.message,"tooltip"),this._focusMonitor.stopMonitoring(D)}show(D=this.showDelay,P){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const U=this._createOverlay(P);this._detach(),this._portal=this._portal||new oe.C5(this._tooltipComponent,this._viewContainerRef);const se=this._tooltipInstance=U.attach(this._portal).instance;se._triggerElement=this._elementRef.nativeElement,se._mouseLeaveHideDelay=this._hideDelay,se.afterHidden().pipe((0,a.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),se.show(D)}hide(D=this.hideDelay){const P=this._tooltipInstance;P&&(P.isVisible()?P.hide(D):(P._cancelPendingAnimations(),this._detach()))}toggle(D){this._isTooltipVisible()?this.hide():this.show(void 0,D)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(D){if(this._overlayRef){const se=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!D)&&se._origin instanceof $.SBq)return this._overlayRef;this._detach()}const P=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),U=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&D||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(P);return U.positionChanges.pipe((0,a.R)(this._destroyed)).subscribe(se=>{this._updateCurrentPositionClass(se.connectionPair),this._tooltipInstance&&se.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:U,panelClass:`${this._cssClassPrefix}-${qe}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,a.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,a.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,a.R)(this._destroyed)).subscribe(se=>{this._isTooltipVisible()&&se.keyCode===Ce.hY&&!(0,Ce.Vb)(se)&&(se.preventDefault(),se.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(D){const P=D.getConfig().positionStrategy,U=this._getOrigin(),se=this._getOverlayPosition();P.withPositions([this._addOffset({...U.main,...se.main}),this._addOffset({...U.fallback,...se.fallback})])}_addOffset(D){return D}_getOrigin(){const D=!this._dir||"ltr"==this._dir.value,P=this.position;let U;"above"==P||"below"==P?U={originX:"center",originY:"above"==P?"top":"bottom"}:"before"==P||"left"==P&&D||"right"==P&&!D?U={originX:"start",originY:"center"}:("after"==P||"right"==P&&D||"left"==P&&!D)&&(U={originX:"end",originY:"center"});const{x:se,y:Ye}=this._invertPosition(U.originX,U.originY);return{main:U,fallback:{originX:se,originY:Ye}}}_getOverlayPosition(){const D=!this._dir||"ltr"==this._dir.value,P=this.position;let U;"above"==P?U={overlayX:"center",overlayY:"bottom"}:"below"==P?U={overlayX:"center",overlayY:"top"}:"before"==P||"left"==P&&D||"right"==P&&!D?U={overlayX:"end",overlayY:"center"}:("after"==P||"right"==P&&D||"left"==P&&!D)&&(U={overlayX:"start",overlayY:"center"});const{x:se,y:Ye}=this._invertPosition(U.overlayX,U.overlayY);return{main:U,fallback:{overlayX:se,overlayY:Ye}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,H.q)(1),(0,a.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(D){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=D,this._tooltipInstance._markForCheck())}_invertPosition(D,P){return"above"===this.position||"below"===this.position?"top"===P?P="bottom":"bottom"===P&&(P="top"):"end"===D?D="start":"start"===D&&(D="end"),{x:D,y:P}}_updateCurrentPositionClass(D){const{overlayY:P,originX:U,originY:se}=D;let Ye;if(Ye="center"===P?this._dir&&"rtl"===this._dir.value?"end"===U?"left":"right":"start"===U?"left":"right":"bottom"===P&&"top"===se?"above":"below",Ye!==this._currentPosition){const Ft=this._overlayRef;if(Ft){const Mt=`${this._cssClassPrefix}-${qe}-`;Ft.removePanelClass(Mt+this._currentPosition),Ft.addPanelClass(Mt+Ye)}this._currentPosition=Ye}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",D=>{let P;this._setupPointerExitEventsIfNeeded(),void 0!==D.x&&void 0!==D.y&&(P=D),this.show(void 0,P)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",D=>{const P=D.targetTouches?.[0],U=P?{x:P.clientX,y:P.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,U),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const D=[];if(this._platformSupportsMouseEvents())D.push(["mouseleave",P=>{const U=P.relatedTarget;(!U||!this._overlayRef?.overlayElement.contains(U))&&this.hide()}],["wheel",P=>this._wheelListener(P)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const P=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};D.push(["touchend",P],["touchcancel",P])}this._addListeners(D),this._passiveListeners.push(...D)}_addListeners(D){D.forEach(([P,U])=>{this._elementRef.nativeElement.addEventListener(P,U,lt)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(D){if(this._isTooltipVisible()){const P=this._document.elementFromPoint(D.clientX,D.clientY),U=this._elementRef.nativeElement;P!==U&&!U.contains(P)&&this.hide()}}_disableNativeGesturesIfNecessary(){const D=this.touchGestures;if("off"!==D){const P=this._elementRef.nativeElement,U=P.style;("on"===D||"INPUT"!==P.nodeName&&"TEXTAREA"!==P.nodeName)&&(U.userSelect=U.msUserSelect=U.webkitUserSelect=U.MozUserSelect="none"),("on"===D||!P.draggable)&&(U.webkitUserDrag="none"),U.touchAction="none",U.webkitTapHighlightColor="transparent"}}}return ye.\u0275fac=function(D){$.$Z()},ye.\u0275dir=$.lG2({type:ye,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),ye})(),Se=(()=>{class ye extends zt{constructor(D,P,U,se,Ye,Ft,Mt,ni,Ot,It,nt,fi){super(D,P,U,se,Ye,Ft,Mt,ni,Ot,It,nt,fi),this._tooltipComponent=sn,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(D){const U=!this._dir||"ltr"==this._dir.value;return"top"===D.originY?D.offsetY=-8:"bottom"===D.originY?D.offsetY=8:"start"===D.originX?D.offsetX=U?-8:8:"end"===D.originX&&(D.offsetX=U?8:-8),D}}return ye.\u0275fac=function(D){return new(D||ye)($.Y36(pe.aV),$.Y36($.SBq),$.Y36(K.mF),$.Y36($.s_b),$.Y36($.R0b),$.Y36(Z.t4),$.Y36(X.$s),$.Y36(X.tE),$.Y36(Be),$.Y36(G.Is,8),$.Y36(Dt,8),$.Y36(Q.K0))},ye.\u0275dir=$.lG2({type:ye,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],exportAs:["matTooltip"],features:[$.qOj]}),ye})(),yt=(()=>{class ye{constructor(D,P){this._changeDetectorRef=D,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Ee.x,this._animationsDisabled="NoopAnimations"===P}show(D){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},D)}hide(D){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},D)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:D}){(!D||!this._triggerElement.contains(D))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:D}){(D===this._showAnimation||D===this._hideAnimation)&&this._finalizeAnimation(D===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(D){D?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(D){const P=this._tooltip.nativeElement,U=this._showAnimation,se=this._hideAnimation;if(P.classList.remove(D?se:U),P.classList.add(D?U:se),this._isVisible=D,D&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const Ye=getComputedStyle(P);("0s"===Ye.getPropertyValue("animation-duration")||"none"===Ye.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}D&&this._onShow(),this._animationsDisabled&&(P.classList.add("_mat-animation-noopable"),this._finalizeAnimation(D))}}return ye.\u0275fac=function(D){return new(D||ye)($.Y36($.sBO),$.Y36($.QbO,8))},ye.\u0275dir=$.lG2({type:ye}),ye})(),sn=(()=>{class ye extends yt{constructor(D,P,U){super(D,U),this._elementRef=P,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const D=this._elementRef.nativeElement.getBoundingClientRect();return D.height>24&&D.width>=200}}return ye.\u0275fac=function(D){return new(D||ye)($.Y36($.sBO),$.Y36($.SBq),$.Y36($.QbO,8))},ye.\u0275cmp=$.Xpm({type:ye,selectors:[["mat-tooltip-component"]],viewQuery:function(D,P){if(1&D&&$.Gf(Ge,7),2&D){let U;$.iGM(U=$.CRH())&&(P._tooltip=U.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(D,P){1&D&&$.NdJ("mouseleave",function(se){return P._handleMouseLeave(se)}),2&D&&$.Udp("zoom",P.isVisible()?1:null)},features:[$.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(D,P){1&D&&($.TgZ(0,"div",0,1),$.NdJ("animationend",function(se){return P._handleAnimationEnd(se)}),$.TgZ(2,"div",2),$._uU(3),$.qZA()()),2&D&&($.ekj("mdc-tooltip--multiline",P._isMultiline),$.Q6J("ngClass",P.tooltipClass),$.xp6(3),$.Oqu(P.message))},dependencies:[Q.mk],styles:['.mdc-tooltip__surface{word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color, #fff)}.mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color, #000)}.mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font, inherit);font-size:var(--mdc-plain-tooltip-supporting-text-size, inherit);font-weight:var(--mdc-plain-tooltip-supporting-text-weight, inherit);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, inherit)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),ye})(),gi=(()=>{class ye{}return ye.\u0275fac=function(D){return new(D||ye)},ye.\u0275mod=$.oAB({type:ye}),ye.\u0275inj=$.cJS({providers:[Di],imports:[X.rt,Q.ez,pe.U8,Te.BQ,Te.BQ,K.ZD]}),ye})()},6950:(ti,Pe,V)=>{V.d(Pe,{Dw:()=>zp,a4:()=>Qp});var a=V(4650),H=V(6895),fe=V(7582),Ce=V(4080),$=V(4968),Q=V(8372),Z=V(7340);function X(){}function G(t){return null==t?X:function(){return this.querySelector(t)}}function oe(){return[]}function Ee(t){return null==t?oe:function(){return this.querySelectorAll(t)}}function Ge(t){return function(){return this.matches(t)}}function ce(t){return function(n){return n.matches(t)}}var ze=Array.prototype.find;function Hi(){return this.firstElementChild}var zi=Array.prototype.filter;function Dt(){return Array.from(this.children)}function At(t){return new Array(t.length)}function ii(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function nn(t,n,e,i,s,r){for(var d,c=0,_=n.length,g=r.length;c<g;++c)(d=n[c])?(d.__data__=r[c],i[c]=d):e[c]=new ii(t,r[c]);for(;c<_;++c)(d=n[c])&&(s[c]=d)}function zt(t,n,e,i,s,r,c){var d,_,M,g=new Map,C=n.length,y=r.length,A=new Array(C);for(d=0;d<C;++d)(_=n[d])&&(A[d]=M=c.call(_,_.__data__,d,n)+"",g.has(M)?s[d]=_:g.set(M,_));for(d=0;d<y;++d)M=c.call(t,r[d],d,r)+"",(_=g.get(M))?(i[d]=_,_.__data__=r[d],g.delete(M)):e[d]=new ii(t,r[d]);for(d=0;d<C;++d)(_=n[d])&&g.get(A[d])===_&&(s[d]=_)}function Se(t){return t.__data__}function sn(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function P(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}ii.prototype={constructor:ii,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Ot="http://www.w3.org/1999/xhtml";const It={svg:"http://www.w3.org/2000/svg",xhtml:Ot,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function nt(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),It.hasOwnProperty(n)?{space:It[n],local:t}:t}function fi(t){return function(){this.removeAttribute(t)}}function an(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Je(t,n){return function(){this.setAttribute(t,n)}}function Mi(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function rn(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function on(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Hn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function _i(t){return function(){this.style.removeProperty(t)}}function ln(t,n,e){return function(){this.style.setProperty(t,n,e)}}function ms(t,n,e){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}function Pt(t,n){return t.style.getPropertyValue(n)||Hn(t).getComputedStyle(t,null).getPropertyValue(n)}function Yi(t){return function(){delete this[t]}}function Bt(t,n){return function(){this[t]=n}}function zn(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function gt(t){return t.trim().split(/^|\s+/)}function cn(t){return t.classList||new Oi(t)}function Oi(t){this._node=t,this._names=gt(t.getAttribute("class")||"")}function Ii(t,n){for(var e=cn(t),i=-1,s=n.length;++i<s;)e.add(n[i])}function Yn(t,n){for(var e=cn(t),i=-1,s=n.length;++i<s;)e.remove(n[i])}function Xn(t){return function(){Ii(this,t)}}function si(t){return function(){Yn(this,t)}}function hn(t,n){return function(){(n.apply(this,arguments)?Ii:Yn)(this,t)}}function Wn(){this.textContent=""}function xi(t){return function(){this.textContent=t}}function qs(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function ri(){this.innerHTML=""}function gs(t){return function(){this.innerHTML=t}}function fs(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function _s(){this.nextSibling&&this.parentNode.appendChild(this)}function vs(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ys(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Ot&&n.documentElement.namespaceURI===Ot?n.createElement(t):n.createElementNS(e,t)}}function Qs(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Un(t){var n=nt(t);return(n.local?Qs:ys)(n)}function bs(){return null}function Xt(){var t=this.parentNode;t&&t.removeChild(this)}function Xi(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function oi(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Ut(t){return function(){var n=this.__on;if(n){for(var r,e=0,i=-1,s=n.length;e<s;++e)r=n[e],t.type&&r.type!==t.type||r.name!==t.name?n[++i]=r:this.removeEventListener(r.type,r.listener,r.options);++i?n.length=i:delete this.__on}}}function jt(t,n,e){return function(){var s,i=this.__on,r=function vi(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var c=0,d=i.length;c<d;++c)if((s=i[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=r,s.options=e),void(s.value=n);this.addEventListener(t.type,r,e),s={type:t.type,name:t.name,value:n,listener:r,options:e},i?i.push(s):this.__on=[s]}}function jn(t,n,e){var i=Hn(t),s=i.CustomEvent;"function"==typeof s?s=new s(n,e):(s=i.document.createEvent("Event"),e?(s.initEvent(n,e.bubbles,e.cancelable),s.detail=e.detail):s.initEvent(n,!1,!1)),t.dispatchEvent(s)}function li(t,n){return function(){return jn(this,t,n)}}function gn(t,n){return function(){return jn(this,t,n.apply(this,arguments))}}Oi.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var fn=[null];function st(t,n){this._groups=t,this._parents=n}function _n(){return new st([[document.documentElement]],fn)}st.prototype=_n.prototype={constructor:st,select:function pe(t){"function"!=typeof t&&(t=G(t));for(var n=this._groups,e=n.length,i=new Array(e),s=0;s<e;++s)for(var _,g,r=n[s],c=r.length,d=i[s]=new Array(c),C=0;C<c;++C)(_=r[C])&&(g=t.call(_,_.__data__,C,r))&&("__data__"in _&&(g.__data__=_.__data__),d[C]=g);return new st(i,this._parents)},selectAll:function Te(t){t="function"==typeof t?function _e(t){return function(){return function K(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}(t.apply(this,arguments))}}(t):Ee(t);for(var n=this._groups,e=n.length,i=[],s=[],r=0;r<e;++r)for(var _,c=n[r],d=c.length,g=0;g<d;++g)(_=c[g])&&(i.push(t.call(_,_.__data__,g,c)),s.push(_));return new st(i,s)},selectChild:function Di(t){return this.select(null==t?Hi:function Be(t){return function(){return ze.call(this.children,t)}}("function"==typeof t?t:ce(t)))},selectChildren:function qe(t){return this.selectAll(null==t?Dt:function Ue(t){return function(){return zi.call(this.children,t)}}("function"==typeof t?t:ce(t)))},filter:function lt(t){"function"!=typeof t&&(t=Ge(t));for(var n=this._groups,e=n.length,i=new Array(e),s=0;s<e;++s)for(var _,r=n[s],c=r.length,d=i[s]=[],g=0;g<c;++g)(_=r[g])&&t.call(_,_.__data__,g,r)&&d.push(_);return new st(i,this._parents)},data:function yt(t,n){if(!arguments.length)return Array.from(this,Se);var e=n?zt:nn,i=this._parents,s=this._groups;"function"!=typeof t&&(t=function pi(t){return function(){return t}}(t));for(var r=s.length,c=new Array(r),d=new Array(r),_=new Array(r),g=0;g<r;++g){var C=i[g],y=s[g],A=y.length,M=sn(t.call(C,C&&C.__data__,g,i)),B=M.length,ee=d[g]=new Array(B),F=c[g]=new Array(B);e(C,y,ee,F,_[g]=new Array(A),M,n);for(var ae,le,te=0,z=0;te<B;++te)if(ae=ee[te]){for(te>=z&&(z=te+1);!(le=F[z])&&++z<B;);ae._next=le||null}}return(c=new st(c,i))._enter=d,c._exit=_,c},enter:function Fi(){return new st(this._enter||this._groups.map(At),this._parents)},exit:function Gi(){return new st(this._exit||this._groups.map(At),this._parents)},join:function gi(t,n,e){var i=this.enter(),s=this,r=this.exit();return"function"==typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=n&&(s=n(s))&&(s=s.selection()),null==e?r.remove():e(r),i&&s?i.merge(s).order():s},merge:function ye(t){for(var n=t.selection?t.selection():t,e=this._groups,i=n._groups,s=e.length,c=Math.min(s,i.length),d=new Array(s),_=0;_<c;++_)for(var M,g=e[_],C=i[_],y=g.length,A=d[_]=new Array(y),B=0;B<y;++B)(M=g[B]||C[B])&&(A[B]=M);for(;_<s;++_)d[_]=e[_];return new st(d,this._parents)},selection:function Zt(){return this},order:function it(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var c,i=t[n],s=i.length-1,r=i[s];--s>=0;)(c=i[s])&&(r&&4^c.compareDocumentPosition(r)&&r.parentNode.insertBefore(c,r),r=c);return this},sort:function D(t){function n(y,A){return y&&A?t(y.__data__,A.__data__):!y-!A}t||(t=P);for(var e=this._groups,i=e.length,s=new Array(i),r=0;r<i;++r){for(var g,c=e[r],d=c.length,_=s[r]=new Array(d),C=0;C<d;++C)(g=c[C])&&(_[C]=g);_.sort(n)}return new st(s,this._parents).order()},call:function U(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function se(){return Array.from(this)},node:function Ye(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],s=0,r=i.length;s<r;++s){var c=i[s];if(c)return c}return null},size:function Ft(){let t=0;for(const n of this)++t;return t},empty:function Mt(){return!this.node()},each:function ni(t){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var d,s=n[e],r=0,c=s.length;r<c;++r)(d=s[r])&&t.call(d,d.__data__,r,s);return this},attr:function Nn(t,n){var e=nt(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==n?e.local?an:fi:"function"==typeof n?e.local?on:rn:e.local?Mi:Je)(e,n))},style:function ps(t,n,e){return arguments.length>1?this.each((null==n?_i:"function"==typeof n?ms:ln)(t,n,e??"")):Pt(this.node(),t)},property:function Gn(t,n){return arguments.length>1?this.each((null==n?Yi:"function"==typeof n?zn:Bt)(t,n)):this.node()[t]},classed:function dn(t,n){var e=gt(t+"");if(arguments.length<2){for(var i=cn(this.node()),s=-1,r=e.length;++s<r;)if(!i.contains(e[s]))return!1;return!0}return this.each(("function"==typeof n?hn:n?Xn:si)(e,n))},text:function ai(t){return arguments.length?this.each(null==t?Wn:("function"==typeof t?qs:xi)(t)):this.node().textContent},html:function un(t){return arguments.length?this.each(null==t?ri:("function"==typeof t?fs:gs)(t)):this.node().innerHTML},raise:function xs(){return this.each(_s)},lower:function Js(){return this.each(vs)},append:function Ts(t){var n="function"==typeof t?t:Un(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function Tt(t,n){var e="function"==typeof t?t:Un(t),i=null==n?bs:"function"==typeof n?n:G(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function Gt(){return this.each(Xt)},clone:function mn(t){return this.select(t?oi:Xi)},datum:function Wt(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function pn(t,n,e){var s,c,i=function Pi(t){return t.trim().split(/^|\s+/).map(function(n){var e="",i=n.indexOf(".");return i>=0&&(e=n.slice(i+1),n=n.slice(0,i)),{type:n,name:e}})}(t+""),r=i.length;if(!(arguments.length<2)){for(d=n?jt:Ut,s=0;s<r;++s)this.each(d(i[s],n,e));return this}var d=this.node().__on;if(d)for(var C,_=0,g=d.length;_<g;++_)for(s=0,C=d[_];s<r;++s)if((c=i[s]).type===C.type&&c.name===C.name)return C.value},dispatch:function Zn(t,n){return this.each(("function"==typeof n?gn:li)(t,n))},[Symbol.iterator]:function*ci(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var c,i=t[n],s=0,r=i.length;s<r;++s)(c=i[s])&&(yield c)}};const qt=_n;function ct(t){return"string"==typeof t?new st([[document.querySelector(t)]],[document.documentElement]):new st([[t]],fn)}var ve={value:()=>{}};function xn(){for(var i,t=0,n=arguments.length,e={};t<n;++t){if(!(i=arguments[t]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new L(e)}function L(t){this._=t}function v(t,n){for(var s,e=0,i=t.length;e<i;++e)if((s=t[e]).name===n)return s.value}function S(t,n,e){for(var i=0,s=t.length;i<s;++i)if(t[i].name===n){t[i]=ve,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=e&&t.push({name:n,value:e}),t}L.prototype=xn.prototype={constructor:L,on:function(t,n){var s,e=this._,i=function T(t,n){return t.trim().split(/^|\s+/).map(function(e){var i="",s=e.indexOf(".");if(s>=0&&(i=e.slice(s+1),e=e.slice(0,s)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}(t+"",e),r=-1,c=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++r<c;)if(s=(t=i[r]).type)e[s]=S(e[s],t.name,n);else if(null==n)for(s in e)e[s]=S(e[s],t.name,null);return this}for(;++r<c;)if((s=(t=i[r]).type)&&(s=v(e[s],t.name)))return s},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new L(t)},call:function(t,n){if((s=arguments.length-2)>0)for(var s,r,e=new Array(s),i=0;i<s;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,s=(r=this._[t]).length;i<s;++i)r[i].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],s=0,r=i.length;s<r;++s)i[s].value.apply(n,e)}};const E=xn,N={capture:!0,passive:!1};function he(t){t.preventDefault(),t.stopImmediatePropagation()}function Lt(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function ft(t,n){var e=Object.create(t.prototype);for(var i in n)e[i]=n[i];return e}function Qe(){}var hi=1/.7,Jt="\\s*([+-]?\\d+)\\s*",Bi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ge="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vn=/^#([0-9a-f]{3,8})$/,Cs=new RegExp(`^rgb\\(${Jt},${Jt},${Jt}\\)$`),qn=new RegExp(`^rgb\\(${ge},${ge},${ge}\\)$`),yi=new RegExp(`^rgba\\(${Jt},${Jt},${Jt},${Bi}\\)$`),ws=new RegExp(`^rgba\\(${ge},${ge},${ge},${Bi}\\)$`),di=new RegExp(`^hsl\\(${Bi},${ge},${ge}\\)$`),Ks=new RegExp(`^hsla\\(${Bi},${ge},${ge},${Bi}\\)$`),Ss={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ks(){return this.rgb().formatHex()}function As(){return this.rgb().formatRgb()}function ui(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=vn.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Ls(n):3===e?new pt(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?yn(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?yn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Cs.exec(t))?new pt(n[1],n[2],n[3],1):(n=qn.exec(t))?new pt(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=yi.exec(t))?yn(n[1],n[2],n[3],n[4]):(n=ws.exec(t))?yn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=di.exec(t))?Es(n[1],n[2]/100,n[3]/100,1):(n=Ks.exec(t))?Es(n[1],n[2]/100,n[3]/100,n[4]):Ss.hasOwnProperty(t)?Ls(Ss[t]):"transparent"===t?new pt(NaN,NaN,NaN,0):null}function Ls(t){return new pt(t>>16&255,t>>8&255,255&t,1)}function yn(t,n,e,i){return i<=0&&(t=n=e=NaN),new pt(t,n,e,i)}function Tn(t,n,e,i){return 1===arguments.length?function nr(t){return t instanceof Qe||(t=ui(t)),t?new pt((t=t.rgb()).r,t.g,t.b,t.opacity):new pt}(t):new pt(t,n,e,i??1)}function pt(t,n,e,i){this.r=+t,this.g=+n,this.b=+e,this.opacity=+i}function ia(){return`#${Ti(this.r)}${Ti(this.g)}${Ti(this.b)}`}function Jn(){const t=bn(this.opacity);return`${1===t?"rgb(":"rgba("}${Et(this.r)}, ${Et(this.g)}, ${Et(this.b)}${1===t?")":`, ${t})`}`}function bn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Et(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ti(t){return((t=Et(t))<16?"0":"")+t.toString(16)}function Es(t,n,e,i){return i<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Vt(t,n,e,i)}function sa(t){if(t instanceof Vt)return new Vt(t.h,t.s,t.l,t.opacity);if(t instanceof Qe||(t=ui(t)),!t)return new Vt;if(t instanceof Vt)return t;var n=(t=t.rgb()).r/255,e=t.g/255,i=t.b/255,s=Math.min(n,e,i),r=Math.max(n,e,i),c=NaN,d=r-s,_=(r+s)/2;return d?(c=n===r?(e-i)/d+6*(e<i):e===r?(i-n)/d+2:(n-e)/d+4,d/=_<.5?r+s:2-r-s,c*=60):d=_>0&&_<1?0:c,new Vt(c,d,_,t.opacity)}function Vt(t,n,e,i){this.h=+t,this.s=+n,this.l=+e,this.opacity=+i}function Ri(t){return(t=(t||0)%360)<0?t+360:t}function Wi(t){return Math.max(0,Math.min(1,t||0))}function Kn(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Cn(t,n,e,i,s){var r=t*t,c=r*t;return((1-3*t+3*r-c)*n+(4-6*r+3*c)*e+(1+3*t+3*r-3*c)*i+c*s)/6}Lt(Qe,ui,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ks,formatHex:ks,formatHex8:function ea(){return this.rgb().formatHex8()},formatHsl:function ta(){return sa(this).formatHsl()},formatRgb:As,toString:As}),Lt(pt,Tn,ft(Qe,{brighter(t){return t=null==t?hi:Math.pow(hi,t),new pt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new pt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new pt(Et(this.r),Et(this.g),Et(this.b),bn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ia,formatHex:ia,formatHex8:function na(){return`#${Ti(this.r)}${Ti(this.g)}${Ti(this.b)}${Ti(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Jn,toString:Jn})),Lt(Vt,function Qn(t,n,e,i){return 1===arguments.length?sa(t):new Vt(t,n,e,i??1)},ft(Qe,{brighter(t){return t=null==t?hi:Math.pow(hi,t),new Vt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new Vt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*n,s=2*e-i;return new pt(Kn(t>=240?t-240:t+120,s,i),Kn(t,s,i),Kn(t<120?t+240:t-120,s,i),this.opacity)},clamp(){return new Vt(Ri(this.h),Wi(this.s),Wi(this.l),bn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=bn(this.opacity);return`${1===t?"hsl(":"hsla("}${Ri(this.h)}, ${100*Wi(this.s)}%, ${100*Wi(this.l)}%${1===t?")":`, ${t})`}`}}));const Ds=t=>()=>t;function Fs(t,n){var e=n-t;return e?function ra(t,n){return function(e){return t+e*n}}(t,e):Ds(isNaN(t)?n:t)}const wn=function t(n){var e=function oa(t){return 1==(t=+t)?Fs:function(n,e){return e-n?function ar(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(i){return Math.pow(t+i*n,e)}}(n,e,t):Ds(isNaN(n)?e:n)}}(n);function i(s,r){var c=e((s=Tn(s)).r,(r=Tn(r)).r),d=e(s.g,r.g),_=e(s.b,r.b),g=Fs(s.opacity,r.opacity);return function(C){return s.r=c(C),s.g=d(C),s.b=_(C),s.opacity=g(C),s+""}}return i.gamma=t,i}(1);function Ms(t){return function(n){var c,d,e=n.length,i=new Array(e),s=new Array(e),r=new Array(e);for(c=0;c<e;++c)d=Tn(n[c]),i[c]=d.r||0,s[c]=d.g||0,r[c]=d.b||0;return i=t(i),s=t(s),r=t(r),d.opacity=1,function(_){return d.r=i(_),d.g=s(_),d.b=r(_),d+""}}}function p(t,n){var c,e=n?n.length:0,i=t?Math.min(e,t.length):0,s=new Array(i),r=new Array(e);for(c=0;c<i;++c)s[c]=O(t[c],n[c]);for(;c<e;++c)r[c]=n[c];return function(d){for(c=0;c<i;++c)r[c]=s[c](d);return r}}function h(t,n){var e=new Date;return t=+t,n=+n,function(i){return e.setTime(t*(1-i)+n*i),e}}function o(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function l(t,n){var s,e={},i={};for(s in(null===t||"object"!=typeof t)&&(t={}),(null===n||"object"!=typeof n)&&(n={}),n)s in t?e[s]=O(t[s],n[s]):i[s]=n[s];return function(r){for(s in e)i[s]=e[s](r);return i}}Ms(function aa(t){var n=t.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),s=t[i],r=t[i+1];return Cn((e-i/n)*n,i>0?t[i-1]:2*s-r,s,r,i<n-1?t[i+2]:2*r-s)}}),Ms(function sr(t){var n=t.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*n);return Cn((e-i/n)*n,t[(i+n-1)%n],t[i%n],t[(i+1)%n],t[(i+2)%n])}});var u=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,m=new RegExp(u.source,"g");function b(t,n){var i,s,r,e=u.lastIndex=m.lastIndex=0,c=-1,d=[],_=[];for(t+="",n+="";(i=u.exec(t))&&(s=m.exec(n));)(r=s.index)>e&&(r=n.slice(e,r),d[c]?d[c]+=r:d[++c]=r),(i=i[0])===(s=s[0])?d[c]?d[c]+=s:d[++c]=s:(d[++c]=null,_.push({i:c,x:o(i,s)})),e=m.lastIndex;return e<n.length&&(r=n.slice(e),d[c]?d[c]+=r:d[++c]=r),d.length<2?_[0]?function x(t){return function(n){return t(n)+""}}(_[0].x):function f(t){return function(){return t}}(n):(n=_.length,function(g){for(var y,C=0;C<n;++C)d[(y=_[C]).i]=y.x(g);return d.join("")})}function w(t,n){n||(n=[]);var s,e=t?Math.min(n.length,t.length):0,i=n.slice();return function(r){for(s=0;s<e;++s)i[s]=t[s]*(1-r)+n[s]*r;return i}}function O(t,n){var i,e=typeof n;return null==n||"boolean"===e?Ds(n):("number"===e?o:"string"===e?(i=ui(n))?(n=i,wn):b:n instanceof ui?wn:n instanceof Date?h:function k(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(n)?w:Array.isArray(n)?p:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?l:o)(t,n)}function ne(t,n){if(t=function j(t){let n;for(;n=t.sourceEvent;)t=n;return t}(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,[(i=i.matrixTransform(n.getScreenCTM().inverse())).x,i.y]}if(n.getBoundingClientRect){var s=n.getBoundingClientRect();return[t.clientX-s.left-n.clientLeft,t.clientY-s.top-n.clientTop]}}return[t.pageX,t.pageY]}var Ke,et,Y=0,me=0,we=0,$e=1e3,tt=0,bt=0,Ui=0,es="object"==typeof performance&&performance.now?performance:Date,cr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ca(){return bt||(cr(fl),bt=es.now()+Ui)}function fl(){bt=0}function Os(){this._call=this._time=this._next=null}function hr(t,n,e){var i=new Os;return i.restart(t,n,e),i}function dr(){bt=(tt=es.now())+Ui,Y=me=0;try{!function _l(){ca(),++Y;for(var n,t=Ke;t;)(n=bt-t._time)>=0&&t._call.call(void 0,n),t=t._next;--Y}()}finally{Y=0,function vl(){for(var t,e,n=Ke,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ke=e);et=t,ha(i)}(),bt=0}}function xl(){var t=es.now(),n=t-tt;n>$e&&(Ui-=n,tt=t)}function ha(t){Y||(me&&(me=clearTimeout(me)),t-bt>24?(t<1/0&&(me=setTimeout(dr,t-es.now()-Ui)),we&&(we=clearInterval(we))):(we||(tt=es.now(),we=setInterval(xl,$e)),Y=1,cr(dr)))}function ur(t,n,e){var i=new Os;return i.restart(s=>{i.stop(),t(s+n)},n=null==n?0:+n,e),i}Os.prototype=hr.prototype={constructor:Os,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?ca():+e)+(null==n?0:+n),!this._next&&et!==this&&(et?et._next=this:Ke=this,et=this),this._call=t,this._time=e,ha()},stop:function(){this._call&&(this._call=null,this._time=1/0,ha())}};var yl=E("start","end","cancel","interrupt"),Tl=[],mr=0,pr=1,da=2,Is=3,gr=4,ua=5,Ps=6;function Bs(t,n,e,i,s,r){var c=t.__transition;if(c){if(e in c)return}else t.__transition={};!function bl(t,n,e){var s,i=t.__transition;function c(g){var C,y,A,M;if(e.state!==pr)return _();for(C in i)if((M=i[C]).name===e.name){if(M.state===Is)return ur(c);M.state===gr?(M.state=Ps,M.timer.stop(),M.on.call("interrupt",t,t.__data__,M.index,M.group),delete i[C]):+C<n&&(M.state=Ps,M.timer.stop(),M.on.call("cancel",t,t.__data__,M.index,M.group),delete i[C])}if(ur(function(){e.state===Is&&(e.state=gr,e.timer.restart(d,e.delay,e.time),d(g))}),e.state=da,e.on.call("start",t,t.__data__,e.index,e.group),e.state===da){for(e.state=Is,s=new Array(A=e.tween.length),C=0,y=-1;C<A;++C)(M=e.tween[C].value.call(t,t.__data__,e.index,e.group))&&(s[++y]=M);s.length=y+1}}function d(g){for(var C=g<e.duration?e.ease.call(null,g/e.duration):(e.timer.restart(_),e.state=ua,1),y=-1,A=s.length;++y<A;)s[y].call(t,C);e.state===ua&&(e.on.call("end",t,t.__data__,e.index,e.group),_())}function _(){for(var g in e.state=Ps,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=hr(function r(g){e.state=pr,e.timer.restart(c,e.delay,e.time),e.delay<=g&&c(g-e.delay)},0,e.time)}(t,e,{name:n,index:i,group:s,on:yl,tween:Tl,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:mr})}function ma(t,n){var e=Qt(t,n);if(e.state>mr)throw new Error("too late; already scheduled");return e}function mi(t,n){var e=Qt(t,n);if(e.state>Is)throw new Error("too late; already running");return e}function Qt(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function pa(t,n){var i,s,c,e=t.__transition,r=!0;if(e){for(c in n=null==n?null:n+"",e)(i=e[c]).name===n?(s=i.state>da&&i.state<ua,i.state=Ps,i.timer.stop(),i.on.call(s?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete e[c]):r=!1;r&&delete t.__transition}}var Rs,fr=180/Math.PI,ga={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _r(t,n,e,i,s,r){var c,d,_;return(c=Math.sqrt(t*t+n*n))&&(t/=c,n/=c),(_=t*e+n*i)&&(e-=t*_,i-=n*_),(d=Math.sqrt(e*e+i*i))&&(e/=d,i/=d,_/=d),t*i<n*e&&(t=-t,n=-n,_=-_,c=-c),{translateX:s,translateY:r,rotate:Math.atan2(n,t)*fr,skewX:Math.atan(_)*fr,scaleX:c,scaleY:d}}function xr(t,n,e,i){function s(g){return g.length?g.pop()+" ":""}return function(g,C){var y=[],A=[];return g=t(g),C=t(C),function r(g,C,y,A,M,B){if(g!==y||C!==A){var ee=M.push("translate(",null,n,null,e);B.push({i:ee-4,x:o(g,y)},{i:ee-2,x:o(C,A)})}else(y||A)&&M.push("translate("+y+n+A+e)}(g.translateX,g.translateY,C.translateX,C.translateY,y,A),function c(g,C,y,A){g!==C?(g-C>180?C+=360:C-g>180&&(g+=360),A.push({i:y.push(s(y)+"rotate(",null,i)-2,x:o(g,C)})):C&&y.push(s(y)+"rotate("+C+i)}(g.rotate,C.rotate,y,A),function d(g,C,y,A){g!==C?A.push({i:y.push(s(y)+"skewX(",null,i)-2,x:o(g,C)}):C&&y.push(s(y)+"skewX("+C+i)}(g.skewX,C.skewX,y,A),function _(g,C,y,A,M,B){if(g!==y||C!==A){var ee=M.push(s(M)+"scale(",null,",",null,")");B.push({i:ee-4,x:o(g,y)},{i:ee-2,x:o(C,A)})}else(1!==y||1!==A)&&M.push(s(M)+"scale("+y+","+A+")")}(g.scaleX,g.scaleY,C.scaleX,C.scaleY,y,A),g=C=null,function(M){for(var F,B=-1,ee=A.length;++B<ee;)y[(F=A[B]).i]=F.x(M);return y.join("")}}}var kl=xr(function wl(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?ga:_r(n.a,n.b,n.c,n.d,n.e,n.f)},"px, ","px)","deg)"),Al=xr(function Sl(t){return null!=t&&(Rs||(Rs=document.createElementNS("http://www.w3.org/2000/svg","g")),Rs.setAttribute("transform",t),t=Rs.transform.baseVal.consolidate())?_r((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ga},", ",")",")");function Ll(t,n){var e,i;return function(){var s=mi(this,t),r=s.tween;if(r!==e)for(var c=0,d=(i=e=r).length;c<d;++c)if(i[c].name===n){(i=i.slice()).splice(c,1);break}s.tween=i}}function El(t,n,e){var i,s;if("function"!=typeof e)throw new Error;return function(){var r=mi(this,t),c=r.tween;if(c!==i){s=(i=c).slice();for(var d={name:n,value:e},_=0,g=s.length;_<g;++_)if(s[_].name===n){s[_]=d;break}_===g&&s.push(d)}r.tween=s}}function fa(t,n,e){var i=t._id;return t.each(function(){var s=mi(this,i);(s.value||(s.value={}))[n]=e.apply(this,arguments)}),function(s){return Qt(s,i).value[n]}}function vr(t,n){var e;return("number"==typeof n?o:n instanceof ui?wn:(e=ui(n))?(n=e,wn):b)(t,n)}function Fl(t){return function(){this.removeAttribute(t)}}function Ml(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ol(t,n,e){var i,r,s=e+"";return function(){var c=this.getAttribute(t);return c===s?null:c===i?r:r=n(i=c,e)}}function Il(t,n,e){var i,r,s=e+"";return function(){var c=this.getAttributeNS(t.space,t.local);return c===s?null:c===i?r:r=n(i=c,e)}}function Pl(t,n,e){var i,s,r;return function(){var c,_,d=e(this);return null==d?void this.removeAttribute(t):(c=this.getAttribute(t))===(_=d+"")?null:c===i&&_===s?r:(s=_,r=n(i=c,d))}}function Bl(t,n,e){var i,s,r;return function(){var c,_,d=e(this);return null==d?void this.removeAttributeNS(t.space,t.local):(c=this.getAttributeNS(t.space,t.local))===(_=d+"")?null:c===i&&_===s?r:(s=_,r=n(i=c,d))}}function Nl(t,n){var e,i;function s(){var r=n.apply(this,arguments);return r!==i&&(e=(i=r)&&function $l(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,r)),e}return s._value=n,s}function Hl(t,n){var e,i;function s(){var r=n.apply(this,arguments);return r!==i&&(e=(i=r)&&function Vl(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,r)),e}return s._value=n,s}function Gl(t,n){return function(){ma(this,t).delay=+n.apply(this,arguments)}}function Yl(t,n){return n=+n,function(){ma(this,t).delay=n}}function Wl(t,n){return function(){mi(this,t).duration=+n.apply(this,arguments)}}function Ul(t,n){return n=+n,function(){mi(this,t).duration=n}}var lc=qt.prototype.constructor;function yr(t){return function(){this.style.removeProperty(t)}}var kc=0;function bi(t,n,e,i){this._groups=t,this._parents=n,this._name=e,this._id=i}function Tr(){return++kc}var Ci=qt.prototype;bi.prototype=function Ac(t){return qt().transition(t)}.prototype={constructor:bi,select:function rc(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=G(t));for(var i=this._groups,s=i.length,r=new Array(s),c=0;c<s;++c)for(var C,y,d=i[c],_=d.length,g=r[c]=new Array(_),A=0;A<_;++A)(C=d[A])&&(y=t.call(C,C.__data__,A,d))&&("__data__"in C&&(y.__data__=C.__data__),g[A]=y,Bs(g[A],n,e,A,g,Qt(C,e)));return new bi(r,this._parents,n,e)},selectAll:function oc(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Ee(t));for(var i=this._groups,s=i.length,r=[],c=[],d=0;d<s;++d)for(var C,_=i[d],g=_.length,y=0;y<g;++y)if(C=_[y]){for(var M,A=t.call(C,C.__data__,y,_),B=Qt(C,e),ee=0,F=A.length;ee<F;++ee)(M=A[ee])&&Bs(M,n,e,ee,A,B);r.push(A),c.push(C)}return new bi(r,c,n,e)},selectChild:Ci.selectChild,selectChildren:Ci.selectChildren,filter:function Kl(t){"function"!=typeof t&&(t=Ge(t));for(var n=this._groups,e=n.length,i=new Array(e),s=0;s<e;++s)for(var _,r=n[s],c=r.length,d=i[s]=[],g=0;g<c;++g)(_=r[g])&&t.call(_,_.__data__,g,r)&&d.push(_);return new bi(i,this._parents,this._name,this._id)},merge:function ec(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,i=n.length,r=Math.min(i,e.length),c=new Array(i),d=0;d<r;++d)for(var A,_=n[d],g=e[d],C=_.length,y=c[d]=new Array(C),M=0;M<C;++M)(A=_[M]||g[M])&&(y[M]=A);for(;d<i;++d)c[d]=n[d];return new bi(c,this._parents,this._name,this._id)},selection:function cc(){return new lc(this._groups,this._parents)},transition:function wc(){for(var t=this._name,n=this._id,e=Tr(),i=this._groups,s=i.length,r=0;r<s;++r)for(var _,c=i[r],d=c.length,g=0;g<d;++g)if(_=c[g]){var C=Qt(_,n);Bs(_,t,e,g,c,{time:C.time+C.delay+C.duration,delay:0,duration:C.duration,ease:C.ease})}return new bi(i,this._parents,t,e)},call:Ci.call,nodes:Ci.nodes,node:Ci.node,size:Ci.size,empty:Ci.empty,each:Ci.each,on:function nc(t,n){var e=this._id;return arguments.length<2?Qt(this.node(),e).on.on(t):this.each(function ic(t,n,e){var i,s,r=function tc(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||"start"===n})}(n)?ma:mi;return function(){var c=r(this,t),d=c.on;d!==i&&(s=(i=d).copy()).on(n,e),c.on=s}}(e,t,n))},attr:function Rl(t,n){var e=nt(t),i="transform"===e?Al:vr;return this.attrTween(t,"function"==typeof n?(e.local?Bl:Pl)(e,i,fa(this,"attr."+t,n)):null==n?(e.local?Ml:Fl)(e):(e.local?Il:Ol)(e,i,n))},attrTween:function zl(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var i=nt(t);return this.tween(e,(i.local?Nl:Hl)(i,n))},style:function pc(t,n,e){var i="transform"==(t+="")?kl:vr;return null==n?this.styleTween(t,function hc(t,n){var e,i,s;return function(){var r=Pt(this,t),c=(this.style.removeProperty(t),Pt(this,t));return r===c?null:r===e&&c===i?s:s=n(e=r,i=c)}}(t,i)).on("end.style."+t,yr(t)):"function"==typeof n?this.styleTween(t,function uc(t,n,e){var i,s,r;return function(){var c=Pt(this,t),d=e(this),_=d+"";return null==d&&(this.style.removeProperty(t),_=d=Pt(this,t)),c===_?null:c===i&&_===s?r:(s=_,r=n(i=c,d))}}(t,i,fa(this,"style."+t,n))).each(function mc(t,n){var e,i,s,d,r="style."+n,c="end."+r;return function(){var _=mi(this,t),g=_.on,C=null==_.value[r]?d||(d=yr(n)):void 0;(g!==e||s!==C)&&(i=(e=g).copy()).on(c,s=C),_.on=i}}(this._id,t)):this.styleTween(t,function dc(t,n,e){var i,r,s=e+"";return function(){var c=Pt(this,t);return c===s?null:c===i?r:r=n(i=c,e)}}(t,i,n),e).on("end.style."+t,null)},styleTween:function _c(t,n,e){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;return this.tween(i,function fc(t,n,e){var i,s;function r(){var c=n.apply(this,arguments);return c!==s&&(i=(s=c)&&function gc(t,n,e){return function(i){this.style.setProperty(t,n.call(this,i),e)}}(t,c,e)),i}return r._value=n,r}(t,n,e??""))},text:function yc(t){return this.tween("text","function"==typeof t?function vc(t){return function(){var n=t(this);this.textContent=n??""}}(fa(this,"text",t)):function xc(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function Cc(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function bc(t){var n,e;function i(){var s=t.apply(this,arguments);return s!==e&&(n=(e=s)&&function Tc(t){return function(n){this.textContent=t.call(this,n)}}(s)),n}return i._value=t,i}(t))},remove:function ac(){return this.on("end.remove",function sc(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function Dl(t,n){var e=this._id;if(t+="",arguments.length<2){for(var c,i=Qt(this.node(),e).tween,s=0,r=i.length;s<r;++s)if((c=i[s]).name===t)return c.value;return null}return this.each((null==n?Ll:El)(e,t,n))},delay:function Xl(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Gl:Yl)(n,t)):Qt(this.node(),n).delay},duration:function jl(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Wl:Ul)(n,t)):Qt(this.node(),n).duration},ease:function ql(t){var n=this._id;return arguments.length?this.each(function Zl(t,n){if("function"!=typeof n)throw new Error;return function(){mi(this,t).ease=n}}(n,t)):Qt(this.node(),n).ease},easeVarying:function Ql(t){if("function"!=typeof t)throw new Error;return this.each(function Jl(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;mi(this,t).ease=e}}(this._id,t))},end:function Sc(){var t,n,e=this,i=e._id,s=e.size();return new Promise(function(r,c){var d={value:c},_={value:function(){0==--s&&r()}};e.each(function(){var g=mi(this,i),C=g.on;C!==t&&((n=(t=C).copy())._.cancel.push(d),n._.interrupt.push(d),n._.end.push(_)),g.on=n}),0===s&&r()})},[Symbol.iterator]:Ci[Symbol.iterator]};var Ec={time:null,delay:0,duration:250,ease:function Lc(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Dc(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}qt.prototype.interrupt=function Cl(t){return this.each(function(){pa(this,t)})},qt.prototype.transition=function Fc(t){var n,e;t instanceof bi?(n=t._id,t=t._name):(n=Tr(),(e=Ec).time=ca(),t=null==t?null:t+"");for(var i=this._groups,s=i.length,r=0;r<s;++r)for(var _,c=i[r],d=c.length,g=0;g<d;++g)(_=c[g])&&Bs(_,t,n,g,c,e||Dc(_,n));return new bi(i,this._parents,t,n)};const _a=t=>()=>t;function Mc(t,{sourceEvent:n,target:e,selection:i,mode:s,dispatch:r}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},selection:{value:i,enumerable:!0,configurable:!0},mode:{value:s,enumerable:!0,configurable:!0},_:{value:r}})}function xa(t){t.preventDefault(),t.stopImmediatePropagation()}var br={name:"drag"},va={name:"space"},Sn={name:"handle"},kn={name:"center"};const{abs:Cr,max:_t,min:xt}=Math;function wr(t){return[+t[0],+t[1]]}function ya(t){return[wr(t[0]),wr(t[1])]}var Vs={name:"x",handles:["w","e"].map(ts),input:function(t,n){return null==t?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},$s={name:"y",handles:["n","s"].map(ts),input:function(t,n){return null==t?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},wi=(["n","w","e","s","nw","ne","sw","se"].map(ts),{overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"}),Sr={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},kr={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Pc={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Bc={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function ts(t){return{type:t}}function Rc(t){return!t.ctrlKey&&!t.button}function Vc(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function $c(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ta(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function is(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function zc(t,n){return null==t||null==n?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Ca(t){let n,e,i;function s(d,_,g=0,C=d.length){if(g<C){if(0!==n(_,_))return C;do{const y=g+C>>>1;e(d[y],_)<0?g=y+1:C=y}while(g<C)}return g}return 2!==t.length?(n=is,e=(d,_)=>is(t(d),_),i=(d,_)=>t(d)-_):(n=t===is||t===zc?t:Gc,e=t,i=t),{left:s,center:function c(d,_,g=0,C=d.length){const y=s(d,_,g,C-1);return y>g&&i(d[y-1],_)>-i(d[y],_)?y-1:y},right:function r(d,_,g=0,C=d.length){if(g<C){if(0!==n(_,_))return C;do{const y=g+C>>>1;e(d[y],_)<=0?g=y+1:C=y}while(g<C)}return g}}}function Gc(){return 0}const Yc=Math.sqrt(50),Xc=Math.sqrt(10),Wc=Math.sqrt(2);function Ns(t,n,e){const i=(n-t)/Math.max(0,e),s=Math.floor(Math.log10(i)),r=i/Math.pow(10,s),c=r>=Yc?10:r>=Xc?5:r>=Wc?2:1;let d,_,g;return s<0?(g=Math.pow(10,-s)/c,d=Math.round(t*g),_=Math.round(n*g),d/g<t&&++d,_/g>n&&--_,g=-g):(g=Math.pow(10,s)*c,d=Math.round(t/g),_=Math.round(n/g),d*g<t&&++d,_*g>n&&--_),_<d&&.5<=e&&e<2?Ns(t,n,2*e):[d,_,g]}function wa(t,n,e){return Ns(t=+t,n=+n,e=+e)[2]}function Sa(t,n,e){e=+e;const i=(n=+n)<(t=+t),s=i?wa(n,t,e):wa(t,n,e);return(i?-1:1)*(s<0?1/-s:s)}const Si=1e3,Yt=60*Si,ki=60*Yt,Ai=24*ki,ka=7*Ai,Ar=30*Ai,Aa=365*Ai,La=new Date,Ea=new Date;function at(t,n,e,i){function s(r){return t(r=0===arguments.length?new Date:new Date(+r)),r}return s.floor=r=>(t(r=new Date(+r)),r),s.ceil=r=>(t(r=new Date(r-1)),n(r,1),t(r),r),s.round=r=>{const c=s(r),d=s.ceil(r);return r-c<d-r?c:d},s.offset=(r,c)=>(n(r=new Date(+r),null==c?1:Math.floor(c)),r),s.range=(r,c,d)=>{const _=[];if(r=s.ceil(r),d=null==d?1:Math.floor(d),!(r<c&&d>0))return _;let g;do{_.push(g=new Date(+r)),n(r,d),t(r)}while(g<r&&r<c);return _},s.filter=r=>at(c=>{if(c>=c)for(;t(c),!r(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;n(c,-1),!r(c););else for(;--d>=0;)for(;n(c,1),!r(c););}),e&&(s.count=(r,c)=>(La.setTime(+r),Ea.setTime(+c),t(La),t(Ea),Math.floor(e(La,Ea))),s.every=r=>(r=Math.floor(r),isFinite(r)&&r>0?r>1?s.filter(i?c=>i(c)%r==0:c=>s.count(0,c)%r==0):s:null)),s}const Hs=at(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);Hs.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?at(n=>{n.setTime(Math.floor(n/t)*t)},(n,e)=>{n.setTime(+n+e*t)},(n,e)=>(e-n)/t):Hs:null);const An=at(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+n*Si)},(t,n)=>(n-t)/Si,t=>t.getUTCSeconds()),Da=at(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Si)},(t,n)=>{t.setTime(+t+n*Yt)},(t,n)=>(n-t)/Yt,t=>t.getMinutes()),Lr=at(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+n*Yt)},(t,n)=>(n-t)/Yt,t=>t.getUTCMinutes()),Fa=at(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Si-t.getMinutes()*Yt)},(t,n)=>{t.setTime(+t+n*ki)},(t,n)=>(n-t)/ki,t=>t.getHours()),Er=at(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+n*ki)},(t,n)=>(n-t)/ki,t=>t.getUTCHours()),Ma=at(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Yt)/Ai,t=>t.getDate()-1),Dr=(at(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/Ai,t=>t.getUTCDate()-1),at(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/Ai,t=>Math.floor(t/Ai)));function ji(t){return at(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(n,e)=>{n.setDate(n.getDate()+7*e)},(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Yt)/ka)}const Oa=ji(0);function Zi(t){return at(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+7*e)},(n,e)=>(e-n)/ka)}ji(1),ji(2),ji(3),ji(4),ji(5),ji(6);const Fr=Zi(0),Ia=(Zi(1),Zi(2),Zi(3),Zi(4),Zi(5),Zi(6),at(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear()),t=>t.getMonth())),Mr=at(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear()),t=>t.getUTCMonth()),zs=at(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear());zs.every=t=>isFinite(t=Math.floor(t))&&t>0?at(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e*t)}):null;const Pa=at(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());function Or(t,n,e,i,s,r){const c=[[An,1,Si],[An,5,5*Si],[An,15,15*Si],[An,30,30*Si],[r,1,Yt],[r,5,5*Yt],[r,15,15*Yt],[r,30,30*Yt],[s,1,ki],[s,3,3*ki],[s,6,6*ki],[s,12,12*ki],[i,1,Ai],[i,2,2*Ai],[e,1,ka],[n,1,Ar],[n,3,3*Ar],[t,1,Aa]];function _(g,C,y){const A=Math.abs(C-g)/y,M=Ca(([,,F])=>F).right(c,A);if(M===c.length)return t.every(Sa(g/Aa,C/Aa,y));if(0===M)return Hs.every(Math.max(Sa(g,C,y),1));const[B,ee]=c[A/c[M-1][2]<c[M][2]/A?M-1:M];return B.every(ee)}return[function d(g,C,y){const A=C<g;A&&([g,C]=[C,g]);const M=y&&"function"==typeof y.range?y:_(g,C,y),B=M?M.range(g,+C+1):[];return A?B.reverse():B},_]}Pa.every=t=>isFinite(t=Math.floor(t))&&t>0?at(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null;const[Mg,Og]=Or(Pa,Mr,Fr,Dr,Er,Lr),[rh,oh]=Or(zs,Ia,Oa,Ma,Fa,Da);var Ba=new Date,Ra=new Date;function Li(t,n,e,i){function s(r){return t(r=0===arguments.length?new Date:new Date(+r)),r}return s.floor=function(r){return t(r=new Date(+r)),r},s.ceil=function(r){return t(r=new Date(r-1)),n(r,1),t(r),r},s.round=function(r){var c=s(r),d=s.ceil(r);return r-c<d-r?c:d},s.offset=function(r,c){return n(r=new Date(+r),null==c?1:Math.floor(c)),r},s.range=function(r,c,d){var g,_=[];if(r=s.ceil(r),d=null==d?1:Math.floor(d),!(r<c&&d>0))return _;do{_.push(g=new Date(+r)),n(r,d),t(r)}while(g<r&&r<c);return _},s.filter=function(r){return Li(function(c){if(c>=c)for(;t(c),!r(c);)c.setTime(c-1)},function(c,d){if(c>=c)if(d<0)for(;++d<=0;)for(;n(c,-1),!r(c););else for(;--d>=0;)for(;n(c,1),!r(c););})},e&&(s.count=function(r,c){return Ba.setTime(+r),Ra.setTime(+c),t(Ba),t(Ra),Math.floor(e(Ba,Ra))},s.every=function(r){return r=Math.floor(r),isFinite(r)&&r>0?r>1?s.filter(i?function(c){return i(c)%r==0}:function(c){return s.count(0,c)%r==0}):s:null}),s}const Va=6e4,ns=60*Va*24,Ir=7*ns;function qi(t){return Li(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCDate(n.getUTCDate()+7*e)},function(n,e){return(e-n)/Ir})}var Pr=qi(0),Gs=qi(1),Ln=(qi(2),qi(3),qi(4));const Rr=(qi(5),qi(6),Li(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/ns},function(t){return t.getUTCDate()-1}));function Ji(t){return Li(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(n,e){n.setDate(n.getDate()+7*e)},function(n,e){return(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Va)/Ir})}var Vr=Ji(0),Ys=Ji(1),En=(Ji(2),Ji(3),Ji(4));const Nr=(Ji(5),Ji(6),Li(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Va)/ns,t=>t.getDate()-1));var $a=Li(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});$a.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Li(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};const ss=$a;var Na=Li(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Na.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Li(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};const as=Na;function Ha(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function za(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function rs(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}var Dn,to,Hr={"-":"",_:" ",0:"0"},ht=/^\s*\d+/,_h=/^%/,xh=/[\\^$*+?|[\]().{}]/g;function Ae(t,n,e){var i=t<0?"-":"",s=(i?-t:t)+"",r=s.length;return i+(r<e?new Array(e-r+1).join(n)+s:s)}function vh(t){return t.replace(xh,"\\$&")}function os(t){return new RegExp("^(?:"+t.map(vh).join("|")+")","i")}function ls(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function yh(t,n,e){var i=ht.exec(n.slice(e,e+1));return i?(t.w=+i[0],e+i[0].length):-1}function Th(t,n,e){var i=ht.exec(n.slice(e,e+1));return i?(t.u=+i[0],e+i[0].length):-1}function bh(t,n,e){var i=ht.exec(n.slice(e,e+2));return i?(t.U=+i[0],e+i[0].length):-1}function Ch(t,n,e){var i=ht.exec(n.slice(e,e+2));return i?(t.V=+i[0],e+i[0].length):-1}function wh(t,n,e){var i=ht.exec(n.slice(e,e+2));return i?(t.W=+i[0],e+i[0].length):-1}function zr(t,n,e){var i=ht.exec(n.slice(e,e+4));return i?(t.y=+i[0],e+i[0].length):-1}function Gr(t,n,e){var i=ht.exec(n.slice(e,e+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),e+i[0].length):-1}function Sh(t,n,e){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),e+i[0].length):-1}function kh(t,n,e){var i=ht.exec(n.slice(e,e+1));return i?(t.q=3*i[0]-3,e+i[0].length):-1}function Ah(t,n,e){var i=ht.exec(n.slice(e,e+2));return i?(t.m=i[0]-1,e+i[0].length):-1}function Yr(t,n,e){var i=ht.exec(n.slice(e,e+2));return i?(t.d=+i[0],e+i[0].length):-1}function Lh(t,n,e){var i=ht.exec(n.slice(e,e+3));return i?(t.m=0,t.d=+i[0],e+i[0].length):-1}function Xr(t,n,e){var i=ht.exec(n.slice(e,e+2));return i?(t.H=+i[0],e+i[0].length):-1}function Eh(t,n,e){var i=ht.exec(n.slice(e,e+2));return i?(t.M=+i[0],e+i[0].length):-1}function Dh(t,n,e){var i=ht.exec(n.slice(e,e+2));return i?(t.S=+i[0],e+i[0].length):-1}function Fh(t,n,e){var i=ht.exec(n.slice(e,e+3));return i?(t.L=+i[0],e+i[0].length):-1}function Mh(t,n,e){var i=ht.exec(n.slice(e,e+6));return i?(t.L=Math.floor(i[0]/1e3),e+i[0].length):-1}function Oh(t,n,e){var i=_h.exec(n.slice(e,e+1));return i?e+i[0].length:-1}function Ih(t,n,e){var i=ht.exec(n.slice(e));return i?(t.Q=+i[0],e+i[0].length):-1}function Ph(t,n,e){var i=ht.exec(n.slice(e));return i?(t.s=+i[0],e+i[0].length):-1}function Wr(t,n){return Ae(t.getDate(),n,2)}function Bh(t,n){return Ae(t.getHours(),n,2)}function Rh(t,n){return Ae(t.getHours()%12||12,n,2)}function Vh(t,n){return Ae(1+Nr.count(ss(t),t),n,3)}function Ur(t,n){return Ae(t.getMilliseconds(),n,3)}function $h(t,n){return Ur(t,n)+"000"}function Nh(t,n){return Ae(t.getMonth()+1,n,2)}function Hh(t,n){return Ae(t.getMinutes(),n,2)}function zh(t,n){return Ae(t.getSeconds(),n,2)}function Gh(t){var n=t.getDay();return 0===n?7:n}function Yh(t,n){return Ae(Vr.count(ss(t)-1,t),n,2)}function jr(t){var n=t.getDay();return n>=4||0===n?En(t):En.ceil(t)}function Xh(t,n){return t=jr(t),Ae(En.count(ss(t),t)+(4===ss(t).getDay()),n,2)}function Wh(t){return t.getDay()}function Uh(t,n){return Ae(Ys.count(ss(t)-1,t),n,2)}function jh(t,n){return Ae(t.getFullYear()%100,n,2)}function Zh(t,n){return Ae((t=jr(t)).getFullYear()%100,n,2)}function qh(t,n){return Ae(t.getFullYear()%1e4,n,4)}function Jh(t,n){var e=t.getDay();return Ae((t=e>=4||0===e?En(t):En.ceil(t)).getFullYear()%1e4,n,4)}function Qh(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Ae(n/60|0,"0",2)+Ae(n%60,"0",2)}function Zr(t,n){return Ae(t.getUTCDate(),n,2)}function Kh(t,n){return Ae(t.getUTCHours(),n,2)}function ed(t,n){return Ae(t.getUTCHours()%12||12,n,2)}function td(t,n){return Ae(1+Rr.count(as(t),t),n,3)}function qr(t,n){return Ae(t.getUTCMilliseconds(),n,3)}function id(t,n){return qr(t,n)+"000"}function nd(t,n){return Ae(t.getUTCMonth()+1,n,2)}function sd(t,n){return Ae(t.getUTCMinutes(),n,2)}function ad(t,n){return Ae(t.getUTCSeconds(),n,2)}function rd(t){var n=t.getUTCDay();return 0===n?7:n}function od(t,n){return Ae(Pr.count(as(t)-1,t),n,2)}function Jr(t){var n=t.getUTCDay();return n>=4||0===n?Ln(t):Ln.ceil(t)}function ld(t,n){return t=Jr(t),Ae(Ln.count(as(t),t)+(4===as(t).getUTCDay()),n,2)}function cd(t){return t.getUTCDay()}function hd(t,n){return Ae(Gs.count(as(t)-1,t),n,2)}function dd(t,n){return Ae(t.getUTCFullYear()%100,n,2)}function ud(t,n){return Ae((t=Jr(t)).getUTCFullYear()%100,n,2)}function md(t,n){return Ae(t.getUTCFullYear()%1e4,n,4)}function pd(t,n){var e=t.getUTCDay();return Ae((t=e>=4||0===e?Ln(t):Ln.ceil(t)).getUTCFullYear()%1e4,n,4)}function gd(){return"+0000"}function Qr(){return"%"}function Kr(t){return+t}function eo(t){return Math.floor(+t/1e3)}function io(t){return null===t?NaN:+t}!function vd(t){Dn=function fh(t){var n=t.dateTime,e=t.date,i=t.time,s=t.periods,r=t.days,c=t.shortDays,d=t.months,_=t.shortMonths,g=os(s),C=ls(s),y=os(r),A=ls(r),M=os(c),B=ls(c),ee=os(d),F=ls(d),W=os(_),te=ls(_),z={a:function He(J){return c[J.getDay()]},A:function wt(J){return r[J.getDay()]},b:function De(J){return _[J.getMonth()]},B:function ot(J){return d[J.getMonth()]},c:null,d:Wr,e:Wr,f:$h,g:Zh,G:Jh,H:Bh,I:Rh,j:Vh,L:Ur,m:Nh,M:Hh,p:function je(J){return s[+(J.getHours()>=12)]},q:function Ze(J){return 1+~~(J.getMonth()/3)},Q:Kr,s:eo,S:zh,u:Gh,U:Yh,V:Xh,w:Wh,W:Uh,x:null,X:null,y:jh,Y:qh,Z:Qh,"%":Qr},ae={a:function ds(J){return c[J.getUTCDay()]},A:function Rn(J){return r[J.getUTCDay()]},b:function Vn(J){return _[J.getUTCMonth()]},B:function $n(J){return d[J.getUTCMonth()]},c:null,d:Zr,e:Zr,f:id,g:ud,G:pd,H:Kh,I:ed,j:td,L:qr,m:nd,M:sd,p:function vt(J){return s[+(J.getUTCHours()>=12)]},q:function tn(J){return 1+~~(J.getUTCMonth()/3)},Q:Kr,s:eo,S:ad,u:rd,U:od,V:ld,w:cd,W:hd,x:null,X:null,y:dd,Y:md,Z:gd,"%":Qr},le={a:function Ve(J,xe,ke){var R=M.exec(xe.slice(ke));return R?(J.w=B.get(R[0].toLowerCase()),ke+R[0].length):-1},A:function re(J,xe,ke){var R=y.exec(xe.slice(ke));return R?(J.w=A.get(R[0].toLowerCase()),ke+R[0].length):-1},b:function ut(J,xe,ke){var R=W.exec(xe.slice(ke));return R?(J.m=te.get(R[0].toLowerCase()),ke+R[0].length):-1},B:function Le(J,xe,ke){var R=ee.exec(xe.slice(ke));return R?(J.m=F.get(R[0].toLowerCase()),ke+R[0].length):-1},c:function Ie(J,xe,ke){return Oe(J,n,xe,ke)},d:Yr,e:Yr,f:Mh,g:Gr,G:zr,H:Xr,I:Xr,j:Lh,L:Fh,m:Ah,M:Eh,p:function Ct(J,xe,ke){var R=g.exec(xe.slice(ke));return R?(J.p=C.get(R[0].toLowerCase()),ke+R[0].length):-1},q:kh,Q:Ih,s:Ph,S:Dh,u:Th,U:bh,V:Ch,w:yh,W:wh,x:function Ht(J,xe,ke){return Oe(J,e,xe,ke)},X:function Ne(J,xe,ke){return Oe(J,i,xe,ke)},y:Gr,Y:zr,Z:Sh,"%":Oh};function ie(J,xe){return function(ke){var kt,ue,We,R=[],Xe=-1,Fe=0,St=J.length;for(ke instanceof Date||(ke=new Date(+ke));++Xe<St;)37===J.charCodeAt(Xe)&&(R.push(J.slice(Fe,Xe)),null!=(ue=Hr[kt=J.charAt(++Xe)])?kt=J.charAt(++Xe):ue="e"===kt?" ":"0",(We=xe[kt])&&(kt=We(ke,ue)),R.push(kt),Fe=Xe+1);return R.push(J.slice(Fe,Xe)),R.join("")}}function Me(J,xe){return function(ke){var Fe,St,R=rs(1900,void 0,1);if(Oe(R,J,ke+="",0)!=ke.length)return null;if("Q"in R)return new Date(R.Q);if("s"in R)return new Date(1e3*R.s+("L"in R?R.L:0));if(xe&&!("Z"in R)&&(R.Z=0),"p"in R&&(R.H=R.H%12+12*R.p),void 0===R.m&&(R.m="q"in R?R.q:0),"V"in R){if(R.V<1||R.V>53)return null;"w"in R||(R.w=1),"Z"in R?(St=(Fe=za(rs(R.y,0,1))).getUTCDay(),Fe=St>4||0===St?Gs.ceil(Fe):Gs(Fe),Fe=Rr.offset(Fe,7*(R.V-1)),R.y=Fe.getUTCFullYear(),R.m=Fe.getUTCMonth(),R.d=Fe.getUTCDate()+(R.w+6)%7):(St=(Fe=Ha(rs(R.y,0,1))).getDay(),Fe=St>4||0===St?Ys.ceil(Fe):Ys(Fe),Fe=Nr.offset(Fe,7*(R.V-1)),R.y=Fe.getFullYear(),R.m=Fe.getMonth(),R.d=Fe.getDate()+(R.w+6)%7)}else("W"in R||"U"in R)&&("w"in R||(R.w="u"in R?R.u%7:"W"in R?1:0),St="Z"in R?za(rs(R.y,0,1)).getUTCDay():Ha(rs(R.y,0,1)).getDay(),R.m=0,R.d="W"in R?(R.w+6)%7+7*R.W-(St+5)%7:R.w+7*R.U-(St+6)%7);return"Z"in R?(R.H+=R.Z/100|0,R.M+=R.Z%100,za(R)):Ha(R)}}function Oe(J,xe,ke,R){for(var kt,ue,Xe=0,Fe=xe.length,St=ke.length;Xe<Fe;){if(R>=St)return-1;if(37===(kt=xe.charCodeAt(Xe++))){if(kt=xe.charAt(Xe++),!(ue=le[kt in Hr?xe.charAt(Xe++):kt])||(R=ue(J,ke,R))<0)return-1}else if(kt!=ke.charCodeAt(R++))return-1}return R}return z.x=ie(e,z),z.X=ie(i,z),z.c=ie(n,z),ae.x=ie(e,ae),ae.X=ie(i,ae),ae.c=ie(n,ae),{format:function(J){var xe=ie(J+="",z);return xe.toString=function(){return J},xe},parse:function(J){var xe=Me(J+="",!1);return xe.toString=function(){return J},xe},utcFormat:function(J){var xe=ie(J+="",ae);return xe.toString=function(){return J},xe},utcParse:function(J){var xe=Me(J+="",!0);return xe.toString=function(){return J},xe}}}(t),to=Dn.format}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const yd=Ca(is).right,so=(Ca(io),yd);function Td(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}function Cd(t){return+t}var ao=[0,1];function Fn(t){return t}function Ga(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:function bd(t){return function(){return t}}(isNaN(n)?NaN:.5)}function Sd(t,n,e){var i=t[0],s=t[1],r=n[0],c=n[1];return s<i?(i=Ga(s,i),r=e(c,r)):(i=Ga(i,s),r=e(r,c)),function(d){return r(i(d))}}function kd(t,n,e){var i=Math.min(t.length,n.length)-1,s=new Array(i),r=new Array(i),c=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++c<i;)s[c]=Ga(t[c],t[c+1]),r[c]=e(n[c],n[c+1]);return function(d){var _=so(t,d,1,i)-1;return r[_](s[_](d))}}function ro(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function oo(){return function Ad(){var i,s,r,d,_,g,t=ao,n=ao,e=O,c=Fn;function C(){var A=Math.min(t.length,n.length);return c!==Fn&&(c=function wd(t,n){var e;return t>n&&(e=t,t=n,n=e),function(i){return Math.max(t,Math.min(n,i))}}(t[0],t[A-1])),d=A>2?kd:Sd,_=g=null,y}function y(A){return null==A||isNaN(A=+A)?r:(_||(_=d(t.map(i),n,e)))(i(c(A)))}return y.invert=function(A){return c(s((g||(g=d(n,t.map(i),o)))(A)))},y.domain=function(A){return arguments.length?(t=Array.from(A,Cd),C()):t.slice()},y.range=function(A){return arguments.length?(n=Array.from(A),C()):n.slice()},y.rangeRound=function(A){return n=Array.from(A),e=Td,C()},y.clamp=function(A){return arguments.length?(c=!!A||Fn,C()):c!==Fn},y.interpolate=function(A){return arguments.length?(e=A,C()):e},y.unknown=function(A){return arguments.length?(r=A,y):r},function(A,M){return i=A,s=M,C()}}()(Fn,Fn)}function cs(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function Ed(t){return new Date(t)}function Dd(t){return t instanceof Date?+t:+new Date(+t)}function lo(t,n,e,i,s,r,c,d,_,g){var C=oo(),y=C.invert,A=C.domain,M=g(".%L"),B=g(":%S"),ee=g("%I:%M"),F=g("%I %p"),W=g("%a %d"),te=g("%b %d"),z=g("%B"),ae=g("%Y");function le(ie){return(_(ie)<ie?M:d(ie)<ie?B:c(ie)<ie?ee:r(ie)<ie?F:i(ie)<ie?s(ie)<ie?W:te:e(ie)<ie?z:ae)(ie)}return C.invert=function(ie){return new Date(y(ie))},C.domain=function(ie){return arguments.length?A(Array.from(ie,Dd)):A().map(Ed)},C.ticks=function(ie){var Me=A();return t(Me[0],Me[Me.length-1],ie??10)},C.tickFormat=function(ie,Me){return null==Me?le:g(Me)},C.nice=function(ie){var Me=A();return(!ie||"function"!=typeof ie.range)&&(ie=n(Me[0],Me[Me.length-1],ie??10)),ie?A(function Ld(t,n){var c,e=0,i=(t=t.slice()).length-1,s=t[e],r=t[i];return r<s&&(c=e,e=i,i=c,c=s,s=r,r=c),t[e]=n.floor(s),t[i]=n.ceil(r),t}(Me,ie)):C},C.copy=function(){return ro(C,lo(t,n,e,i,s,r,c,d,_,g))},C}function co(){return cs.apply(lo(rh,oh,zs,Ia,Oa,Ma,Fa,Da,An,to).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var ho,Fd=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xs(t){if(!(n=Fd.exec(t)))throw new Error("invalid format: "+t);var n;return new Ya({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Ya(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ws(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,i=t.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+t.slice(e+1)]}function Mn(t){return(t=Ws(Math.abs(t)))?t[1]:NaN}function uo(t,n){var e=Ws(t,n);if(!e)return t+"";var i=e[0],s=e[1];return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")}Xs.prototype=Ya.prototype,Ya.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const mo={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function Md(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>uo(100*t,n),r:uo,s:function Rd(t,n){var e=Ws(t,n);if(!e)return t+"";var i=e[0],s=e[1],r=s-(ho=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,c=i.length;return r===c?i:r>c?i+new Array(r-c+1).join("0"):r>0?i.slice(0,r)+"."+i.slice(r):"0."+new Array(1-r).join("0")+Ws(t,Math.max(0,n+r-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function po(t){return t}var Us,_o,xo,go=Array.prototype.map,fo=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Gd(t){var n=t.domain;return t.ticks=function(e){var i=n();return function Uc(t,n,e){if(!((e=+e)>0))return[];if((t=+t)==(n=+n))return[t];const i=n<t,[s,r,c]=i?Ns(n,t,e):Ns(t,n,e);if(!(r>=s))return[];const d=r-s+1,_=new Array(d);if(i)if(c<0)for(let g=0;g<d;++g)_[g]=(r-g)/-c;else for(let g=0;g<d;++g)_[g]=(r-g)*c;else if(c<0)for(let g=0;g<d;++g)_[g]=(s+g)/-c;else for(let g=0;g<d;++g)_[g]=(s+g)*c;return _}(i[0],i[i.length-1],e??10)},t.tickFormat=function(e,i){var s=n();return function zd(t,n,e,i){var r,s=Sa(t,n,e);switch((i=Xs(i??",f")).type){case"s":var c=Math.max(Math.abs(t),Math.abs(n));return null==i.precision&&!isNaN(r=function Od(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Mn(n)/3)))-Mn(Math.abs(t)))}(s,c))&&(i.precision=r),xo(i,c);case"":case"e":case"g":case"p":case"r":null==i.precision&&!isNaN(r=function Nd(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Mn(n)-Mn(t))+1}(s,Math.max(Math.abs(t),Math.abs(n))))&&(i.precision=r-("e"===i.type));break;case"f":case"%":null==i.precision&&!isNaN(r=function Hd(t){return Math.max(0,-Mn(Math.abs(t)))}(s))&&(i.precision=r-2*("%"===i.type))}return _o(i)}(s[0],s[s.length-1],e??10,i)},t.nice=function(e){null==e&&(e=10);var _,g,i=n(),s=0,r=i.length-1,c=i[s],d=i[r],C=10;for(d<c&&(g=c,c=d,d=g,g=s,s=r,r=g);C-- >0;){if((g=wa(c,d,e))===_)return i[s]=c,i[r]=d,n(i);if(g>0)c=Math.floor(c/g)*g,d=Math.ceil(d/g)*g;else{if(!(g<0))break;c=Math.ceil(c*g)/g,d=Math.floor(d*g)/g}_=g}return t},t}function Qi(){var t=oo();return t.copy=function(){return ro(t,Qi())},cs.apply(t,arguments),Gd(t)}function vo(t,n,e){t=+t,n=+n,e=(s=arguments.length)<2?(n=t,t=0,1):s<3?1:+e;for(var i=-1,s=0|Math.max(0,Math.ceil((n-t)/e)),r=new Array(s);++i<s;)r[i]=t+i*e;return r}!function $d(t){Us=function Vd(t){var n=void 0===t.grouping||void 0===t.thousands?po:function Id(t,n){return function(e,i){for(var s=e.length,r=[],c=0,d=t[0],_=0;s>0&&d>0&&(_+d+1>i&&(d=Math.max(1,i-_)),r.push(e.substring(s-=d,s+d)),!((_+=d+1)>i));)d=t[c=(c+1)%t.length];return r.reverse().join(n)}}(go.call(t.grouping,Number),t.thousands+""),e=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",s=void 0===t.decimal?".":t.decimal+"",r=void 0===t.numerals?po:function Pd(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}(go.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",d=void 0===t.minus?"\u2212":t.minus+"",_=void 0===t.nan?"NaN":t.nan+"";function g(y){var A=(y=Xs(y)).fill,M=y.align,B=y.sign,ee=y.symbol,F=y.zero,W=y.width,te=y.comma,z=y.precision,ae=y.trim,le=y.type;"n"===le?(te=!0,le="g"):mo[le]||(void 0===z&&(z=12),ae=!0,le="g"),(F||"0"===A&&"="===M)&&(F=!0,A="0",M="=");var ie="$"===ee?e:"#"===ee&&/[boxX]/.test(le)?"0"+le.toLowerCase():"",Me="$"===ee?i:/[%p]/.test(le)?c:"",Oe=mo[le],Ct=/[defgprs%]/.test(le);function Ve(re){var Ie,Ht,Ne,ut=ie,Le=Me;if("c"===le)Le=Oe(re)+Le,re="";else{var He=(re=+re)<0||1/re<0;if(re=isNaN(re)?_:Oe(Math.abs(re),z),ae&&(re=function Bd(t){e:for(var s,n=t.length,e=1,i=-1;e<n;++e)switch(t[e]){case".":i=s=e;break;case"0":0===i&&(i=e),s=e;break;default:if(!+t[e])break e;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(s+1):t}(re)),He&&0==+re&&"+"!==B&&(He=!1),ut=(He?"("===B?B:d:"-"===B||"("===B?"":B)+ut,Le=("s"===le?fo[8+ho/3]:"")+Le+(He&&"("===B?")":""),Ct)for(Ie=-1,Ht=re.length;++Ie<Ht;)if(48>(Ne=re.charCodeAt(Ie))||Ne>57){Le=(46===Ne?s+re.slice(Ie+1):re.slice(Ie))+Le,re=re.slice(0,Ie);break}}te&&!F&&(re=n(re,1/0));var wt=ut.length+re.length+Le.length,De=wt<W?new Array(W-wt+1).join(A):"";switch(te&&F&&(re=n(De+re,De.length?W-Le.length:1/0),De=""),M){case"<":re=ut+re+Le+De;break;case"=":re=ut+De+re+Le;break;case"^":re=De.slice(0,wt=De.length>>1)+ut+re+Le+De.slice(wt);break;default:re=De+ut+re+Le}return r(re)}return z=void 0===z?6:/[gprs]/.test(le)?Math.max(1,Math.min(21,z)):Math.max(0,Math.min(20,z)),Ve.toString=function(){return y+""},Ve}return{format:g,formatPrefix:function C(y,A){var M=g(((y=Xs(y)).type="f",y)),B=3*Math.max(-8,Math.min(8,Math.floor(Mn(A)/3))),ee=Math.pow(10,-B),F=fo[8+B/3];return function(W){return M(ee*W)+F}}}}(t),_o=Us.format,xo=Us.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});class yo extends Map{constructor(n,e=Co){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=n)for(const[i,s]of n)this.set(i,s)}get(n){return super.get(Xa(this,n))}has(n){return super.has(Xa(this,n))}set(n,e){return super.set(To(this,n),e)}delete(n){return super.delete(bo(this,n))}}class of extends Set{constructor(n,e=Co){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=n)for(const i of n)this.add(i)}has(n){return super.has(Xa(this,n))}add(n){return super.add(To(this,n))}delete(n){return super.delete(bo(this,n))}}function Xa({_intern:t,_key:n},e){const i=n(e);return t.has(i)?t.get(i):e}function To({_intern:t,_key:n},e){const i=n(e);return t.has(i)?t.get(i):(t.set(i,e),e)}function bo({_intern:t,_key:n},e){const i=n(e);return t.has(i)&&(e=t.get(i),t.delete(i)),e}function Co(t){return null!==t&&"object"==typeof t?t.valueOf():t}const wo=Symbol("implicit");function Wa(){var t=new yo,n=[],e=[],i=wo;function s(r){let c=t.get(r);if(void 0===c){if(i!==wo)return i;t.set(r,c=n.push(r)-1)}return e[c%e.length]}return s.domain=function(r){if(!arguments.length)return n.slice();n=[],t=new yo;for(const c of r)t.has(c)||t.set(c,n.push(c)-1);return s},s.range=function(r){return arguments.length?(e=Array.from(r),s):e.slice()},s.unknown=function(r){return arguments.length?(i=r,s):i},s.copy=function(){return Wa(n,e).unknown(i)},cs.apply(s,arguments),s}function Ua(){var r,c,t=Wa().unknown(void 0),n=t.domain,e=t.range,i=0,s=1,d=!1,_=0,g=0,C=.5;function y(){var A=n().length,M=s<i,B=M?s:i,ee=M?i:s;r=(ee-B)/Math.max(1,A-_+2*g),d&&(r=Math.floor(r)),B+=(ee-B-r*(A-_))*C,c=r*(1-_),d&&(B=Math.round(B),c=Math.round(c));var F=vo(A).map(function(W){return B+r*W});return e(M?F.reverse():F)}return delete t.unknown,t.domain=function(A){return arguments.length?(n(A),y()):n()},t.range=function(A){return arguments.length?([i,s]=A,i=+i,s=+s,y()):[i,s]},t.rangeRound=function(A){return[i,s]=A,i=+i,s=+s,d=!0,y()},t.bandwidth=function(){return c},t.step=function(){return r},t.round=function(A){return arguments.length?(d=!!A,y()):d},t.padding=function(A){return arguments.length?(_=Math.min(1,g=+A),y()):_},t.paddingInner=function(A){return arguments.length?(_=Math.min(1,A),y()):_},t.paddingOuter=function(A){return arguments.length?(g=+A,y()):g},t.align=function(A){return arguments.length?(C=Math.max(0,Math.min(1,A)),y()):C},t.copy=function(){return Ua(n(),[i,s]).round(d).paddingInner(_).paddingOuter(g).align(C)},cs.apply(y(),arguments)}function So(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return So(n())},t}function ko(){return So(Ua.apply(null,arguments).paddingInner(1))}function Yd(t,n,e=io){if((i=t.length)&&!isNaN(n=+n)){if(n<=0||i<2)return+e(t[0],0,t);if(n>=1)return+e(t[i-1],i-1,t);var i,s=(i-1)*n,r=Math.floor(s),c=+e(t[r],r,t);return c+(+e(t[r+1],r+1,t)-c)*(s-r)}}function Ao(){var i,t=[],n=[],e=[];function s(){var c=0,d=Math.max(1,n.length);for(e=new Array(d-1);++c<d;)e[c-1]=Yd(t,c/d);return r}function r(c){return null==c||isNaN(c=+c)?i:n[so(e,c)]}return r.invertExtent=function(c){var d=n.indexOf(c);return d<0?[NaN,NaN]:[d>0?e[d-1]:t[0],d<e.length?e[d]:t[t.length-1]]},r.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let d of c)null!=d&&!isNaN(d=+d)&&t.push(d);return t.sort(is),s()},r.range=function(c){return arguments.length?(n=Array.from(c),s()):n.slice()},r.unknown=function(c){return arguments.length?(i=c,r):i},r.quantiles=function(){return e.slice()},r.copy=function(){return Ao().domain(t).range(n).unknown(i)},cs.apply(r,arguments)}function Lo(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function dt(t){return function(){return t}}function Eo(t){this._context=t}function ja(t){return new Eo(t)}Eo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};const Za=Math.PI,qa=2*Za,Ki=1e-6,Xd=qa-Ki;function Do(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}class js{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==n?Do:function Wd(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return Do;const e=10**n;return function(i){this._+=i[0];for(let s=1,r=i.length;s<r;++s)this._+=Math.round(arguments[s]*e)/e+i[s]}}(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,i,s){this._append`Q${+n},${+e},${this._x1=+i},${this._y1=+s}`}bezierCurveTo(n,e,i,s,r,c){this._append`C${+n},${+e},${+i},${+s},${this._x1=+r},${this._y1=+c}`}arcTo(n,e,i,s,r){if(n=+n,e=+e,i=+i,s=+s,(r=+r)<0)throw new Error(`negative radius: ${r}`);let c=this._x1,d=this._y1,_=i-n,g=s-e,C=c-n,y=d-e,A=C*C+y*y;if(null===this._x1)this._append`M${this._x1=n},${this._y1=e}`;else if(A>Ki)if(Math.abs(y*_-g*C)>Ki&&r){let M=i-c,B=s-d,ee=_*_+g*g,F=M*M+B*B,W=Math.sqrt(ee),te=Math.sqrt(A),z=r*Math.tan((Za-Math.acos((ee+A-F)/(2*W*te)))/2),ae=z/te,le=z/W;Math.abs(ae-1)>Ki&&this._append`L${n+ae*C},${e+ae*y}`,this._append`A${r},${r},0,0,${+(y*M>C*B)},${this._x1=n+le*_},${this._y1=e+le*g}`}else this._append`L${this._x1=n},${this._y1=e}`}arc(n,e,i,s,r,c){if(n=+n,e=+e,c=!!c,(i=+i)<0)throw new Error(`negative radius: ${i}`);let d=i*Math.cos(s),_=i*Math.sin(s),g=n+d,C=e+_,y=1^c,A=c?s-r:r-s;null===this._x1?this._append`M${g},${C}`:(Math.abs(this._x1-g)>Ki||Math.abs(this._y1-C)>Ki)&&this._append`L${g},${C}`,i&&(A<0&&(A=A%qa+qa),A>Xd?this._append`A${i},${i},0,1,${y},${n-d},${e-_}A${i},${i},0,1,${y},${this._x1=g},${this._y1=C}`:A>Ki&&this._append`A${i},${i},0,${+(A>=Za)},${y},${this._x1=n+i*Math.cos(r)},${this._y1=e+i*Math.sin(r)}`)}rect(n,e,i,s){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${i=+i}v${+s}h${-i}Z`}toString(){return this._}}function Fo(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(null==e)n=null;else{const i=Math.floor(e);if(!(i>=0))throw new RangeError(`invalid digits: ${e}`);n=i}return t},()=>new js(n)}function Mo(t){return t[0]}function Oo(t){return t[1]}function Io(t,n){var e=dt(!0),i=null,s=ja,r=null,c=Fo(d);function d(_){var g,y,M,C=(_=Lo(_)).length,A=!1;for(null==i&&(r=s(M=c())),g=0;g<=C;++g)!(g<C&&e(y=_[g],g,_))===A&&((A=!A)?r.lineStart():r.lineEnd()),A&&r.point(+t(y,g,_),+n(y,g,_));if(M)return r=null,M+""||null}return t="function"==typeof t?t:void 0===t?Mo:dt(t),n="function"==typeof n?n:void 0===n?Oo:dt(n),d.x=function(_){return arguments.length?(t="function"==typeof _?_:dt(+_),d):t},d.y=function(_){return arguments.length?(n="function"==typeof _?_:dt(+_),d):n},d.defined=function(_){return arguments.length?(e="function"==typeof _?_:dt(!!_),d):e},d.curve=function(_){return arguments.length?(s=_,null!=i&&(r=s(i)),d):s},d.context=function(_){return arguments.length?(null==_?i=r=null:r=s(i=_),d):i},d}function Po(t,n,e){var i=null,s=dt(!0),r=null,c=ja,d=null,_=Fo(g);function g(y){var A,M,B,F,te,ee=(y=Lo(y)).length,W=!1,z=new Array(ee),ae=new Array(ee);for(null==r&&(d=c(te=_())),A=0;A<=ee;++A){if(!(A<ee&&s(F=y[A],A,y))===W)if(W=!W)M=A,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),B=A-1;B>=M;--B)d.point(z[B],ae[B]);d.lineEnd(),d.areaEnd()}W&&(z[A]=+t(F,A,y),ae[A]=+n(F,A,y),d.point(i?+i(F,A,y):z[A],e?+e(F,A,y):ae[A]))}if(te)return d=null,te+""||null}function C(){return Io().defined(s).curve(c).context(r)}return t="function"==typeof t?t:void 0===t?Mo:dt(+t),n="function"==typeof n?n:dt(void 0===n?0:+n),e="function"==typeof e?e:void 0===e?Oo:dt(+e),g.x=function(y){return arguments.length?(t="function"==typeof y?y:dt(+y),i=null,g):t},g.x0=function(y){return arguments.length?(t="function"==typeof y?y:dt(+y),g):t},g.x1=function(y){return arguments.length?(i=null==y?null:"function"==typeof y?y:dt(+y),g):i},g.y=function(y){return arguments.length?(n="function"==typeof y?y:dt(+y),e=null,g):n},g.y0=function(y){return arguments.length?(n="function"==typeof y?y:dt(+y),g):n},g.y1=function(y){return arguments.length?(e=null==y?null:"function"==typeof y?y:dt(+y),g):e},g.lineX0=g.lineY0=function(){return C().x(t).y(n)},g.lineY1=function(){return C().x(t).y(e)},g.lineX1=function(){return C().x(i).y(n)},g.defined=function(y){return arguments.length?(s="function"==typeof y?y:dt(!!y),g):s},g.curve=function(y){return arguments.length?(c=y,null!=r&&(d=c(r)),g):c},g.context=function(y){return arguments.length?(null==y?r=d=null:d=c(r=y),g):r},g}var jd=V(5126);const Zd=["caretElm"];function qd(t,n){}const Jd=function(t){return{model:t}};function Qd(t,n){if(1&t&&(a.TgZ(0,"span"),a.YNc(1,qd,0,0,"ng-template",5),a.qZA()),2&t){const e=a.oxw();a.xp6(1),a.Q6J("ngTemplateOutlet",e.template)("ngTemplateOutletContext",a.VKq(2,Jd,e.context))}}function Kd(t,n){if(1&t&&a._UZ(0,"span",6),2&t){const e=a.oxw();a.Q6J("innerHTML",e.title,a.oJD)}}function eu(t,n){if(1&t&&(a.TgZ(0,"header",4)(1,"span",5),a._uU(2),a.qZA()()),2&t){const e=a.oxw();a.xp6(2),a.Oqu(e.title)}}function tu(t,n){if(1&t){const e=a.EpF();a.TgZ(0,"li",6)(1,"ngx-charts-legend-entry",7),a.NdJ("select",function(s){a.CHM(e);const r=a.oxw();return a.KtG(r.labelClick.emit(s))})("activate",function(s){a.CHM(e);const r=a.oxw();return a.KtG(r.activate(s))})("deactivate",function(s){a.CHM(e);const r=a.oxw();return a.KtG(r.deactivate(s))}),a.qZA()()}if(2&t){const e=n.$implicit,i=a.oxw();a.xp6(1),a.Q6J("label",e.label)("formattedLabel",e.formattedLabel)("color",e.color)("isActive",i.isActive(e))}}function iu(t,n){if(1&t&&(a.O4$(),a.kcU(),a._UZ(0,"ngx-charts-scale-legend",4)),2&t){const e=a.oxw();a.Q6J("horizontal",e.legendOptions&&e.legendOptions.position===e.LegendPosition.Below)("valueRange",e.legendOptions.domain)("colors",e.legendOptions.colors)("height",e.view[1])("width",e.legendWidth)}}function nu(t,n){if(1&t){const e=a.EpF();a.O4$(),a.kcU(),a.TgZ(0,"ngx-charts-legend",5),a.NdJ("labelClick",function(s){a.CHM(e);const r=a.oxw();return a.KtG(r.legendLabelClick.emit(s))})("labelActivate",function(s){a.CHM(e);const r=a.oxw();return a.KtG(r.legendLabelActivate.emit(s))})("labelDeactivate",function(s){a.CHM(e);const r=a.oxw();return a.KtG(r.legendLabelDeactivate.emit(s))}),a.qZA()}if(2&t){const e=a.oxw();a.Q6J("horizontal",e.legendOptions&&e.legendOptions.position===e.LegendPosition.Below)("data",e.legendOptions.domain)("title",e.legendOptions.title)("colors",e.legendOptions.colors)("height",e.view[1])("width",e.legendWidth)("activeEntries",e.activeEntries)}}const Bo=["*"],su=["ngx-charts-axis-label",""],Ro=["ticksel"],au=["ngx-charts-x-axis-ticks",""];function ru(t,n){1&t&&(a.O4$(),a.GkF(0))}function ou(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"tspan",10),a._uU(1),a.qZA()),2&t){const e=n.$implicit;a.uIk("y",12*n.index),a.xp6(1),a.hij(" ",e," ")}}function lu(t,n){if(1&t&&(a.O4$(),a.ynx(0),a.YNc(1,ou,2,2,"tspan",9),a.BQk()),2&t){const e=n.ngIf;a.xp6(1),a.Q6J("ngForOf",e)}}function cu(t,n){if(1&t&&(a.O4$(),a.YNc(0,lu,2,1,"ng-container",4)),2&t){const e=a.oxw(2).$implicit,i=a.oxw();a.Q6J("ngIf",i.tickChunks(e))}}function hu(t,n){if(1&t&&(a.O4$(),a._uU(0)),2&t){const e=a.oxw().ngIf,i=a.oxw(2);a.hij(" ",i.tickTrim(e)," ")}}function du(t,n){if(1&t&&(a.O4$(),a.ynx(0),a.TgZ(1,"title"),a._uU(2),a.qZA(),a.TgZ(3,"text",5),a.YNc(4,ru,1,0,"ng-container",6),a.qZA(),a.YNc(5,cu,1,1,"ng-template",null,7,a.W1O),a.YNc(7,hu,1,1,"ng-template",null,8,a.W1O),a.BQk()),2&t){const e=n.ngIf,i=a.MAs(6),s=a.MAs(8),r=a.oxw(2);a.xp6(2),a.Oqu(e),a.xp6(1),a.uIk("text-anchor",r.textAnchor)("transform",r.textTransform),a.xp6(1),a.Q6J("ngIf",r.isWrapTicksSupported)("ngIfThen",i)("ngIfElse",s)}}function uu(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g",3),a.YNc(1,du,9,6,"ng-container",4),a.qZA()),2&t){const e=n.$implicit,i=a.oxw();a.uIk("transform",i.tickTransform(e)),a.xp6(1),a.Q6J("ngIf",i.tickFormat(e))}}function mu(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g"),a._UZ(1,"line",11),a.qZA()),2&t){const e=a.oxw(2);a.uIk("transform",e.gridLineTransform()),a.xp6(1),a.uIk("y1",-e.gridLineHeight)}}function pu(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g"),a.YNc(1,mu,2,2,"g",4),a.qZA()),2&t){const e=n.$implicit,i=a.oxw();a.uIk("transform",i.tickTransform(e)),a.xp6(1),a.Q6J("ngIf",i.showGridLines)}}const gu=["ngx-charts-x-axis",""];function fu(t,n){if(1&t){const e=a.EpF();a.O4$(),a.TgZ(0,"g",2),a.NdJ("dimensionsChanged",function(s){a.CHM(e);const r=a.oxw();return a.KtG(r.emitTicksHeight(s))}),a.qZA()}if(2&t){const e=a.oxw();a.Q6J("trimTicks",e.trimTicks)("rotateTicks",e.rotateTicks)("maxTickLength",e.maxTickLength)("tickFormatting",e.tickFormatting)("tickArguments",e.tickArguments)("tickStroke",e.tickStroke)("scale",e.xScale)("orient",e.xOrient)("showGridLines",e.showGridLines)("gridLineHeight",e.dims.height)("width",e.dims.width)("tickValues",e.ticks)("wrapTicks",e.wrapTicks)}}function _u(t,n){if(1&t&&(a.O4$(),a._UZ(0,"g",3)),2&t){const e=a.oxw();a.Q6J("label",e.labelText)("offset",e.labelOffset)("orient",e.orientation.Bottom)("height",e.dims.height)("width",e.dims.width)}}const xu=["ngx-charts-y-axis-ticks",""];function vu(t,n){1&t&&(a.O4$(),a.GkF(0))}function yu(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"tspan",12),a._uU(1),a.qZA()),2&t){const e=n.$implicit,i=n.index,s=a.oxw(6);a.uIk("y",i*(8+s.tickSpacing)),a.xp6(1),a.hij(" ",e," ")}}function Tu(t,n){if(1&t&&(a.O4$(),a.ynx(0),a.YNc(1,yu,2,2,"tspan",11),a.BQk()),2&t){const e=a.oxw().ngIf;a.xp6(1),a.Q6J("ngForOf",e)}}function bu(t,n){if(1&t&&(a.O4$(),a.ynx(0),a.YNc(1,Tu,2,1,"ng-container",10),a.BQk()),2&t){const e=n.ngIf;a.oxw(2);const i=a.MAs(8);a.xp6(1),a.Q6J("ngIf",e.length>1)("ngIfElse",i)}}function Cu(t,n){if(1&t&&(a.O4$(),a.YNc(0,bu,2,2,"ng-container",5)),2&t){const e=a.oxw(2).$implicit,i=a.oxw();a.Q6J("ngIf",i.tickChunks(e))}}function wu(t,n){if(1&t&&(a.O4$(),a._uU(0)),2&t){const e=a.oxw().ngIf,i=a.oxw(2);a.hij(" ",i.tickTrim(e)," ")}}function Su(t,n){if(1&t&&(a.O4$(),a.ynx(0),a.TgZ(1,"title"),a._uU(2),a.qZA(),a.TgZ(3,"text",6),a.YNc(4,vu,1,0,"ng-container",7),a.qZA(),a.YNc(5,Cu,1,1,"ng-template",null,8,a.W1O),a.YNc(7,wu,1,1,"ng-template",null,9,a.W1O),a.BQk()),2&t){const e=n.ngIf,i=a.MAs(6),s=a.MAs(8),r=a.oxw(2);a.xp6(2),a.Oqu(e),a.xp6(1),a.Udp("font-size","12px"),a.uIk("dy",r.dy)("x",r.x1)("y",r.y1)("text-anchor",r.textAnchor),a.xp6(1),a.Q6J("ngIf",r.wrapTicks)("ngIfThen",i)("ngIfElse",s)}}function ku(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g",4),a.YNc(1,Su,9,10,"ng-container",5),a.qZA()),2&t){const e=n.$implicit,i=a.oxw();a.uIk("transform",i.transform(e)),a.xp6(1),a.Q6J("ngIf",i.tickFormat(e))}}function Au(t,n){if(1&t&&(a.O4$(),a._UZ(0,"path",13)),2&t){const e=a.oxw();a.uIk("d",e.referenceAreaPath)("transform",e.gridLineTransform())}}function Lu(t,n){if(1&t&&(a.O4$(),a._UZ(0,"line",15)),2&t){const e=a.oxw(3);a.uIk("x2",e.gridLineWidth)}}function Eu(t,n){if(1&t&&(a.O4$(),a._UZ(0,"line",15)),2&t){const e=a.oxw(3);a.uIk("x2",-e.gridLineWidth)}}function Du(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g"),a.YNc(1,Lu,1,1,"line",14),a.YNc(2,Eu,1,1,"line",14),a.qZA()),2&t){const e=a.oxw(2);a.uIk("transform",e.gridLineTransform()),a.xp6(1),a.Q6J("ngIf",e.orient===e.Orientation.Left),a.xp6(1),a.Q6J("ngIf",e.orient===e.Orientation.Right)}}function Fu(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g"),a.YNc(1,Du,3,3,"g",5),a.qZA()),2&t){const e=n.$implicit,i=a.oxw();a.uIk("transform",i.transform(e)),a.xp6(1),a.Q6J("ngIf",i.showGridLines)}}function Mu(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g")(1,"title"),a._uU(2),a.qZA(),a.TgZ(3,"text",17),a._uU(4),a.qZA()()),2&t){const e=a.oxw(2).$implicit,i=a.oxw();a.xp6(2),a.Oqu(i.tickTrim(i.tickFormat(e.value))),a.xp6(1),a.uIk("dy",i.dy)("y",-6)("x",i.gridLineWidth)("text-anchor",i.textAnchor),a.xp6(1),a.hij(" ",e.name," ")}}function Ou(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g"),a._UZ(1,"line",16),a.YNc(2,Mu,5,6,"g",5),a.qZA()),2&t){const e=a.oxw().$implicit,i=a.oxw();a.uIk("transform",i.transform(e.value)),a.xp6(1),a.uIk("x2",i.gridLineWidth)("transform",i.gridLineTransform()),a.xp6(1),a.Q6J("ngIf",i.showRefLabels)}}function Iu(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g"),a.YNc(1,Ou,3,4,"g",5),a.qZA()),2&t){const e=a.oxw();a.xp6(1),a.Q6J("ngIf",e.showRefLines)}}const Pu=["ngx-charts-y-axis",""];function Bu(t,n){if(1&t){const e=a.EpF();a.O4$(),a.TgZ(0,"g",2),a.NdJ("dimensionsChanged",function(s){a.CHM(e);const r=a.oxw();return a.KtG(r.emitTicksWidth(s))}),a.qZA()}if(2&t){const e=a.oxw();a.Q6J("trimTicks",e.trimTicks)("maxTickLength",e.maxTickLength)("tickFormatting",e.tickFormatting)("tickArguments",e.tickArguments)("tickValues",e.ticks)("tickStroke",e.tickStroke)("scale",e.yScale)("orient",e.yOrient)("showGridLines",e.showGridLines)("gridLineWidth",e.dims.width)("referenceLines",e.referenceLines)("showRefLines",e.showRefLines)("showRefLabels",e.showRefLabels)("height",e.dims.height)("wrapTicks",e.wrapTicks)}}function Ru(t,n){if(1&t&&(a.O4$(),a._UZ(0,"g",3)),2&t){const e=a.oxw();a.Q6J("label",e.labelText)("offset",e.labelOffset)("orient",e.yOrient)("height",e.dims.height)("width",e.dims.width)}}const Vu=["ngx-charts-svg-linear-gradient",""];function $u(t,n){if(1&t&&(a.O4$(),a._UZ(0,"stop")),2&t){const e=n.$implicit;a.Udp("stop-color",e.color)("stop-opacity",e.opacity),a.uIk("offset",e.offset+"%")}}const Nu=["ngx-charts-circle",""],Hu=["ngx-charts-circle-series",""];function zu(t,n){if(1&t&&(a.O4$(),a._UZ(0,"rect",4)),2&t){const e=a.oxw(2);a.Q6J("@animationState","active"),a.uIk("x",e.circle.cx-e.circle.radius)("y",e.circle.cy)("width",2*e.circle.radius)("height",e.circle.height)("fill",e.gradientFill)}}function Gu(t,n){if(1&t&&(a.O4$(),a._UZ(0,"rect",4)),2&t){const e=a.oxw(2);a.uIk("x",e.circle.cx-e.circle.radius)("y",e.circle.cy)("width",2*e.circle.radius)("height",e.circle.height)("fill",e.gradientFill)}}const Yu=function(t){return{name:t}};function Xu(t,n){if(1&t){const e=a.EpF();a.O4$(),a.TgZ(0,"g")(1,"defs"),a._UZ(2,"g",1),a.qZA(),a.YNc(3,zu,1,6,"rect",2),a.YNc(4,Gu,1,5,"rect",2),a.TgZ(5,"g",3),a.NdJ("select",function(){a.CHM(e);const s=a.oxw();return a.KtG(s.onClick(s.circle.data))})("activate",function(){a.CHM(e);const s=a.oxw();return a.KtG(s.activateCircle())})("deactivate",function(){a.CHM(e);const s=a.oxw();return a.KtG(s.deactivateCircle())}),a.qZA()()}if(2&t){const e=a.oxw();a.xp6(2),a.Q6J("orientation",e.barOrientation.Vertical)("name",e.gradientId)("stops",e.circle.gradientStops),a.xp6(1),a.Q6J("ngIf",!e.isSSR&&e.barVisible&&"standard"===e.type),a.xp6(1),a.Q6J("ngIf",e.isSSR&&e.barVisible&&"standard"===e.type),a.xp6(1),a.ekj("active",e.isActive(a.VKq(20,Yu,e.circle.seriesName))),a.Q6J("cx",e.circle.cx)("cy",e.circle.cy)("r",e.circle.radius)("fill",e.circle.color)("pointerEvents",0===e.circle.value?"none":"all")("data",e.circle.value)("classNames",e.circle.classNames)("tooltipDisabled",e.tooltipDisabled)("tooltipPlacement",e.placementTypes.Top)("tooltipType",e.styleTypes.tooltip)("tooltipTitle",e.tooltipTemplate?void 0:e.getTooltipText(e.circle))("tooltipTemplate",e.tooltipTemplate)("tooltipContext",e.circle.data)}}const Ju=["ngx-charts-area",""];function Qu(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"defs"),a._UZ(1,"g",2),a.qZA()),2&t){const e=a.oxw();a.xp6(1),a.Q6J("orientation",e.barOrientation.Vertical)("name",e.gradientId)("stops",e.gradientStops)}}const em=["tooltipAnchor"],tm=["ngx-charts-tooltip-area",""];function im(t,n){if(1&t&&(a.TgZ(0,"div",6),a._UZ(1,"span",7),a._uU(2),a.qZA()),2&t){const e=n.$implicit,i=a.oxw(2);a.xp6(1),a.Udp("background-color",e.color),a.xp6(1),a.hij(" ",i.getToolTipText(e)," ")}}function nm(t,n){if(1&t&&(a.O4$(),a.kcU(),a.TgZ(0,"div",4),a.YNc(1,im,3,3,"div",5),a.qZA()),2&t){const e=n.model;a.xp6(1),a.Q6J("ngForOf",e)}}const sm=["ngx-charts-timeline",""],um=["tooltipTemplate"],mm=["seriesTooltipTemplate"],hs=function(t,n){return[t,n]},zm=["ngx-charts-line",""];function Gm(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g"),a._UZ(1,"path",1),a.qZA()),2&t){const e=a.oxw();a.xp6(1),a.Q6J("@animationState","active"),a.uIk("d",e.initialPath)("fill",e.fill)("stroke",e.stroke)}}function Ym(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g"),a._UZ(1,"path",1),a.qZA()),2&t){const e=a.oxw();a.xp6(1),a.uIk("d",e.initialPath)("fill",e.fill)("stroke",e.stroke)}}const Xm=["ngx-charts-line-series",""];function Wm(t,n){if(1&t&&(a.O4$(),a._UZ(0,"g",4)),2&t){const e=a.oxw();a.Q6J("orientation",e.barOrientation.Vertical)("name",e.gradientId)("stops",e.gradientStops)}}function Um(t,n){if(1&t&&(a.O4$(),a._UZ(0,"g",5)),2&t){const e=a.oxw();a.ekj("active",e.isActive(e.data))("inactive",e.isInactive(e.data)),a.Q6J("data",e.data)("path",e.outerPath)("fill",e.hasGradient?e.gradientUrl:e.colors.getColor(e.data.name))("opacity",e.rangeFillOpacity)("animations",e.animations)}}function jm(t,n){if(1&t){const e=a.EpF();a.O4$(),a.TgZ(0,"g",7),a.NdJ("dimensionsChanged",function(s){a.CHM(e);const r=a.oxw();return a.KtG(r.updateXAxisHeight(s))}),a.qZA()}if(2&t){const e=a.oxw();a.Q6J("xScale",e.xScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showXAxisLabel)("labelText",e.xAxisLabel)("trimTicks",e.trimXAxisTicks)("rotateTicks",e.rotateXAxisTicks)("maxTickLength",e.maxXAxisTickLength)("tickFormatting",e.xAxisTickFormatting)("ticks",e.xAxisTicks)("wrapTicks",e.wrapTicks)}}function Zm(t,n){if(1&t){const e=a.EpF();a.O4$(),a.TgZ(0,"g",8),a.NdJ("dimensionsChanged",function(s){a.CHM(e);const r=a.oxw();return a.KtG(r.updateYAxisWidth(s))}),a.qZA()}if(2&t){const e=a.oxw();a.Q6J("yScale",e.yScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showYAxisLabel)("labelText",e.yAxisLabel)("trimTicks",e.trimYAxisTicks)("maxTickLength",e.maxYAxisTickLength)("tickFormatting",e.yAxisTickFormatting)("ticks",e.yAxisTicks)("referenceLines",e.referenceLines)("showRefLines",e.showRefLines)("showRefLabels",e.showRefLabels)("wrapTicks",e.wrapTicks)}}function qm(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g"),a._UZ(1,"g",10),a.qZA()),2&t){const e=n.$implicit,i=a.oxw(2);a.Q6J("@animationState","active"),a.xp6(1),a.Q6J("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",e)("activeEntries",i.activeEntries)("scaleType",i.scaleType)("curve",i.curve)("rangeFillOpacity",i.rangeFillOpacity)("hasRange",i.hasRange)("animations",i.animations)}}function Jm(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g"),a.YNc(1,qm,2,11,"g",9),a.qZA()),2&t){const e=a.oxw();a.xp6(1),a.Q6J("ngForOf",e.results)("ngForTrackBy",e.trackBy)}}function Qm(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g"),a._UZ(1,"g",10),a.qZA()),2&t){const e=n.$implicit,i=a.oxw(2);a.xp6(1),a.Q6J("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",e)("activeEntries",i.activeEntries)("scaleType",i.scaleType)("curve",i.curve)("rangeFillOpacity",i.rangeFillOpacity)("hasRange",i.hasRange)("animations",i.animations)}}function Km(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g"),a.YNc(1,Qm,2,10,"g",9),a.qZA()),2&t){const e=a.oxw();a.xp6(1),a.Q6J("ngForOf",e.results)("ngForTrackBy",e.trackBy)}}function ep(t,n){if(1&t){const e=a.EpF();a.O4$(),a.TgZ(0,"g")(1,"g",14),a.NdJ("select",function(s){a.CHM(e);const r=a.oxw(2);return a.KtG(r.onClick(s))})("activate",function(s){a.CHM(e);const r=a.oxw(2);return a.KtG(r.onActivate(s))})("deactivate",function(s){a.CHM(e);const r=a.oxw(2);return a.KtG(r.onDeactivate(s))}),a.qZA()()}if(2&t){const e=n.$implicit,i=a.oxw(2);a.xp6(1),a.Q6J("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",e)("scaleType",i.scaleType)("visibleValue",i.hoveredVertical)("activeEntries",i.activeEntries)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.tooltipTemplate)}}function tp(t,n){if(1&t){const e=a.EpF();a.O4$(),a.TgZ(0,"g",11),a.NdJ("mouseleave",function(){a.CHM(e);const s=a.oxw();return a.KtG(s.hideCircles())}),a.TgZ(1,"g",12),a.NdJ("hover",function(s){a.CHM(e);const r=a.oxw();return a.KtG(r.updateHoveredVertical(s))}),a.qZA(),a.YNc(2,ep,2,9,"g",13),a.qZA()}if(2&t){const e=a.oxw();a.xp6(1),a.Q6J("dims",e.dims)("xSet",e.xSet)("xScale",e.xScale)("yScale",e.yScale)("results",e.results)("colors",e.colors)("tooltipDisabled",e.tooltipDisabled)("tooltipTemplate",e.seriesTooltipTemplate),a.xp6(1),a.Q6J("ngForOf",e.results)}}function ip(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g"),a._UZ(1,"g",16),a.qZA()),2&t){const e=n.$implicit,i=a.oxw(2);a.xp6(1),a.Q6J("xScale",i.timelineXScale)("yScale",i.timelineYScale)("colors",i.colors)("data",e)("scaleType",i.scaleType)("curve",i.curve)("hasRange",i.hasRange)("animations",i.animations)}}function np(t,n){if(1&t){const e=a.EpF();a.O4$(),a.TgZ(0,"g",15),a.NdJ("onDomainChange",function(s){a.CHM(e);const r=a.oxw();return a.KtG(r.updateDomain(s))}),a.YNc(1,ip,2,8,"g",9),a.qZA()}if(2&t){const e=a.oxw();a.Q6J("results",e.results)("view",a.WLB(10,hs,e.timelineWidth,e.height))("height",e.timelineHeight)("scheme",e.scheme)("customColors",e.customColors)("scaleType",e.scaleType)("legend",e.legend),a.uIk("transform",e.timelineTransform),a.xp6(1),a.Q6J("ngForOf",e.results)("ngForTrackBy",e.trackBy)}}function _p(t,n,e){e=e||{};let i,s,r,c=null,d=0;function _(){d=!1===e.leading?0:+new Date,c=null,r=t.apply(i,s)}return function(){const g=+new Date;!d&&!1===e.leading&&(d=g);const C=n-(g-d);return i=this,s=arguments,C<=0?(clearTimeout(c),c=null,d=g,r=t.apply(i,s)):!c&&!1!==e.trailing&&(c=setTimeout(_,C)),r}}function xp(t,n){return function(i,s,r){return{configurable:!0,enumerable:r.enumerable,get:function(){return Object.defineProperty(this,s,{configurable:!0,enumerable:r.enumerable,value:_p(r.value,t,n)}),this[s]}}}}var be=(()=>{return(t=be||(be={})).Top="top",t.Bottom="bottom",t.Left="left",t.Right="right",t.Center="center",be;var t})();const Vi=7;function Vo(t,n,e){return e===be.Top?t.top-Vi:e===be.Bottom?t.top+t.height-n.height+Vi:e===be.Center?t.top+t.height/2-n.height/2:void 0}function $o(t,n,e){return e===be.Left?t.left-Vi:e===be.Right?t.left+t.width-n.width+Vi:e===be.Center?t.left+t.width/2-n.width/2:void 0}class $t{static calculateVerticalAlignment(n,e,i){let s=Vo(n,e,i);return s+e.height>window.innerHeight&&(s=window.innerHeight-e.height),s}static calculateVerticalCaret(n,e,i,s){let r;s===be.Top&&(r=n.height/2-i.height/2+Vi),s===be.Bottom&&(r=e.height-n.height/2-i.height/2-Vi),s===be.Center&&(r=e.height/2-i.height/2);const c=Vo(n,e,s);return c+e.height>window.innerHeight&&(r+=c+e.height-window.innerHeight),r}static calculateHorizontalAlignment(n,e,i){let s=$o(n,e,i);return s+e.width>window.innerWidth&&(s=window.innerWidth-e.width),s}static calculateHorizontalCaret(n,e,i,s){let r;s===be.Left&&(r=n.width/2-i.width/2+Vi),s===be.Right&&(r=e.width-n.width/2-i.width/2-Vi),s===be.Center&&(r=e.width/2-i.width/2);const c=$o(n,e,s);return c+e.width>window.innerWidth&&(r+=c+e.width-window.innerWidth),r}static shouldFlip(n,e,i,s){let r=!1;return i===be.Right&&n.left+n.width+e.width+s>window.innerWidth&&(r=!0),i===be.Left&&n.left-e.width-s<0&&(r=!0),i===be.Top&&n.top-e.height-s<0&&(r=!0),i===be.Bottom&&n.top+n.height+e.height+s>window.innerHeight&&(r=!0),r}static positionCaret(n,e,i,s,r){let c=0,d=0;return n===be.Right?(d=-7,c=$t.calculateVerticalCaret(i,e,s,r)):n===be.Left?(d=e.width,c=$t.calculateVerticalCaret(i,e,s,r)):n===be.Top?(c=e.height,d=$t.calculateHorizontalCaret(i,e,s,r)):n===be.Bottom&&(c=-7,d=$t.calculateHorizontalCaret(i,e,s,r)),{top:c,left:d}}static positionContent(n,e,i,s,r){let c=0,d=0;return n===be.Right?(d=i.left+i.width+s,c=$t.calculateVerticalAlignment(i,e,r)):n===be.Left?(d=i.left-e.width-s,c=$t.calculateVerticalAlignment(i,e,r)):n===be.Top?(c=i.top-e.height-s,d=$t.calculateHorizontalAlignment(i,e,r)):n===be.Bottom&&(c=i.top+i.height+s,d=$t.calculateHorizontalAlignment(i,e,r)),{top:c,left:d}}static determinePlacement(n,e,i,s){if($t.shouldFlip(i,e,n,s)){if(n===be.Right)return be.Left;if(n===be.Left)return be.Right;if(n===be.Top)return be.Bottom;if(n===be.Bottom)return be.Top}return n}}let vp=(()=>{class t{constructor(e,i,s){this.element=e,this.renderer=i,this.platformId=s}get cssClasses(){let e="ngx-charts-tooltip-content";return e+=` position-${this.placement}`,e+=` type-${this.type}`,e+=` ${this.cssClass}`,e}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!(0,H.NF)(this.platformId))return;const e=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;const s=e.getBoundingClientRect();this.checkFlip(i,s),this.positionContent(e,i,s),this.showCaret&&this.positionCaret(i,s),setTimeout(()=>this.renderer.addClass(e,"animate"),1)}positionContent(e,i,s){const{top:r,left:c}=$t.positionContent(this.placement,s,i,this.spacing,this.alignment);this.renderer.setStyle(e,"top",`${r}px`),this.renderer.setStyle(e,"left",`${c}px`)}positionCaret(e,i){const s=this.caretElm.nativeElement,r=s.getBoundingClientRect(),{top:c,left:d}=$t.positionCaret(this.placement,i,e,r,this.alignment);this.renderer.setStyle(s,"top",`${c}px`),this.renderer.setStyle(s,"left",`${d}px`)}checkFlip(e,i){this.placement=$t.determinePlacement(this.placement,i,e,this.spacing)}onWindowResize(){this.position()}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.Lbi))},t.\u0275cmp=a.Xpm({type:t,selectors:[["ngx-tooltip-content"]],viewQuery:function(e,i){if(1&e&&a.Gf(Zd,5),2&e){let s;a.iGM(s=a.CRH())&&(i.caretElm=s.first)}},hostVars:2,hostBindings:function(e,i){1&e&&a.NdJ("resize",function(){return i.onWindowResize()},!1,a.Jf7),2&e&&a.Tol(i.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(e,i){1&e&&(a.TgZ(0,"div"),a._UZ(1,"span",0,1),a.TgZ(3,"div",2),a.YNc(4,Qd,2,4,"span",3),a.YNc(5,Kd,1,1,"span",4),a.qZA()()),2&e&&(a.xp6(1),a.Gre("tooltip-caret position-",i.placement,""),a.Q6J("hidden",!i.showCaret),a.xp6(3),a.Q6J("ngIf",!i.title),a.xp6(1),a.Q6J("ngIf",i.title))},dependencies:[H.O5,H.tP],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\n"],encapsulation:2}),(0,fe.gn)([xp(100)],t.prototype,"onWindowResize",null),t})();class yp{constructor(n){this.injectionService=n,this.defaults={},this.components=new Map}getByType(n=this.type){return this.components.get(n)}create(n){return this.createByType(this.type,n)}createByType(n,e){e=this.assignDefaults(e);const i=this.injectComponent(n,e);return this.register(n,i),i}destroy(n){const e=this.components.get(n.componentType);if(e&&e.length){const i=e.indexOf(n);i>-1&&(e[i].destroy(),e.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(n){const e=this.components.get(n);if(e&&e.length){let i=e.length-1;for(;i>=0;)this.destroy(e[i--])}}injectComponent(n,e){return this.injectionService.appendComponent(n,e)}assignDefaults(n){const e={...this.defaults.inputs},i={...this.defaults.outputs};return!n.inputs&&!n.outputs&&(n={inputs:n}),e&&(n.inputs={...e,...n.inputs}),i&&(n.outputs={...i,...n.outputs}),n}register(n,e){this.components.has(n)||this.components.set(n,[]),this.components.get(n).push(e)}}let No=(()=>{class t{constructor(e,i,s){this.applicationRef=e,this.componentFactoryResolver=i,this.injector=s}static setGlobalRootViewContainer(e){t.globalRootViewContainer=e}getRootViewContainer(){if(this._container)return this._container;if(t.globalRootViewContainer)return t.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(e){this._container=e}getComponentRootNode(e){return function Tp(t){return t.element}(e)?e.element.nativeElement:e.hostView&&e.hostView.rootNodes.length>0?e.hostView.rootNodes[0]:e.location.nativeElement}getRootViewContainerNode(e){return this.getComponentRootNode(e)}projectComponentBindings(e,i){if(i){if(void 0!==i.inputs){const s=Object.getOwnPropertyNames(i.inputs);for(const r of s)e.instance[r]=i.inputs[r]}if(void 0!==i.outputs){const s=Object.getOwnPropertyNames(i.outputs);for(const r of s)e.instance[r]=i.outputs[r]}}return e}appendComponent(e,i={},s){s||(s=this.getRootViewContainer());const r=this.getComponentRootNode(s),c=new Ce.u0(r,this.componentFactoryResolver,this.applicationRef,this.injector),d=new Ce.C5(e),_=c.attach(d);return this.projectComponentBindings(_,i),_}}return t.globalRootViewContainer=null,t.\u0275fac=function(e){return new(e||t)(a.LFG(a.z2F),a.LFG(a._Vd),a.LFG(a.zs3))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac}),t})(),Ja=(()=>{class t extends yp{constructor(e){super(e),this.type=vp}}return t.\u0275fac=function(e){return new(e||t)(a.LFG(No))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac}),t})();var Ei=(()=>{return(t=Ei||(Ei={})).Right="right",t.Below="below",Ei;var t})(),en=(()=>{return(t=en||(en={})).ScaleLegend="scaleLegend",t.Legend="legend",en;var t})(),q=(()=>{return(t=q||(q={})).Time="time",t.Linear="linear",t.Ordinal="ordinal",t.Quantile="quantile",q;var t})();let Ho=(()=>{class t{constructor(){this.horizontal=!1}ngOnChanges(e){const i=this.gradientString(this.colors.range(),this.colors.domain());this.gradient=`linear-gradient(to ${this.horizontal?"right":"bottom"}, ${i})`}gradientString(e,i){i.push(1);const s=[];return e.reverse().forEach((r,c)=>{s.push(`${r} ${Math.round(100*i[c])}%`)}),s.join(", ")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["ngx-charts-scale-legend"]],inputs:{valueRange:"valueRange",colors:"colors",height:"height",width:"width",horizontal:"horizontal"},features:[a.TTD],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0)(1,"div",1)(2,"span"),a._uU(3),a.qZA()(),a._UZ(4,"div",2),a.TgZ(5,"div",1)(6,"span"),a._uU(7),a.qZA()()()),2&e&&(a.Udp("height",i.horizontal?void 0:i.height,"px")("width",i.width,"px"),a.ekj("horizontal-legend",i.horizontal),a.xp6(3),a.Oqu(i.valueRange[1].toLocaleString()),a.xp6(1),a.Udp("background",i.gradient),a.xp6(3),a.Oqu(i.valueRange[0].toLocaleString()))},styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}\n"],encapsulation:2,changeDetection:0}),t})();function Qa(t){return t instanceof Date?t.toLocaleDateString():t.toLocaleString()}function zo(t){return t.toLocaleString().replace(/[&'`"<>]/g,n=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"}[n]))}let Go=(()=>{class t{constructor(){this.isActive=!1,this.select=new a.vpe,this.activate=new a.vpe,this.deactivate=new a.vpe,this.toggle=new a.vpe}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(e,i){1&e&&a.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{color:"color",label:"label",formattedLabel:"formattedLabel",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},decls:4,vars:6,consts:[["tabindex","-1",3,"title","click"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(e,i){1&e&&(a.TgZ(0,"span",0),a.NdJ("click",function(){return i.select.emit(i.formattedLabel)}),a.TgZ(1,"span",1),a.NdJ("click",function(){return i.toggle.emit(i.formattedLabel)}),a.qZA(),a.TgZ(2,"span",2),a._uU(3),a.qZA()()),2&e&&(a.ekj("active",i.isActive),a.Q6J("title",i.formattedLabel),a.xp6(1),a.Udp("background-color",i.color),a.xp6(2),a.hij(" ",i.trimmedLabel," "))},encapsulation:2,changeDetection:0}),t})(),Yo=(()=>{class t{constructor(e){this.cd=e,this.horizontal=!1,this.labelClick=new a.vpe,this.labelActivate=new a.vpe,this.labelDeactivate=new a.vpe,this.legendEntries=[]}ngOnChanges(e){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){const e=[];for(const i of this.data){const s=Qa(i);-1===e.findIndex(c=>c.label===s)&&e.push({label:i,formattedLabel:s,color:this.colors.getColor(i)})}return e}isActive(e){return!!this.activeEntries&&void 0!==this.activeEntries.find(s=>e.label===s.name)}activate(e){this.labelActivate.emit(e)}deactivate(e){this.labelDeactivate.emit(e)}trackBy(e,i){return i.label}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.sBO))},t.\u0275cmp=a.Xpm({type:t,selectors:[["ngx-charts-legend"]],inputs:{data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries",horizontal:"horizontal"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},features:[a.TTD],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"label","formattedLabel","color","isActive","select","activate","deactivate"]],template:function(e,i){1&e&&(a.TgZ(0,"div"),a.YNc(1,eu,3,1,"header",0),a.TgZ(2,"div",1)(3,"ul",2),a.YNc(4,tu,2,4,"li",3),a.qZA()()()),2&e&&(a.Udp("width",i.width,"px"),a.xp6(1),a.Q6J("ngIf",(null==i.title?null:i.title.length)>0),a.xp6(2),a.Udp("max-height",i.height-45,"px"),a.ekj("horizontal-legend",i.horizontal),a.xp6(1),a.Q6J("ngForOf",i.legendEntries)("ngForTrackBy",i.trackBy))},dependencies:[Go,H.O5,H.sg],styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend ul,.chart-legend li{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:rgba(0,0,0,.05)}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),t})(),Xo=(()=>{class t{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new a.vpe,this.legendLabelActivate=new a.vpe,this.legendLabelDeactivate=new a.vpe,this.LegendPosition=Ei,this.LegendType=en}ngOnChanges(e){this.update()}update(){let e=0;this.showLegend&&(this.legendType=this.getLegendType(),(!this.legendOptions||this.legendOptions.position===Ei.Right)&&(e=this.legendType===en.ScaleLegend?1:2)),this.chartWidth=Math.floor(this.view[0]*(12-e)/12),this.legendWidth=this.legendOptions&&this.legendOptions.position!==Ei.Right?this.chartWidth:Math.floor(this.view[0]*e/12)}getLegendType(){return this.legendOptions.scaleType===q.Linear?en.ScaleLegend:en.Legend}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["ngx-charts-chart"]],inputs:{view:"view",showLegend:"showLegend",legendOptions:"legendOptions",legendType:"legendType",activeEntries:"activeEntries",animations:"animations"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},features:[a._Bn([Ja]),a.TTD],ngContentSelectors:Bo,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate"]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"div",0),a.O4$(),a.TgZ(1,"svg",1),a.Hsn(2),a.qZA(),a.YNc(3,iu,1,5,"ngx-charts-scale-legend",2),a.YNc(4,nu,1,7,"ngx-charts-legend",3),a.qZA()),2&e&&(a.Udp("width",i.view[0],"px")("height",i.view[1],"px"),a.xp6(1),a.uIk("width",i.chartWidth)("height",i.view[1]),a.xp6(2),a.Q6J("ngIf",i.showLegend&&i.legendType===i.LegendType.ScaleLegend),a.xp6(1),a.Q6J("ngIf",i.showLegend&&i.legendType===i.LegendType.Legend))},dependencies:[Ho,Yo,H.O5],encapsulation:2,changeDetection:0}),t})(),bp=(()=>{class t{constructor(e,i){this.element=e,this.zone=i,this.visible=new a.vpe,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const e=()=>{if(!this.element)return;const{offsetHeight:i,offsetWidth:s}=this.element.nativeElement;i&&s?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e())})}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq),a.Y36(a.R0b))},t.\u0275dir=a.lG2({type:t,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),t})();function Wo(t){return"[object Date]"===toString.call(t)}let Uo=(()=>{class t{constructor(e,i,s,r){this.chartElement=e,this.zone=i,this.cd=s,this.platformId=r,this.scheme="cool",this.schemeType=q.Ordinal,this.animations=!0,this.select=new a.vpe}ngOnInit(){(0,H.PM)(this.platformId)&&(this.animations=!1)}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new bp(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(e){this.update()}update(){if(this.results=this.results?this.cloneData(this.results):[],this.view)this.width=this.view[0],this.height=this.view[1];else{const e=this.getContainerDims();e&&(this.width=e.width,this.height=e.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let e,i;const s=this.chartElement.nativeElement;if((0,H.NF)(this.platformId)&&null!==s.parentNode){const r=s.parentNode.getBoundingClientRect();e=r.width,i=r.height}return e&&i?{width:e,height:i}:null}formatDates(){for(let e=0;e<this.results.length;e++){const i=this.results[e];if(i.label=i.name,Wo(i.label)&&(i.label=i.label.toLocaleDateString()),i.series)for(let s=0;s<i.series.length;s++){const r=i.series[s];r.label=r.name,Wo(r.label)&&(r.label=r.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){if(!(0,H.NF)(this.platformId))return;const i=(0,$.R)(window,"resize").pipe((0,Q.b)(200)).subscribe(s=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=i}cloneData(e){const i=[];for(const s of e){const r={};if(void 0!==s.name&&(r.name=s.name),void 0!==s.value&&(r.value=s.value),void 0!==s.series){r.series=[];for(const c of s.series){const d=Object.assign({},c);r.series.push(d)}}void 0!==s.extra&&(r.extra=JSON.parse(JSON.stringify(s.extra))),void 0!==s.source&&(r.source=s.source),void 0!==s.target&&(r.target=s.target),i.push(r)}return i}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(a.sBO),a.Y36(a.Lbi))},t.\u0275cmp=a.Xpm({type:t,selectors:[["base-chart"]],inputs:{results:"results",view:"view",scheme:"scheme",schemeType:"schemeType",customColors:"customColors",animations:"animations"},outputs:{select:"select"},features:[a.TTD],decls:1,vars:0,template:function(e,i){1&e&&a._UZ(0,"div")},encapsulation:2}),t})();var rt=(()=>{return(t=rt||(rt={})).Top="top",t.Bottom="bottom",t.Left="left",t.Right="right",rt;var t})();let jo=(()=>{class t{constructor(e){this.textHeight=25,this.margin=5,this.element=e.nativeElement}ngOnChanges(e){this.update()}update(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case rt.Top:case rt.Bottom:this.y=this.offset,this.x=this.width/2;break;case rt.Left:this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case rt.Right:this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)"}}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq))},t.\u0275cmp=a.Xpm({type:t,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},features:[a.TTD],attrs:su,decls:2,vars:6,template:function(e,i){1&e&&(a.O4$(),a.TgZ(0,"text"),a._uU(1),a.qZA()),2&e&&(a.uIk("stroke-width",i.strokeWidth)("x",i.x)("y",i.y)("text-anchor",i.textAnchor)("transform",i.transform),a.xp6(1),a.hij(" ",i.label," "))},encapsulation:2,changeDetection:0}),t})();function Ka(t,n=16){return"string"!=typeof t?"number"==typeof t?t+"":"":(t=t.trim()).length<=n?t:`${t.slice(0,n)}...`}function Zo(t,n){if(t.length>n){const e=[],i=Math.floor(t.length/n);for(let s=0;s<t.length;s++)s%i==0&&e.push(t[s]);t=e}return t}function qo(t,n,e){const i=(t||"").toString();let s=[];if(/\s/.test(i))s=i.split(/\s+/).reduce((r,c)=>{const d=(r.pop()||"")+" ";return d.length+c.length>n?[...r,d.trim(),c.trim()]:[...r,d+c]},[]);else{let r=0;for(;r<i.length;)s.push(i.substring(r,r+n)),r+=n}return s.length>e&&(s=s.splice(0,e),s[s.length-1]+="..."),s}var Kt=(()=>{return(t=Kt||(Kt={})).Start="start",t.Middle="middle",t.End="end",Kt;var t})();let Jo=(()=>{class t{constructor(e){this.platformId=e,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.wrapTicks=!1,this.dimensionsChanged=new a.vpe,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor=Kt.Middle,this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0,this.approxHeight=10,this.maxPossibleLengthForTickIfWrapped=16}get isWrapTicksSupported(){return this.wrapTicks&&this.scale.step}ngOnChanges(e){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!(0,H.NF)(this.platformId))return void this.dimensionsChanged.emit({height:this.approxHeight});const e=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);e!==this.height&&(this.height=e,this.dimensionsChanged.emit({height:this.height}),setTimeout(()=>this.updateDims()))}update(){const e=this.scale;this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:e.tickFormat?e.tickFormat.apply(e,this.tickArguments):function(s){return"Date"===s.constructor.name?s.toLocaleDateString():s.toLocaleString()};const i=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.adjustedScale=this.scale.bandwidth?function(s){return this.scale(s)+.5*this.scale.bandwidth()}:this.scale,this.textTransform="",i&&0!==i?(this.textTransform=`rotate(${i})`,this.textAnchor=Kt.End,this.verticalSpacing=10):this.textAnchor=Kt.Middle,setTimeout(()=>this.updateDims())}getRotationAngle(e){let i=0;this.maxTicksLength=0;for(let y=0;y<e.length;y++){const A=this.tickFormat(e[y]).toString();let M=A.length;this.trimTicks&&(M=this.tickTrim(A).length),M>this.maxTicksLength&&(this.maxTicksLength=M)}const c=7*Math.min(this.maxTicksLength,this.maxAllowedLength);let d=c;const _=Math.floor(this.width/e.length);for(;d>_&&i>-90;)i-=30,d=Math.cos(i*(Math.PI/180))*c;let g=14;if(this.isWrapTicksSupported){const y=this.ticks.reduce((M,B)=>B.length>M.length?B:M,"");g=14*(this.tickChunks(y).length||1),this.maxPossibleLengthForTickIfWrapped=this.getMaxPossibleLengthForTick(y)}const C=0!==i?Math.max(Math.abs(Math.sin(i*Math.PI/180))*this.maxTickLength*7,10):g;return this.approxHeight=Math.min(C,200),i}getTicks(){let e;const i=this.getMaxTicks(20),s=this.getMaxTicks(100);return this.tickValues?e=this.tickValues:this.scale.ticks?e=this.scale.ticks.apply(this.scale,[s]):(e=this.scale.domain(),e=Zo(e,i)),e}getMaxTicks(e){return Math.floor(this.width/e)}tickTransform(e){return"translate("+this.adjustedScale(e)+","+this.verticalSpacing+")"}gridLineTransform(){return`translate(0,${-this.verticalSpacing-5})`}tickTrim(e){return this.trimTicks?Ka(e,this.maxTickLength):e}getMaxPossibleLengthForTick(e){if(this.scale.bandwidth){const s=Math.floor(this.scale.bandwidth()/7),r=e.slice(0,s);return Math.max(r.length,this.maxTickLength)}return this.maxTickLength}tickChunks(e){if(e.toString().length>this.maxTickLength&&this.scale.bandwidth){let s=this.rotateTicks?Math.floor(this.scale.step()/14):5;if(s<=1)return[this.tickTrim(e)];let r=Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength);return(0,H.NF)(this.platformId)||(r=Math.floor(Math.min(this.approxHeight/5,Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength)))),s=Math.min(s,5),qo(e,r,s<1?1:s)}return[this.tickTrim(e)]}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.Lbi))},t.\u0275cmp=a.Xpm({type:t,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(e,i){if(1&e&&a.Gf(Ro,5),2&e){let s;a.iGM(s=a.CRH())&&(i.ticksElement=s.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineHeight:"gridLineHeight",width:"width",rotateTicks:"rotateTicks",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[a.TTD],attrs:au,decls:4,vars:2,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01","font-size","12px"],[4,"ngIf","ngIfThen","ngIfElse"],["tmplMultilineTick",""],["tmplSinglelineTick",""],["x","0",4,"ngFor","ngForOf"],["x","0"],["y2","0",1,"gridline-path","gridline-path-vertical"]],template:function(e,i){1&e&&(a.O4$(),a.TgZ(0,"g",null,0),a.YNc(2,uu,2,2,"g",1),a.qZA(),a.YNc(3,pu,2,2,"g",2)),2&e&&(a.xp6(2),a.Q6J("ngForOf",i.ticks),a.xp6(1),a.Q6J("ngForOf",i.ticks))},dependencies:[H.sg,H.O5],encapsulation:2,changeDetection:0}),t})(),Cp=(()=>{class t{constructor(){this.rotateTicks=!0,this.showGridLines=!1,this.xOrient=rt.Bottom,this.xAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new a.vpe,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5,this.orientation=rt}ngOnChanges(e){this.update()}update(){this.transform=`translate(0,${this.xAxisOffset+this.padding+this.dims.height})`,typeof this.xAxisTickCount<"u"&&(this.tickArguments=[this.xAxisTickCount])}emitTicksHeight({height:e}){const i=e+25+5;i!==this.labelOffset&&(this.labelOffset=i,setTimeout(()=>{this.dimensionsChanged.emit({height:e})},0))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(e,i){if(1&e&&a.Gf(Jo,5),2&e){let s;a.iGM(s=a.CRH())&&(i.ticksComponent=s.first)}},inputs:{xScale:"xScale",dims:"dims",trimTicks:"trimTicks",rotateTicks:"rotateTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickCount:"xAxisTickCount",xOrient:"xOrient",xAxisOffset:"xAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[a.TTD],attrs:gu,decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(e,i){1&e&&(a.O4$(),a.TgZ(0,"g"),a.YNc(1,fu,1,13,"g",0),a.YNc(2,_u,1,5,"g",1),a.qZA()),2&e&&(a.uIk("class",i.xAxisClassName)("transform",i.transform),a.xp6(1),a.Q6J("ngIf",i.xScale),a.xp6(1),a.Q6J("ngIf",i.showLabel))},dependencies:[Jo,jo,H.O5],encapsulation:2,changeDetection:0}),t})(),Qo=(()=>{class t{constructor(e){this.platformId=e,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.wrapTicks=!1,this.dimensionsChanged=new a.vpe,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor=Kt.Middle,this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0,this.Orientation=rt}ngOnChanges(e){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!(0,H.NF)(this.platformId))return this.width=this.getApproximateAxisWidth(),void this.dimensionsChanged.emit({width:this.width});const e=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);e!==this.width&&(this.width=e,this.dimensionsChanged.emit({width:e}),setTimeout(()=>this.updateDims()))}update(){const e=this.scale,i=this.orient===rt.Top||this.orient===rt.Right?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:e.tickFormat?e.tickFormat.apply(e,this.tickArguments):function(s){return"Date"===s.constructor.name?s.toLocaleDateString():s.toLocaleString()},this.adjustedScale=e.bandwidth?s=>{const r=e(s)+.5*e.bandwidth();if(this.wrapTicks&&s.toString().length>this.maxTickLength){const c=this.tickChunks(s).length;if(1===c)return r;const g=.5*e.bandwidth()-8*c*.5;return e(s)+g}return r}:e,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case rt.Top:case rt.Bottom:this.transform=function(s){return"translate("+this.adjustedScale(s)+",0)"},this.textAnchor=Kt.Middle,this.y2=this.innerTickSize*i,this.y1=this.tickSpacing*i,this.dy=i<0?"0em":".71em";break;case rt.Left:this.transform=function(s){return"translate(0,"+this.adjustedScale(s)+")"},this.textAnchor=Kt.End,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em";break;case rt.Right:this.transform=function(s){return"translate(0,"+this.adjustedScale(s)+")"},this.textAnchor=Kt.Start,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em"}setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(e=>e.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(e=>e.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=function wp(t,n,e,i,s,[r,c,d,_]){let g="";return g=`M${[t+s,n]}`,g+="h"+((e=0===(e=Math.floor(e))?1:e)-2*s),g+=c?`a${[s,s]} 0 0 1 ${[s,s]}`:`h${s}v${s}`,g+="v"+((i=0===(i=Math.floor(i))?1:i)-2*s),g+=_?`a${[s,s]} 0 0 1 ${[-s,s]}`:`v${s}h${-s}`,g+="h"+(2*s-e),g+=d?`a${[s,s]} 0 0 1 ${[-s,-s]}`:`h${-s}v${-s}`,g+="v"+(2*s-i),g+=r?`a${[s,s]} 0 0 1 ${[s,-s]}`:`v${-s}h${s}`,g+="z",g}(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])}getTicks(){let e;const i=this.getMaxTicks(20),s=this.getMaxTicks(50);return this.tickValues?e=this.tickValues:this.scale.ticks?e=this.scale.ticks.apply(this.scale,[s]):(e=this.scale.domain(),e=Zo(e,i)),e}getMaxTicks(e){return Math.floor(this.height/e)}tickTransform(e){return`translate(${this.adjustedScale(e)},${this.verticalSpacing})`}gridLineTransform(){return"translate(5,0)"}tickTrim(e){return this.trimTicks?Ka(e,this.maxTickLength):e}getApproximateAxisWidth(){return 7*Math.max(...this.ticks.map(s=>this.tickTrim(this.tickFormat(s)).length))}tickChunks(e){if(e.toString().length>this.maxTickLength&&this.scale.bandwidth){const i=this.maxTickLength,s=Math.floor(this.scale.bandwidth()/15);return s<=1?[this.tickTrim(e)]:qo(e,i,Math.min(s,5))}return[this.tickFormat(e)]}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.Lbi))},t.\u0275cmp=a.Xpm({type:t,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(e,i){if(1&e&&a.Gf(Ro,5),2&e){let s;a.iGM(s=a.CRH())&&(i.ticksElement=s.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[a.TTD],attrs:xu,decls:6,vars:4,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01"],[4,"ngIf","ngIfThen","ngIfElse"],["tmplMultilineTick",""],["tmplSinglelineTick",""],[4,"ngIf","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],[1,"reference-area"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(e,i){1&e&&(a.O4$(),a.TgZ(0,"g",null,0),a.YNc(2,ku,2,2,"g",1),a.qZA(),a.YNc(3,Au,1,2,"path",2),a.YNc(4,Fu,2,2,"g",3),a.YNc(5,Iu,2,1,"g",3)),2&e&&(a.xp6(2),a.Q6J("ngForOf",i.ticks),a.xp6(1),a.Q6J("ngIf",i.referenceLineLength>1&&i.refMax&&i.refMin&&i.showRefLines),a.xp6(1),a.Q6J("ngForOf",i.ticks),a.xp6(1),a.Q6J("ngForOf",i.referenceLines))},dependencies:[H.sg,H.O5],encapsulation:2,changeDetection:0}),t})(),Sp=(()=>{class t{constructor(){this.showGridLines=!1,this.yOrient=rt.Left,this.yAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new a.vpe,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}ngOnChanges(e){this.update()}update(){this.offset=-(this.yAxisOffset+this.padding),this.yOrient===rt.Right?(this.labelOffset=65,this.transform=`translate(${this.offset+this.dims.width} , 0)`):this.transform=`translate(${this.offset} , 0)`,void 0!==this.yAxisTickCount&&(this.tickArguments=[this.yAxisTickCount])}emitTicksWidth({width:e}){e!==this.labelOffset&&this.yOrient===rt.Right?(this.labelOffset=e+this.labelOffset,setTimeout(()=>{this.dimensionsChanged.emit({width:e})},0)):e!==this.labelOffset&&(this.labelOffset=e,setTimeout(()=>{this.dimensionsChanged.emit({width:e})},0))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(e,i){if(1&e&&a.Gf(Qo,5),2&e){let s;a.iGM(s=a.CRH())&&(i.ticksComponent=s.first)}},inputs:{yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",yAxisTickCount:"yAxisTickCount",yOrient:"yOrient",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels",yAxisOffset:"yAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[a.TTD],attrs:Pu,decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(e,i){1&e&&(a.O4$(),a.TgZ(0,"g"),a.YNc(1,Bu,1,15,"g",0),a.YNc(2,Ru,1,5,"g",1),a.qZA()),2&e&&(a.uIk("class",i.yAxisClassName)("transform",i.transform),a.xp6(1),a.Q6J("ngIf",i.yScale),a.xp6(1),a.Q6J("ngIf",i.showLabel))},dependencies:[Qo,jo,H.O5],encapsulation:2,changeDetection:0}),t})(),Ko=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[H.ez]]}),t})();var On=(()=>{return(t=On||(On={})).popover="popover",t.tooltip="tooltip",On;var t})(),$i=(()=>{return(t=$i||($i={}))[t.all="all"]="all",t[t.focus="focus"]="focus",t[t.mouseover="mouseover"]="mouseover",$i;var t})();let el=(()=>{class t{constructor(e,i,s){this.tooltipService=e,this.viewContainerRef=i,this.renderer=s,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=be.Top,this.tooltipAlignment=be.Center,this.tooltipType=On.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=$i.all,this.tooltipImmediateExit=!1,this.show=new a.vpe,this.hide=new a.vpe}get listensForFocus(){return this.tooltipShowEvent===$i.all||this.tooltipShowEvent===$i.focus}get listensForHover(){return this.tooltipShowEvent===$i.all||this.tooltipShowEvent===$i.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(e){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(e))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(e){if(this.component||this.tooltipDisabled)return;const i=e?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?400:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();const s=this.createBoundOptions();this.component=this.tooltipService.create(s),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},i)}addHideListeners(e){this.mouseEnterContentEvent=this.renderer.listen(e,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(e,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",i=>{e.contains(i.target)||this.hideTooltip()}))}hideTooltip(e=!1){if(!this.component)return;const i=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),e?i():this.timeout=setTimeout(i,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(Ja),a.Y36(a.s_b),a.Y36(a.Qsj))},t.\u0275dir=a.lG2({type:t,selectors:[["","ngx-tooltip",""]],hostBindings:function(e,i){1&e&&a.NdJ("focusin",function(){return i.onFocus()})("blur",function(){return i.onBlur()})("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(r){return i.onMouseLeave(r.target)})("click",function(){return i.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"}}),t})(),tl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({providers:[No,Ja],imports:[[H.ez]]}),t})();const il={};function In(){let t=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return t=`a${t}`,il[t]?In():(il[t]=!0,t)}var ei=(()=>{return(t=ei||(ei={})).Vertical="vertical",t.Horizontal="horizontal",ei;var t})();let Zs=(()=>{class t{constructor(){this.orientation=ei.Vertical}ngOnChanges(e){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%",this.orientation===ei.Horizontal?this.x2="100%":this.orientation===ei.Vertical&&(this.y1="100%")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},features:[a.TTD],attrs:Vu,decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(a.O4$(),a.TgZ(0,"linearGradient",0),a.YNc(1,$u,1,5,"stop",1),a.qZA()),2&e&&(a.Q6J("id",i.name),a.uIk("x1",i.x1)("y1",i.y1)("x2",i.x2)("y2",i.y2),a.xp6(1),a.Q6J("ngForOf",i.stops))},dependencies:[H.sg],encapsulation:2,changeDetection:0}),t})(),nl=(()=>{class t{constructor(){this.select=new a.vpe,this.activate=new a.vpe,this.deactivate=new a.vpe}onClick(){this.select.emit(this.data)}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}ngOnChanges(e){this.classNames=Array.isArray(this.classNames)?this.classNames.join(" "):"",this.classNames+="circle"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["g","ngx-charts-circle",""]],hostBindings:function(e,i){1&e&&a.NdJ("click",function(){return i.onClick()})("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{cx:"cx",cy:"cy",r:"r",fill:"fill",stroke:"stroke",data:"data",classNames:"classNames",circleOpacity:"circleOpacity",pointerEvents:"pointerEvents"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[a.TTD],attrs:Nu,decls:1,vars:8,template:function(e,i){1&e&&(a.O4$(),a._UZ(0,"circle")),2&e&&a.uIk("cx",i.cx)("cy",i.cy)("r",i.r)("fill",i.fill)("stroke",i.stroke)("opacity",i.circleOpacity)("class",i.classNames)("pointer-events",i.pointerEvents)},encapsulation:2,changeDetection:0}),t})();var Pn=(()=>{return(t=Pn||(Pn={})).Standard="standard",t.Stacked="stacked",Pn;var t})();let er,sl=(()=>{class t{constructor(e){this.platformId=e,this.type=Pn.Standard,this.tooltipDisabled=!1,this.select=new a.vpe,this.activate=new a.vpe,this.deactivate=new a.vpe,this.barVisible=!1,this.barOrientation=ei,this.placementTypes=be,this.styleTypes=On,this.isSSR=!1}ngOnInit(){this.gradientId="grad"+In().toString(),this.gradientFill=`url(#${this.gradientId})`,(0,H.PM)(this.platformId)&&(this.isSSR=!0)}ngOnChanges(){this.update()}update(){this.circle=this.getActiveCircle()}getActiveCircle(){const e=this.data.series.findIndex(i=>{const s=i.name;return s&&this.visibleValue&&s.toString()===this.visibleValue.toString()&&void 0!==i.value});if(-1!==e)return this.mapDataPointToCircle(this.data.series[e],e)}mapDataPointToCircle(e,i){const s=this.data.name,r=e.value,c=e.name,d=Qa(c);let _;_=this.xScale(this.scaleType===q.Time?c:this.scaleType===q.Linear?Number(c):c);const g=this.yScale(this.type===Pn.Standard?r:e.d1),y=this.yScale.range()[0]-g;let M;return M=this.colors.getColor(this.colors.scaleType===q.Linear?this.type===Pn.Standard?r:e.d1:s),{classNames:[`circle-data-${i}`],value:r,label:c,data:Object.assign({},e,{series:s,value:r,name:c}),cx:_,cy:g,radius:5,height:y,tooltipLabel:d,color:M,opacity:1,seriesName:s,gradientStops:this.getGradientStops(M),min:e.min,max:e.max}}getTooltipText({tooltipLabel:e,value:i,seriesName:s,min:r,max:c}){return`\n      <span class="tooltip-label">${zo(s)} \u2022 ${zo(e)}</span>\n      <span class="tooltip-val">${i.toLocaleString()}${this.getTooltipMinMaxText(r,c)}</span>\n    `}getTooltipMinMaxText(e,i){if(void 0!==e||void 0!==i){let s=" (";return void 0!==e?(void 0===i&&(s+="\u2265"),s+=e.toLocaleString(),void 0!==i&&(s+=" - ")):void 0!==i&&(s+="\u2264"),void 0!==i&&(s+=i.toLocaleString()),s+=")",s}return""}getGradientStops(e){return[{offset:0,color:e,opacity:.2},{offset:100,color:e,opacity:1}]}onClick(e){this.select.emit(e)}isActive(e){return!!this.activeEntries&&void 0!==this.activeEntries.find(s=>e.name===s.name)}activateCircle(){this.barVisible=!0,this.activate.emit({name:this.data.name})}deactivateCircle(){this.barVisible=!1,this.circle.opacity=0,this.deactivate.emit({name:this.data.name})}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.Lbi))},t.\u0275cmp=a.Xpm({type:t,selectors:[["g","ngx-charts-circle-series",""]],inputs:{data:"data",type:"type",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",visibleValue:"visibleValue",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[a.TTD],attrs:Hu,decls:1,vars:1,consts:[[4,"ngIf"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"],["class","tooltip-bar",4,"ngIf"],["ngx-charts-circle","","ngx-tooltip","",1,"circle",3,"cx","cy","r","fill","pointerEvents","data","classNames","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","select","activate","deactivate"],[1,"tooltip-bar"]],template:function(e,i){1&e&&a.YNc(0,Xu,6,22,"g",0),2&e&&a.Q6J("ngIf",i.circle)},dependencies:[Zs,nl,H.O5,el],encapsulation:2,data:{animation:[(0,Z.X$)("animationState",[(0,Z.eR)(":enter",[(0,Z.oB)({opacity:0}),(0,Z.jt)(250,(0,Z.oB)({opacity:1}))])])]},changeDetection:0}),t})(),rl=(()=>{class t{constructor(e){this.opacity=1,this.startOpacity=.5,this.endOpacity=1,this.gradient=!1,this.animations=!0,this.select=new a.vpe,this.animationsLoaded=!1,this.hasGradient=!1,this.barOrientation=ei,this.element=e.nativeElement}ngOnChanges(){this.update(),this.animationsLoaded||(this.loadAnimation(),this.animationsLoaded=!0)}update(){this.gradientId="grad"+In().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl()}loadAnimation(){this.areaPath=this.startingPath,setTimeout(this.updatePathEl.bind(this),100)}updatePathEl(){const e=ct(this.element).select(".area");this.animations?e.transition().duration(750).attr("d",this.path):e.attr("d",this.path)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.startOpacity},{offset:100,color:this.fill,opacity:this.endOpacity}]}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq))},t.\u0275cmp=a.Xpm({type:t,selectors:[["g","ngx-charts-area",""]],inputs:{data:"data",path:"path",startingPath:"startingPath",fill:"fill",opacity:"opacity",startOpacity:"startOpacity",endOpacity:"endOpacity",gradient:"gradient",stops:"stops",animations:"animations"},outputs:{select:"select"},features:[a.TTD],attrs:Ju,decls:2,vars:5,consts:[[4,"ngIf"],[1,"area"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(e,i){1&e&&(a.YNc(0,Qu,2,3,"defs",0),a.O4$(),a._UZ(1,"path",1)),2&e&&(a.Q6J("ngIf",i.gradient),a.xp6(1),a.Udp("opacity",i.opacity),a.uIk("d",i.areaPath)("fill",i.gradient?i.gradientFill:i.fill))},dependencies:[Zs,H.O5],encapsulation:2,changeDetection:0}),t})();typeof window<"u"?er=window:typeof global<"u"&&(er=global);const cl=er.MouseEvent;function tr(t,n=!1,e=!0){if("function"==typeof cl)return new cl(t,{bubbles:n,cancelable:e});{const i=document.createEvent("MouseEvent");return i.initEvent(t,n,e),i}}let hl=(()=>{class t{constructor(e){this.platformId=e,this.anchorOpacity=0,this.anchorPos=-1,this.anchorValues=[],this.placementTypes=be,this.styleTypes=On,this.showPercentage=!1,this.tooltipDisabled=!1,this.hover=new a.vpe}getValues(e){const i=[];for(const s of this.results){const r=s.series.find(d=>d.name.toString()===e.toString());let c=s.name;if(c instanceof Date&&(c=c.toLocaleDateString()),r){const d=r.name;let g,_=r.value;if(this.showPercentage&&(_=(r.d1-r.d0).toFixed(2)+"%"),this.colors.scaleType===q.Linear){let y=_;r.d1&&(y=r.d1),g=this.colors.getColor(y)}else g=this.colors.getColor(s.name);const C=Object.assign({},r,{value:_,name:d,series:c,min:r.min,max:r.max,color:g});i.push(C)}}return i}mouseMove(e){if(!(0,H.NF)(this.platformId))return;const i=e.pageX-e.target.getBoundingClientRect().left,s=this.findClosestPointIndex(i),r=this.xSet[s];if(this.anchorPos=this.xScale(r),this.anchorPos=Math.max(0,this.anchorPos),this.anchorPos=Math.min(this.dims.width,this.anchorPos),this.anchorValues=this.getValues(r),this.anchorPos!==this.lastAnchorPos){const c=tr("mouseleave");this.tooltipAnchor.nativeElement.dispatchEvent(c),this.anchorOpacity=.7,this.hover.emit({value:r}),this.showTooltip(),this.lastAnchorPos=this.anchorPos}}findClosestPointIndex(e){let i=0,s=this.xSet.length-1,r=Number.MAX_VALUE,c=0;for(;i<=s;){const d=(i+s)/2|0,_=this.xScale(this.xSet[d]),g=Math.abs(_-e);if(g<r&&(r=g,c=d),_<e)i=d+1;else{if(!(_>e)){r=0,c=d;break}s=d-1}}return c}showTooltip(){const e=tr("mouseenter");this.tooltipAnchor.nativeElement.dispatchEvent(e)}hideTooltip(){const e=tr("mouseleave");this.tooltipAnchor.nativeElement.dispatchEvent(e),this.anchorOpacity=0,this.lastAnchorPos=-1}getToolTipText(e){let i="";return i+=void 0!==e.series?e.series:"???",i+=": ",void 0!==e.value&&(i+=e.value.toLocaleString()),(void 0!==e.min||void 0!==e.max)&&(i+=" (",void 0!==e.min?(void 0===e.max&&(i+="\u2265"),i+=e.min.toLocaleString(),void 0!==e.max&&(i+=" - ")):void 0!==e.max&&(i+="\u2264"),void 0!==e.max&&(i+=e.max.toLocaleString()),i+=")"),i}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.Lbi))},t.\u0275cmp=a.Xpm({type:t,selectors:[["g","ngx-charts-tooltip-area",""]],viewQuery:function(e,i){if(1&e&&a.Gf(em,5),2&e){let s;a.iGM(s=a.CRH())&&(i.tooltipAnchor=s.first)}},inputs:{dims:"dims",xSet:"xSet",xScale:"xScale",yScale:"yScale",results:"results",colors:"colors",showPercentage:"showPercentage",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate"},outputs:{hover:"hover"},attrs:tm,decls:6,vars:18,consts:[["y","0",1,"tooltip-area",2,"opacity","0","cursor","'auto'",3,"mousemove","mouseleave"],["defaultTooltipTemplate",""],["y","0","ngx-tooltip","",1,"tooltip-anchor",3,"tooltipDisabled","tooltipPlacement","tooltipType","tooltipSpacing","tooltipTemplate","tooltipContext","tooltipImmediateExit"],["tooltipAnchor",""],[1,"area-tooltip-container"],["class","tooltip-item",4,"ngFor","ngForOf"],[1,"tooltip-item"],[1,"tooltip-item-color"]],template:function(e,i){if(1&e&&(a.O4$(),a.TgZ(0,"g")(1,"rect",0),a.NdJ("mousemove",function(r){return i.mouseMove(r)})("mouseleave",function(){return i.hideTooltip()}),a.qZA(),a.YNc(2,nm,2,1,"ng-template",null,1,a.W1O),a._UZ(4,"rect",2,3),a.qZA()),2&e){const s=a.MAs(3);a.xp6(1),a.uIk("x",0)("width",i.dims.width)("height",i.dims.height),a.xp6(3),a.Udp("opacity",i.anchorOpacity)("pointer-events","none"),a.Q6J("@animationState",0!==i.anchorOpacity?"active":"inactive")("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.placementTypes.Right)("tooltipType",i.styleTypes.tooltip)("tooltipSpacing",15)("tooltipTemplate",i.tooltipTemplate?i.tooltipTemplate:s)("tooltipContext",i.anchorValues)("tooltipImmediateExit",!0),a.uIk("x",i.anchorPos)("width",1)("height",i.dims.height)}},dependencies:[H.sg,el],encapsulation:2,data:{animation:[(0,Z.X$)("animationState",[(0,Z.eR)("inactive => active",[(0,Z.oB)({opacity:0}),(0,Z.jt)(250,(0,Z.oB)({opacity:.7}))]),(0,Z.eR)("active => inactive",[(0,Z.oB)({opacity:.7}),(0,Z.jt)(250,(0,Z.oB)({opacity:0}))])])]},changeDetection:0}),t})(),dl=(()=>{class t{constructor(e,i){this.cd=i,this.height=50,this.select=new a.vpe,this.onDomainChange=new a.vpe,this.initialized=!1,this.element=e.nativeElement}ngOnChanges(e){this.update(),this.initialized||(this.addBrush(),this.initialized=!0)}update(){this.dims=this.getDims(),this.height=this.dims.height;const e=this.view[1]-this.height;this.xDomain=this.getXDomain(),this.xScale=this.getXScale(),this.brush&&this.updateBrush(),this.transform=`translate(0 , ${e})`,this.filterId="filter"+In().toString(),this.filter=`url(#${this.filterId})`,this.cd.markForCheck()}getXDomain(){let e=[];for(const s of this.results)for(const r of s.series)e.includes(r.name)||e.push(r.name);let i=[];return this.scaleType===q.Time?i=[Math.min(...e),Math.max(...e)]:this.scaleType===q.Linear?(e=e.map(c=>Number(c)),i=[Math.min(...e),Math.max(...e)]):i=e,i}getXScale(){let e;return this.scaleType===q.Time?e=co().range([0,this.dims.width]).domain(this.xDomain):this.scaleType===q.Linear?e=Qi().range([0,this.dims.width]).domain(this.xDomain):this.scaleType===q.Ordinal&&(e=ko().range([0,this.dims.width]).padding(.1).domain(this.xDomain)),e}addBrush(){if(this.brush)return;const e=this.height,i=this.view[0];this.brush=function Hc(){return function ba(t){var d,n=Vc,e=Rc,i=$c,s=!0,r=E("start","brush","end"),c=6;function _(F){var W=F.property("__brush",ee).selectAll(".overlay").data([ts("overlay")]);W.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",wi.overlay).merge(W).each(function(){var z=Ta(this).extent;ct(this).attr("x",z[0][0]).attr("y",z[0][1]).attr("width",z[1][0]-z[0][0]).attr("height",z[1][1]-z[0][1])}),F.selectAll(".selection").data([ts("selection")]).enter().append("rect").attr("class","selection").attr("cursor",wi.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var te=F.selectAll(".handle").data(t.handles,function(z){return z.type});te.exit().remove(),te.enter().append("rect").attr("class",function(z){return"handle handle--"+z.type}).attr("cursor",function(z){return wi[z.type]}),F.each(g).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",A).filter(i).on("touchstart.brush",A).on("touchmove.brush",M).on("touchend.brush touchcancel.brush",B).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(){var F=ct(this),W=Ta(this).selection;W?(F.selectAll(".selection").style("display",null).attr("x",W[0][0]).attr("y",W[0][1]).attr("width",W[1][0]-W[0][0]).attr("height",W[1][1]-W[0][1]),F.selectAll(".handle").style("display",null).attr("x",function(te){return"e"===te.type[te.type.length-1]?W[1][0]-c/2:W[0][0]-c/2}).attr("y",function(te){return"s"===te.type[0]?W[1][1]-c/2:W[0][1]-c/2}).attr("width",function(te){return"n"===te.type||"s"===te.type?W[1][0]-W[0][0]+c:c}).attr("height",function(te){return"e"===te.type||"w"===te.type?W[1][1]-W[0][1]+c:c})):F.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function C(F,W,te){var z=F.__brush.emitter;return!z||te&&z.clean?new y(F,W,te):z}function y(F,W,te){this.that=F,this.args=W,this.state=F.__brush,this.active=0,this.clean=te}function A(F){if((!d||F.touches)&&e.apply(this,arguments)){var Ve,re,Le,Ie,Ne,He,De,ot,ds,Vn,$n,W=this,te=F.target.__data__.type,z="selection"===(s&&F.metaKey?te="overlay":te)?br:s&&F.altKey?kn:Sn,ae=t===$s?null:Pc[te],le=t===Vs?null:Bc[te],ie=Ta(W),Me=ie.extent,Oe=ie.selection,Ct=Me[0][0],ut=Me[0][1],Ht=Me[1][0],wt=Me[1][1],je=0,Ze=0,Rn=ae&&le&&s&&F.shiftKey,vt=Array.from(F.touches||[F],ue=>{const We=ue.identifier;return(ue=ne(ue,W)).point0=ue.slice(),ue.identifier=We,ue});pa(W);var tn=C(W,arguments,!0).beforestart();if("overlay"===te){Oe&&(ds=!0);const ue=[vt[0],vt[1]||vt[0]];ie.selection=Oe=[[Ve=t===$s?Ct:xt(ue[0][0],ue[1][0]),Le=t===Vs?ut:xt(ue[0][1],ue[1][1])],[Ne=t===$s?Ht:_t(ue[0][0],ue[1][0]),De=t===Vs?wt:_t(ue[0][1],ue[1][1])]],vt.length>1&&Xe(F)}else Ve=Oe[0][0],Le=Oe[0][1],Ne=Oe[1][0],De=Oe[1][1];re=Ve,Ie=Le,He=Ne,ot=De;var J=ct(W).attr("pointer-events","none"),xe=J.selectAll(".overlay").attr("cursor",wi[te]);if(F.touches)tn.moved=R,tn.ended=Fe;else{var ke=ct(F.view).on("mousemove.brush",R,!0).on("mouseup.brush",Fe,!0);s&&ke.on("keydown.brush",function St(ue){switch(ue.keyCode){case 16:Rn=ae&&le;break;case 18:z===Sn&&(ae&&(Ne=He-je*ae,Ve=re+je*ae),le&&(De=ot-Ze*le,Le=Ie+Ze*le),z=kn,Xe(ue));break;case 32:(z===Sn||z===kn)&&(ae<0?Ne=He-je:ae>0&&(Ve=re-je),le<0?De=ot-Ze:le>0&&(Le=Ie-Ze),z=va,xe.attr("cursor",wi.selection),Xe(ue));break;default:return}xa(ue)},!0).on("keyup.brush",function kt(ue){switch(ue.keyCode){case 16:Rn&&(Vn=$n=Rn=!1,Xe(ue));break;case 18:z===kn&&(ae<0?Ne=He:ae>0&&(Ve=re),le<0?De=ot:le>0&&(Le=Ie),z=Sn,Xe(ue));break;case 32:z===va&&(ue.altKey?(ae&&(Ne=He-je*ae,Ve=re+je*ae),le&&(De=ot-Ze*le,Le=Ie+Ze*le),z=kn):(ae<0?Ne=He:ae>0&&(Ve=re),le<0?De=ot:le>0&&(Le=Ie),z=Sn),xe.attr("cursor",wi[te]),Xe(ue));break;default:return}xa(ue)},!0),function Re(t){var n=t.document.documentElement,e=ct(t).on("dragstart.drag",he,N);"onselectstart"in n?e.on("selectstart.drag",he,N):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}(F.view)}g.call(W),tn.start(F,z.name)}function R(ue){for(const We of ue.changedTouches||[ue])for(const us of vt)us.identifier===We.identifier&&(us.cur=ne(We,W));if(Rn&&!Vn&&!$n&&1===vt.length){const We=vt[0];Cr(We.cur[0]-We[0])>Cr(We.cur[1]-We[1])?$n=!0:Vn=!0}for(const We of vt)We.cur&&(We[0]=We.cur[0],We[1]=We.cur[1]);ds=!0,xa(ue),Xe(ue)}function Xe(ue){const We=vt[0],us=We.point0;var Ni;switch(je=We[0]-us[0],Ze=We[1]-us[1],z){case va:case br:ae&&(je=_t(Ct-Ve,xt(Ht-Ne,je)),re=Ve+je,He=Ne+je),le&&(Ze=_t(ut-Le,xt(wt-De,Ze)),Ie=Le+Ze,ot=De+Ze);break;case Sn:vt[1]?(ae&&(re=_t(Ct,xt(Ht,vt[0][0])),He=_t(Ct,xt(Ht,vt[1][0])),ae=1),le&&(Ie=_t(ut,xt(wt,vt[0][1])),ot=_t(ut,xt(wt,vt[1][1])),le=1)):(ae<0?(je=_t(Ct-Ve,xt(Ht-Ve,je)),re=Ve+je,He=Ne):ae>0&&(je=_t(Ct-Ne,xt(Ht-Ne,je)),re=Ve,He=Ne+je),le<0?(Ze=_t(ut-Le,xt(wt-Le,Ze)),Ie=Le+Ze,ot=De):le>0&&(Ze=_t(ut-De,xt(wt-De,Ze)),Ie=Le,ot=De+Ze));break;case kn:ae&&(re=_t(Ct,xt(Ht,Ve-je*ae)),He=_t(Ct,xt(Ht,Ne+je*ae))),le&&(Ie=_t(ut,xt(wt,Le-Ze*le)),ot=_t(ut,xt(wt,De+Ze*le)))}He<re&&(ae*=-1,Ni=Ve,Ve=Ne,Ne=Ni,Ni=re,re=He,He=Ni,te in Sr&&xe.attr("cursor",wi[te=Sr[te]])),ot<Ie&&(le*=-1,Ni=Le,Le=De,De=Ni,Ni=Ie,Ie=ot,ot=Ni,te in kr&&xe.attr("cursor",wi[te=kr[te]])),ie.selection&&(Oe=ie.selection),Vn&&(re=Oe[0][0],He=Oe[1][0]),$n&&(Ie=Oe[0][1],ot=Oe[1][1]),(Oe[0][0]!==re||Oe[0][1]!==Ie||Oe[1][0]!==He||Oe[1][1]!==ot)&&(ie.selection=[[re,Ie],[He,ot]],g.call(W),tn.brush(ue,z.name))}function Fe(ue){if(function Oc(t){t.stopImmediatePropagation()}(ue),ue.touches){if(ue.touches.length)return;d&&clearTimeout(d),d=setTimeout(function(){d=null},500)}else(function mt(t,n){var e=t.document.documentElement,i=ct(t).on("dragstart.drag",null);n&&(i.on("click.drag",he,N),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in e?i.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)})(ue.view,ds),ke.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);J.attr("pointer-events","all"),xe.attr("cursor",wi.overlay),ie.selection&&(Oe=ie.selection),function Nc(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}(Oe)&&(ie.selection=null,g.call(W)),tn.end(ue,z.name)}}function M(F){C(this,arguments).moved(F)}function B(F){C(this,arguments).ended(F)}function ee(){var F=this.__brush||{selection:null};return F.extent=ya(n.apply(this,arguments)),F.dim=t,F}return _.move=function(F,W,te){F.tween?F.on("start.brush",function(z){C(this,arguments).beforestart().start(z)}).on("interrupt.brush end.brush",function(z){C(this,arguments).end(z)}).tween("brush",function(){var z=this,ae=z.__brush,le=C(z,arguments),ie=ae.selection,Me=t.input("function"==typeof W?W.apply(this,arguments):W,ae.extent),Oe=O(ie,Me);function Ct(Ve){ae.selection=1===Ve&&null===Me?null:Oe(Ve),g.call(z),le.brush()}return null!==ie&&null!==Me?Ct:Ct(1)}):F.each(function(){var z=this,ae=arguments,le=z.__brush,ie=t.input("function"==typeof W?W.apply(z,ae):W,le.extent),Me=C(z,ae).beforestart();pa(z),le.selection=null===ie?null:ie,g.call(z),Me.start(te).brush(te).end(te)})},_.clear=function(F,W){_.move(F,null,W)},y.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(F,W){return this.starting?(this.starting=!1,this.emit("start",F,W)):this.emit("brush",F),this},brush:function(F,W){return this.emit("brush",F,W),this},end:function(F,W){return 0==--this.active&&(delete this.state.emitter,this.emit("end",F,W)),this},emit:function(F,W,te){var z=ct(this.that).datum();r.call(F,this.that,new Mc(F,{sourceEvent:W,target:_,selection:t.output(this.state.selection),mode:te,dispatch:r}),z)}},_.extent=function(F){return arguments.length?(n="function"==typeof F?F:_a(ya(F)),_):n},_.filter=function(F){return arguments.length?(e="function"==typeof F?F:_a(!!F),_):e},_.touchable=function(F){return arguments.length?(i="function"==typeof F?F:_a(!!F),_):i},_.handleSize=function(F){return arguments.length?(c=+F,_):c},_.keyModifiers=function(F){return arguments.length?(s=!!F,_):s},_.on=function(){var F=r.on.apply(r,arguments);return F===r?_:F},_}(Vs)}().extent([[0,0],[i,e]]).on("brush end",({selection:s})=>{const c=(s||this.xScale.range()).map(this.xScale.invert);this.onDomainChange.emit(c),this.cd.markForCheck()}),ct(this.element).select(".brush").call(this.brush)}updateBrush(){this.brush&&(this.brush.extent([[0,0],[this.view[0],this.height]]),ct(this.element).select(".brush").call(this.brush),ct(this.element).select(".selection").attr("fill",void 0).attr("stroke",void 0).attr("fill-opacity",void 0),this.cd.markForCheck())}getDims(){return{width:this.view[0],height:this.height}}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq),a.Y36(a.sBO))},t.\u0275cmp=a.Xpm({type:t,selectors:[["g","ngx-charts-timeline",""]],inputs:{view:"view",results:"results",scheme:"scheme",customColors:"customColors",legend:"legend",autoScale:"autoScale",scaleType:"scaleType",height:"height"},outputs:{select:"select",onDomainChange:"onDomainChange"},features:[a.TTD],attrs:sm,ngContentSelectors:Bo,decls:7,vars:4,consts:[[1,"timeline"],["in","SourceGraphic","type","matrix","values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"],[1,"embedded-chart"],["x","0","y","0",1,"brush-background"],[1,"brush"]],template:function(e,i){1&e&&(a.F$t(),a.O4$(),a.TgZ(0,"g",0)(1,"filter"),a._UZ(2,"feColorMatrix",1),a.qZA(),a.TgZ(3,"g",2),a.Hsn(4),a.qZA(),a._UZ(5,"rect",3)(6,"g",4),a.qZA()),2&e&&(a.uIk("transform",i.transform),a.xp6(1),a.uIk("id",i.filterId),a.xp6(4),a.uIk("width",i.view[0])("height",i.height))},styles:[".timeline .brush-background{fill:#0000000d}.timeline .brush .selection{fill:#0000001a;stroke-width:1px;stroke:#888}.timeline .brush .handle{fill-opacity:0}.timeline .embedded-chart{opacity:.6}\n"],encapsulation:2,changeDetection:0}),t})(),Nt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[H.ez,Ko,tl],H.ez,Ko,tl]}),t})();const ul=[{name:"vivid",selectable:!0,group:q.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:q.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:q.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:q.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:q.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:q.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:q.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:q.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:q.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:q.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:q.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:q.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:q.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:q.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:q.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}];class Fp{constructor(n,e,i,s){"string"==typeof n&&(n=ul.find(r=>r.name===n)),this.colorDomain=n.domain,this.scaleType=e,this.domain=i,this.customColors=s,this.scale=this.generateColorScheme(n,e,this.domain)}generateColorScheme(n,e,i){let s;switch("string"==typeof n&&(n=ul.find(r=>r.name===n)),e){case q.Quantile:s=Ao().range(n.domain).domain(i);break;case q.Ordinal:s=Wa().range(n.domain).domain(i);break;case q.Linear:{const r=[...n.domain];1===r.length&&(r.push(r[0]),this.colorDomain=r);const c=vo(0,1,1/r.length);s=Qi().range(r).domain(c)}}return s}getColor(n){if(null==n)throw new Error("Value can not be null");if(this.scaleType===q.Linear){const e=Qi().domain(this.domain).range([0,1]);return this.scale(e(n))}{if("function"==typeof this.customColors)return this.customColors(n);const e=n.toString();let i;return this.customColors&&this.customColors.length>0&&(i=this.customColors.find(s=>s.name.toLowerCase()===e.toLowerCase())),i?i.value:this.scale(n)}}getLinearGradientStops(n,e){void 0===e&&(e=this.domain[0]);const i=Qi().domain(this.domain).range([0,1]),s=Ua().domain(this.colorDomain).range([0,1]),r=this.getColor(n),c=i(e),d=this.getColor(e),_=i(n);let g=1,C=c;const y=[];for(y.push({color:d,offset:c,originalOffset:c,opacity:1});C<_&&g<this.colorDomain.length;){const A=this.colorDomain[g],M=s(A);if(M<=c)g++;else{if(M.toFixed(4)>=(_-s.bandwidth()).toFixed(4))break;y.push({color:A,offset:M,opacity:1}),C=M,g++}}if(y[y.length-1].offset<100&&y.push({color:r,offset:_,opacity:1}),_===c)y[0].offset=0,y[1].offset=100;else if(100!==y[y.length-1].offset)for(const A of y)A.offset=(A.offset-c)/(_-c)*100;return y}}let Bp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[Nt]]}),t})(),pl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[Nt]]}),t})();jd();let Rp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[Nt]]}),t})(),Vp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[Nt]]}),t})(),$p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[Nt]]}),t})(),Np=(()=>{class t{constructor(e,i){this.element=e,this.platformId=i,this.fill="none",this.animations=!0,this.initialized=!1,this.isSSR=!1}ngOnInit(){(0,H.PM)(this.platformId)&&(this.isSSR=!0)}ngOnChanges(e){this.initialized?this.updatePathEl():(this.initialized=!0,this.initialPath=this.path)}updatePathEl(){const e=ct(this.element.nativeElement).select(".line");this.animations?e.transition().duration(750).attr("d",this.path):e.attr("d",this.path)}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq),a.Y36(a.Lbi))},t.\u0275cmp=a.Xpm({type:t,selectors:[["g","ngx-charts-line",""]],inputs:{path:"path",stroke:"stroke",data:"data",fill:"fill",animations:"animations"},features:[a.TTD],attrs:zm,decls:2,vars:2,consts:[[4,"ngIf"],["stroke-width","1.5px",1,"line"]],template:function(e,i){1&e&&(a.YNc(0,Gm,2,4,"g",0),a.YNc(1,Ym,2,3,"g",0)),2&e&&(a.Q6J("ngIf",!i.isSSR),a.xp6(1),a.Q6J("ngIf",i.isSSR))},dependencies:[H.O5],encapsulation:2,data:{animation:[(0,Z.X$)("animationState",[(0,Z.eR)(":enter",[(0,Z.oB)({strokeDasharray:2e3,strokeDashoffset:2e3}),(0,Z.jt)(1e3,(0,Z.oB)({strokeDashoffset:0}))])])]},changeDetection:0}),t})(),Hp=(()=>{class t{constructor(){this.animations=!0,this.barOrientation=ei}ngOnChanges(e){this.update()}update(){this.updateGradients();const e=this.sortData(this.data.series),i=this.getLineGenerator();this.path=i(e)||"";const s=this.getAreaGenerator();if(this.areaPath=s(e)||"",this.hasRange){const r=this.getRangeGenerator();this.outerPath=r(e)||""}if(this.hasGradient){this.stroke=this.gradientUrl;const r=this.data.series.map(_=>_.value),c=Math.max(...r);c===Math.min(...r)&&(this.stroke=this.colors.getColor(c))}else this.stroke=this.colors.getColor(this.data.name)}getLineGenerator(){return Io().x(e=>{const i=e.name;let s;return s=this.xScale(this.scaleType===q.Time?i:this.scaleType===q.Linear?Number(i):i),s}).y(e=>this.yScale(e.value)).curve(this.curve)}getRangeGenerator(){return Po().x(e=>{const i=e.name;let s;return s=this.xScale(this.scaleType===q.Time?i:this.scaleType===q.Linear?Number(i):i),s}).y0(e=>this.yScale("number"==typeof e.min?e.min:e.value)).y1(e=>this.yScale("number"==typeof e.max?e.max:e.value)).curve(this.curve)}getAreaGenerator(){return Po().x(i=>this.xScale(i.name)).y0(()=>this.yScale.range()[0]).y1(i=>this.yScale(i.value)).curve(this.curve)}sortData(e){return e=this.scaleType===q.Linear?function Op(t,n,e="asc"){return t.sort((i,s)=>"asc"===e?i[n]-s[n]:s[n]-i[n])}(e,"name"):this.scaleType===q.Time?function Pp(t,n,e="asc"){return t.sort((i,s)=>{const r=i[n].getTime(),c=s[n].getTime();return"asc"===e?r>c?1:c>r?-1:0:r>c?-1:c>r?1:0})}(e,"name"):function Ip(t,n,e="asc",i){return t.sort((s,r)=>{const d=r[n],_=i.indexOf(s[n]),g=i.indexOf(d);return"asc"===e?_-g:g-_})}(e,"name","asc",this.xScale.domain()),e}updateGradients(){if(this.colors.scaleType===q.Linear){this.hasGradient=!0,this.gradientId="grad"+In().toString(),this.gradientUrl=`url(#${this.gradientId})`;const e=this.data.series.map(r=>r.value),i=Math.max(...e),s=Math.min(...e);this.gradientStops=this.colors.getLinearGradientStops(i,s),this.areaGradientStops=this.colors.getLinearGradientStops(i)}else this.hasGradient=!1,this.gradientStops=void 0,this.areaGradientStops=void 0}isActive(e){return!!this.activeEntries&&void 0!==this.activeEntries.find(s=>e.name===s.name)}isInactive(e){return!(!this.activeEntries||0===this.activeEntries.length)&&void 0===this.activeEntries.find(s=>e.name===s.name)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["g","ngx-charts-line-series",""]],inputs:{data:"data",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",curve:"curve",activeEntries:"activeEntries",rangeFillOpacity:"rangeFillOpacity",hasRange:"hasRange",animations:"animations"},features:[a.TTD],attrs:Xm,decls:6,vars:22,consts:[["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops",4,"ngIf"],["ngx-charts-area","",1,"line-highlight",3,"data","path","fill","opacity","startOpacity","gradient","stops","animations"],["ngx-charts-line","",1,"line-series",3,"data","path","stroke","animations"],["ngx-charts-area","","class","line-series-range",3,"data","path","fill","active","inactive","opacity","animations",4,"ngIf"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"],["ngx-charts-area","",1,"line-series-range",3,"data","path","fill","opacity","animations"]],template:function(e,i){1&e&&(a.O4$(),a.TgZ(0,"g")(1,"defs"),a.YNc(2,Wm,1,3,"g",0),a.qZA(),a._UZ(3,"g",1)(4,"g",2),a.YNc(5,Um,1,9,"g",3),a.qZA()),2&e&&(a.xp6(2),a.Q6J("ngIf",i.hasGradient),a.xp6(1),a.ekj("active",i.isActive(i.data))("inactive",i.isInactive(i.data)),a.Q6J("data",i.data)("path",i.areaPath)("fill",i.hasGradient?i.gradientUrl:i.colors.getColor(i.data.name))("opacity",.25)("startOpacity",0)("gradient",!0)("stops",i.areaGradientStops)("animations",i.animations),a.xp6(1),a.ekj("active",i.isActive(i.data))("inactive",i.isInactive(i.data)),a.Q6J("data",i.data)("path",i.path)("stroke",i.stroke)("animations",i.animations),a.xp6(1),a.Q6J("ngIf",i.hasRange))},dependencies:[Zs,rl,Np,H.O5],encapsulation:2,changeDetection:0}),t})(),zp=(()=>{class t extends Uo{constructor(){super(...arguments),this.legendTitle="Legend",this.legendPosition=Ei.Right,this.showGridLines=!0,this.curve=ja,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.roundDomains=!1,this.tooltipDisabled=!1,this.showRefLines=!1,this.showRefLabels=!0,this.wrapTicks=!1,this.activate=new a.vpe,this.deactivate=new a.vpe,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.timelineHeight=50,this.timelinePadding=10,this.isSSR=!1}ngOnInit(){(0,H.PM)(this.platformId)&&(this.isSSR=!0)}update(){super.update(),this.dims=function Dp({width:t,height:n,margins:e,showXAxis:i=!1,showYAxis:s=!1,xAxisHeight:r=0,yAxisWidth:c=0,showXLabel:d=!1,showYLabel:_=!1,showLegend:g=!1,legendType:C=q.Ordinal,legendPosition:y=Ei.Right,columns:A=12}){let M=e[3],B=t,ee=n-e[0]-e[2];return g&&y===Ei.Right&&(A-=C===q.Ordinal?2:1),B=B*A/12,B=B-e[1]-e[3],i&&(ee-=5,ee-=r,d&&(ee-=30)),s&&(B-=5,B-=c,M+=c,M+=10,_&&(B-=30,M+=30)),B=Math.max(0,B),ee=Math.max(0,ee),{width:Math.floor(B),height:Math.floor(ee),xOffset:Math.floor(M)}}({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.timeline&&(this.dims.height-=this.timelineHeight+this.margin[2]+this.timelinePadding),this.xDomain=this.getXDomain(),this.filteredDomain&&(this.xDomain=this.filteredDomain),this.yDomain=this.getYDomain(),this.seriesDomain=this.getSeriesDomain(),this.xScale=this.getXScale(this.xDomain,this.dims.width),this.yScale=this.getYScale(this.yDomain,this.dims.height),this.updateTimeline(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`,this.clipPathId="clip"+In().toString(),this.clipPath=`url(#${this.clipPathId})`}updateTimeline(){this.timeline&&(this.timelineWidth=this.dims.width,this.timelineXDomain=this.getXDomain(),this.timelineXScale=this.getXScale(this.timelineXDomain,this.timelineWidth),this.timelineYScale=this.getYScale(this.yDomain,this.timelineHeight),this.timelineTransform=`translate(${this.dims.xOffset}, ${-this.margin[2]})`)}getXDomain(){let e=function Mp(t){const n=new Set;for(const e of t)for(const i of e.series)n.add(i.name);return Array.from(n)}(this.results);this.scaleType=function ml(t,n=!0){return n&&t.every(s=>s instanceof Date)?q.Time:t.every(i=>"number"==typeof i)?q.Linear:q.Ordinal}(e);let s,r,i=[];return this.scaleType===q.Linear&&(e=e.map(c=>Number(c))),(this.scaleType===q.Time||this.scaleType===q.Linear)&&(s=this.xScaleMin?this.xScaleMin:Math.min(...e),r=this.xScaleMax?this.xScaleMax:Math.max(...e)),this.scaleType===q.Time?(i=[new Date(s),new Date(r)],this.xSet=[...e].sort((c,d)=>{const _=c.getTime(),g=d.getTime();return _>g?1:g>_?-1:0})):this.scaleType===q.Linear?(i=[s,r],this.xSet=[...e].sort((c,d)=>c-d)):(i=e,this.xSet=e),i}getYDomain(){const e=[];for(const c of this.results)for(const d of c.series)e.indexOf(d.value)<0&&e.push(d.value),void 0!==d.min&&(this.hasRange=!0,e.indexOf(d.min)<0&&e.push(d.min)),void 0!==d.max&&(this.hasRange=!0,e.indexOf(d.max)<0&&e.push(d.max));const i=[...e];return this.autoScale||i.push(0),[this.yScaleMin?this.yScaleMin:Math.min(...i),this.yScaleMax?this.yScaleMax:Math.max(...i)]}getSeriesDomain(){return this.results.map(e=>e.name)}getXScale(e,i){let s;return this.scaleType===q.Time?s=co().range([0,i]).domain(e):this.scaleType===q.Linear?(s=Qi().range([0,i]).domain(e),this.roundDomains&&(s=s.nice())):this.scaleType===q.Ordinal&&(s=ko().range([0,i]).padding(.1).domain(e)),s}getYScale(e,i){const s=Qi().range([i,0]).domain(e);return this.roundDomains?s.nice():s}updateDomain(e){this.filteredDomain=e,this.xDomain=this.filteredDomain,this.xScale=this.getXScale(this.xDomain,this.dims.width)}updateHoveredVertical(e){this.hoveredVertical=e.value,this.deactivateAll()}hideCircles(){this.hoveredVertical=null,this.deactivateAll()}onClick(e){this.select.emit(e)}trackBy(e,i){return`${i.name}`}setColors(){let e;e=this.schemeType===q.Ordinal?this.seriesDomain:this.yDomain,this.colors=new Fp(this.scheme,this.schemeType,e,this.customColors)}getLegendOptions(){const e={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return e.scaleType===q.Ordinal?(e.domain=this.seriesDomain,e.colors=this.colors,e.title=this.legendTitle):(e.domain=this.yDomain,e.colors=this.colors.scale),e}updateYAxisWidth({width:e}){this.yAxisWidth=e,this.update()}updateXAxisHeight({height:e}){this.xAxisHeight=e,this.update()}onActivate(e){this.deactivateAll(),!(this.activeEntries.findIndex(s=>s.name===e.name&&s.value===e.value)>-1)&&(this.activeEntries=[e],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e){const i=this.activeEntries.findIndex(s=>s.name===e.name&&s.value===e.value);this.activeEntries.splice(i,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}deactivateAll(){this.activeEntries=[...this.activeEntries];for(const e of this.activeEntries)this.deactivate.emit({value:e,entries:[]});this.activeEntries=[]}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=a.n5z(t)))(i||t)}}(),t.\u0275cmp=a.Xpm({type:t,selectors:[["ngx-charts-line-chart"]],contentQueries:function(e,i,s){if(1&e&&(a.Suo(s,um,5),a.Suo(s,mm,5)),2&e){let r;a.iGM(r=a.CRH())&&(i.tooltipTemplate=r.first),a.iGM(r=a.CRH())&&(i.seriesTooltipTemplate=r.first)}},hostBindings:function(e,i){1&e&&a.NdJ("mouseleave",function(){return i.hideCircles()})},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",autoScale:"autoScale",timeline:"timeline",gradient:"gradient",showGridLines:"showGridLines",curve:"curve",activeEntries:"activeEntries",schemeType:"schemeType",rangeFillOpacity:"rangeFillOpacity",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",roundDomains:"roundDomains",tooltipDisabled:"tooltipDisabled",showRefLines:"showRefLines",referenceLines:"referenceLines",showRefLabels:"showRefLabels",xScaleMin:"xScaleMin",xScaleMax:"xScaleMax",yScaleMin:"yScaleMin",yScaleMax:"yScaleMax",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[a.qOj],decls:12,vars:20,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"line-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","wrapTicks","dimensionsChanged",4,"ngIf"],[4,"ngIf"],[3,"mouseleave",4,"ngIf"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","scaleType","legend","onDomainChange",4,"ngIf"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","wrapTicks","dimensionsChanged"],[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-line-series","",3,"xScale","yScale","colors","data","activeEntries","scaleType","curve","rangeFillOpacity","hasRange","animations"],[3,"mouseleave"],["ngx-charts-tooltip-area","",3,"dims","xSet","xScale","yScale","results","colors","tooltipDisabled","tooltipTemplate","hover"],[4,"ngFor","ngForOf"],["ngx-charts-circle-series","",3,"xScale","yScale","colors","data","scaleType","visibleValue","activeEntries","tooltipDisabled","tooltipTemplate","select","activate","deactivate"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","scaleType","legend","onDomainChange"],["ngx-charts-line-series","",3,"xScale","yScale","colors","data","scaleType","curve","hasRange","animations"]],template:function(e,i){1&e&&(a.TgZ(0,"ngx-charts-chart",0),a.NdJ("legendLabelClick",function(r){return i.onClick(r)})("legendLabelActivate",function(r){return i.onActivate(r)})("legendLabelDeactivate",function(r){return i.onDeactivate(r)}),a.O4$(),a.TgZ(1,"defs")(2,"clipPath"),a._UZ(3,"rect"),a.qZA()(),a.TgZ(4,"g",1),a.YNc(5,jm,1,11,"g",2),a.YNc(6,Zm,1,13,"g",3),a.TgZ(7,"g"),a.YNc(8,Jm,2,2,"g",4),a.YNc(9,Km,2,2,"g",4),a.YNc(10,tp,3,9,"g",5),a.qZA()(),a.YNc(11,np,2,13,"g",6),a.qZA()),2&e&&(a.Q6J("view",a.WLB(17,hs,i.width,i.height))("showLegend",i.legend)("legendOptions",i.legendOptions)("activeEntries",i.activeEntries)("animations",i.animations),a.xp6(2),a.uIk("id",i.clipPathId),a.xp6(1),a.uIk("width",i.dims.width+10)("height",i.dims.height+10)("transform","translate(-5, -5)"),a.xp6(1),a.uIk("transform",i.transform),a.xp6(1),a.Q6J("ngIf",i.xAxis),a.xp6(1),a.Q6J("ngIf",i.yAxis),a.xp6(1),a.uIk("clip-path",i.clipPath),a.xp6(1),a.Q6J("ngIf",!i.isSSR),a.xp6(1),a.Q6J("ngIf",i.isSSR),a.xp6(1),a.Q6J("ngIf",!i.tooltipDisabled),a.xp6(1),a.Q6J("ngIf",i.timeline&&"ordinal"!=i.scaleType))},dependencies:[Xo,Cp,Sp,Hp,hl,sl,dl,H.O5,H.sg],styles:[".ngx-charts-outer{animation:chartFadeIn linear .6s}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .node,.ngx-charts .link,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .node.active,.ngx-charts .node:hover,.ngx-charts .link.active,.ngx-charts .link:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .node:focus,.ngx-charts .link:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .node.hidden,.ngx-charts .link.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}\n"],encapsulation:2,data:{animation:[(0,Z.X$)("animationState",[(0,Z.eR)(":leave",[(0,Z.oB)({opacity:1}),(0,Z.jt)(500,(0,Z.oB)({opacity:0}))])])]},changeDetection:0}),t})(),gl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[Nt]]}),t})();Math;let ir=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[Nt]]}),t})(),Xp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[Nt,ir,gl]]}),t})(),Up=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[Nt]]}),t})(),jp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[Nt]]}),t})(),Zp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[Nt,ir,pl]]}),t})(),Jp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[Nt]]}),t})(),Qp=(()=>{class t{constructor(){!function qp(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[Nt,Bp,pl,Rp,Vp,$p,Jp,gl,Xp,Up,ir,jp,Zp]}),t})()},5861:(ti,Pe,V)=>{function a(fe,Ce,$,Q,Z,X,G){try{var pe=fe[X](G),K=pe.value}catch(oe){return void $(oe)}pe.done?Ce(K):Promise.resolve(K).then(Q,Z)}function H(fe){return function(){var Ce=this,$=arguments;return new Promise(function(Q,Z){var X=fe.apply(Ce,$);function G(K){a(X,Q,Z,G,pe,"next",K)}function pe(K){a(X,Q,Z,G,pe,"throw",K)}G(void 0)})}}V.d(Pe,{Z:()=>H})}}]);