"use strict";(self.webpackChunkInvestment_News_Aggregator_and_Analysis_Tool_project=self.webpackChunkInvestment_News_Aggregator_and_Analysis_Tool_project||[]).push([[734],{6425:(vt,Fe,V)=>{V.d(Fe,{T:()=>$i});var a=V(5861);class ne extends Error{constructor(d,o="FunctionsError",l){super(d),this.name=o,this.context=l}}class xe extends ne{constructor(d){super("Failed to send a request to the Edge Function","FunctionsFetchError",d)}}class le extends ne{constructor(d){super("Relay Error invoking the Edge Function","FunctionsRelayError",d)}}class j extends ne{constructor(d){super("Edge Function returned a non-2xx status code","FunctionsHttpError",d)}}class X{constructor(d,{headers:o={},customFetch:l}={}){this.url=d,this.headers=o,this.fetch=(g=>{let d;return d=g||(typeof fetch>"u"?(...o)=>Promise.resolve().then(V.bind(V,6397)).then(({default:l})=>l(...o)):fetch),(...o)=>d(...o)})(l)}setAuth(d){this.headers.Authorization=`Bearer ${d}`}invoke(d,o={}){var l;return function(g,d,o,l){return new(o||(o=Promise))(function(m,p){function x(k){try{S(l.next(k))}catch(z){p(z)}}function b(k){try{S(l.throw(k))}catch(z){p(z)}}function S(k){k.done?m(k.value):function u(m){return m instanceof o?m:new o(function(p){p(m)})}(k.value).then(x,b)}S((l=l.apply(g,d||[])).next())})}(this,void 0,void 0,function*(){try{const{headers:u,method:m,body:p}=o;let b,x={};p&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",b=p):"string"==typeof p?(x["Content-Type"]="text/plain",b=p):typeof FormData<"u"&&p instanceof FormData?b=p:(x["Content-Type"]="application/json",b=JSON.stringify(p)));const S=yield this.fetch(`${this.url}/${d}`,{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),u),body:b}).catch(fe=>{throw new xe(fe)}),k=S.headers.get("x-relay-error");if(k&&"true"===k)throw new le(S);if(!S.ok)throw new j(S);let te,z=(null!==(l=S.headers.get("Content-Type"))&&void 0!==l?l:"text/plain").split(";")[0].trim();return te="application/json"===z?yield S.json():"application/octet-stream"===z?yield S.blob():"multipart/form-data"===z?yield S.formData():yield S.text(),{data:te,error:null}}catch(u){return{data:null,error:u}}})}}var B=V(6397);class ee extends Error{constructor(d){super(d.message),this.name="PostgrestError",this.details=d.details,this.hint=d.hint,this.code=d.code}}class K{constructor(d){this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=d.headers,this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=d.shouldThrowOnError,this.signal=d.signal,this.isMaybeSingle=d.isMaybeSingle,this.fetch=d.fetch?d.fetch:typeof fetch>"u"?B.default:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(d,o){var l=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let m=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var p=(0,a.Z)(function*(x){var b,S,k;let z=null,te=null,fe=null,ce=x.status,Le=x.statusText;if(x.ok){if("HEAD"!==l.method){const Dt=yield x.text();""===Dt||(te="text/csv"===l.headers.Accept||l.headers.Accept&&l.headers.Accept.includes("application/vnd.pgrst.plan+text")?Dt:JSON.parse(Dt))}const Qe=null===(b=l.headers.Prefer)||void 0===b?void 0:b.match(/count=(exact|planned|estimated)/),At=null===(S=x.headers.get("content-range"))||void 0===S?void 0:S.split("/");Qe&&At&&At.length>1&&(fe=parseInt(At[1])),l.isMaybeSingle&&"GET"===l.method&&Array.isArray(te)&&(te.length>1?(z={code:"PGRST116",details:`Results contain ${te.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},te=null,fe=null,ce=406,Le="Not Acceptable"):te=1===te.length?te[0]:null)}else{const Qe=yield x.text();try{z=JSON.parse(Qe),Array.isArray(z)&&404===x.status&&(te=[],z=null,ce=200,Le="OK")}catch{404===x.status&&""===Qe?(ce=204,Le="No Content"):z={message:Qe}}if(z&&l.isMaybeSingle&&!(null===(k=z?.details)||void 0===k)&&k.includes("0 rows")&&(z=null,ce=200,Le="OK"),z&&l.shouldThrowOnError)throw new ee(z)}return{error:z,data:te,count:fe,status:ce,statusText:Le}});return function(x){return p.apply(this,arguments)}}());return this.shouldThrowOnError||(m=m.catch(p=>{var x,b,S;return{error:{message:`${null!==(x=p?.name)&&void 0!==x?x:"FetchError"}: ${p?.message}`,details:`${null!==(b=p?.stack)&&void 0!==b?b:""}`,hint:"",code:`${null!==(S=p?.code)&&void 0!==S?S:""}`},data:null,count:null,status:0,statusText:""}})),m.then(d,o)}}class se extends K{select(d){let o=!1;const l=(d??"*").split("").map(u=>/\s/.test(u)&&!o?"":('"'===u&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(d,{ascending:o=!0,nullsFirst:l,foreignTable:u,referencedTable:m=u}={}){const p=m?`${m}.order`:"order",x=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${x?`${x},`:""}${d}.${o?"asc":"desc"}${void 0===l?"":l?".nullsfirst":".nullslast"}`),this}limit(d,{foreignTable:o,referencedTable:l=o}={}){return this.url.searchParams.set(typeof l>"u"?"limit":`${l}.limit`,`${d}`),this}range(d,o,{foreignTable:l,referencedTable:u=l}={}){const p=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(typeof u>"u"?"offset":`${u}.offset`,`${d}`),this.url.searchParams.set(p,""+(o-d+1)),this}abortSignal(d){return this.signal=d,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="GET"===this.method?"application/json":"application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:d=!1,verbose:o=!1,settings:l=!1,buffers:u=!1,wal:m=!1,format:p="text"}={}){var x;const b=[d?"analyze":null,o?"verbose":null,l?"settings":null,u?"buffers":null,m?"wal":null].filter(Boolean).join("|"),S=null!==(x=this.headers.Accept)&&void 0!==x?x:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${p}; for="${S}"; options=${b};`,this}rollback(){var d;return(null!==(d=this.headers.Prefer)&&void 0!==d?d:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Ae extends se{eq(d,o){return this.url.searchParams.append(d,`eq.${o}`),this}neq(d,o){return this.url.searchParams.append(d,`neq.${o}`),this}gt(d,o){return this.url.searchParams.append(d,`gt.${o}`),this}gte(d,o){return this.url.searchParams.append(d,`gte.${o}`),this}lt(d,o){return this.url.searchParams.append(d,`lt.${o}`),this}lte(d,o){return this.url.searchParams.append(d,`lte.${o}`),this}like(d,o){return this.url.searchParams.append(d,`like.${o}`),this}likeAllOf(d,o){return this.url.searchParams.append(d,`like(all).{${o.join(",")}}`),this}likeAnyOf(d,o){return this.url.searchParams.append(d,`like(any).{${o.join(",")}}`),this}ilike(d,o){return this.url.searchParams.append(d,`ilike.${o}`),this}ilikeAllOf(d,o){return this.url.searchParams.append(d,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(d,o){return this.url.searchParams.append(d,`ilike(any).{${o.join(",")}}`),this}is(d,o){return this.url.searchParams.append(d,`is.${o}`),this}in(d,o){const l=o.map(u=>"string"==typeof u&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(d,`in.(${l})`),this}contains(d,o){return"string"==typeof o?this.url.searchParams.append(d,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(d,`cs.{${o.join(",")}}`):this.url.searchParams.append(d,`cs.${JSON.stringify(o)}`),this}containedBy(d,o){return"string"==typeof o?this.url.searchParams.append(d,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(d,`cd.{${o.join(",")}}`):this.url.searchParams.append(d,`cd.${JSON.stringify(o)}`),this}rangeGt(d,o){return this.url.searchParams.append(d,`sr.${o}`),this}rangeGte(d,o){return this.url.searchParams.append(d,`nxl.${o}`),this}rangeLt(d,o){return this.url.searchParams.append(d,`sl.${o}`),this}rangeLte(d,o){return this.url.searchParams.append(d,`nxr.${o}`),this}rangeAdjacent(d,o){return this.url.searchParams.append(d,`adj.${o}`),this}overlaps(d,o){return this.url.searchParams.append(d,"string"==typeof o?`ov.${o}`:`ov.{${o.join(",")}}`),this}textSearch(d,o,{config:l,type:u}={}){let m="";return"plain"===u?m="pl":"phrase"===u?m="ph":"websearch"===u&&(m="w"),this.url.searchParams.append(d,`${m}fts${void 0===l?"":`(${l})`}.${o}`),this}match(d){return Object.entries(d).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(d,o,l){return this.url.searchParams.append(d,`not.${o}.${l}`),this}or(d,{foreignTable:o,referencedTable:l=o}={}){return this.url.searchParams.append(l?`${l}.or`:"or",`(${d})`),this}filter(d,o,l){return this.url.searchParams.append(d,`${o}.${l}`),this}}class be{constructor(d,{headers:o={},schema:l,fetch:u}){this.url=d,this.headers=o,this.schema=l,this.fetch=u}select(d,{head:o=!1,count:l}={}){const u=o?"HEAD":"GET";let m=!1;const p=(d??"*").split("").map(x=>/\s/.test(x)&&!m?"":('"'===x&&(m=!m),x)).join("");return this.url.searchParams.set("select",p),l&&(this.headers.Prefer=`count=${l}`),new Ae({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(d,{count:o,defaultToNull:l=!0}={}){const m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),o&&m.push(`count=${o}`),l||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(d)){const p=d.reduce((x,b)=>x.concat(Object.keys(b)),[]);if(p.length>0){const x=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",x.join(","))}}return new Ae({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:this.fetch,allowEmpty:!1})}upsert(d,{onConflict:o,ignoreDuplicates:l=!1,count:u,defaultToNull:m=!0}={}){const x=[`resolution=${l?"ignore":"merge"}-duplicates`];if(void 0!==o&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&x.push(this.headers.Prefer),u&&x.push(`count=${u}`),m||x.push("missing=default"),this.headers.Prefer=x.join(","),Array.isArray(d)){const b=d.reduce((S,k)=>S.concat(Object.keys(k)),[]);if(b.length>0){const S=[...new Set(b)].map(k=>`"${k}"`);this.url.searchParams.set("columns",S.join(","))}}return new Ae({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:this.fetch,allowEmpty:!1})}update(d,{count:o}={}){const u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),o&&u.push(`count=${o}`),this.headers.Prefer=u.join(","),new Ae({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:this.fetch,allowEmpty:!1})}delete({count:d}={}){const l=[];return d&&l.push(`count=${d}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new Ae({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const qe={"X-Client-Info":"postgrest-js/1.9.2"};class st{constructor(d,{headers:o={},schema:l,fetch:u}={}){this.url=d,this.headers=Object.assign(Object.assign({},qe),o),this.schemaName=l,this.fetch=u}from(d){const o=new URL(`${this.url}/${d}`);return new be(o,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new st(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,o={},{head:l=!1,count:u}={}){let m;const p=new URL(`${this.url}/rpc/${d}`);let x;l?(m="HEAD",Object.entries(o).forEach(([S,k])=>{p.searchParams.append(S,`${k}`)})):(m="POST",x=o);const b=Object.assign({},this.headers);return u&&(b.Prefer=`count=${u}`),new Ae({method:m,url:p,headers:b,schema:this.schemaName,body:x,fetch:this.fetch,allowEmpty:!1})}}const Qt={"X-Client-Info":"realtime-js/2.9.3"};var De=(()=>{return(g=De||(De={}))[g.connecting=0]="connecting",g[g.open=1]="open",g[g.closing=2]="closing",g[g.closed=3]="closed",De;var g})(),Ue=(()=>{return(g=Ue||(Ue={})).closed="closed",g.errored="errored",g.joined="joined",g.joining="joining",g.leaving="leaving",Ue;var g})(),at=(()=>{return(g=at||(at={})).close="phx_close",g.error="phx_error",g.join="phx_join",g.reply="phx_reply",g.leave="phx_leave",g.access_token="access_token",at;var g})(),Be=(()=>((Be||(Be={})).websocket="websocket",Be))(),Ot=(()=>{return(g=Ot||(Ot={})).Connecting="connecting",g.Open="open",g.Closing="closing",g.Closed="closed",Ot;var g})();class Li{constructor(d,o){this.callback=d,this.timerCalc=o,this.timer=void 0,this.tries=0,this.callback=d,this.timerCalc=o}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class on{constructor(){this.HEADER_LENGTH=1}decode(d,o){return d.constructor===ArrayBuffer?o(this._binaryDecode(d)):o("string"==typeof d?JSON.parse(d):{})}_binaryDecode(d){const o=new DataView(d),l=new TextDecoder;return this._decodeBroadcast(d,o,l)}_decodeBroadcast(d,o,l){const u=o.getUint8(1),m=o.getUint8(2);let p=this.HEADER_LENGTH+2;const x=l.decode(d.slice(p,p+u));p+=u;const b=l.decode(d.slice(p,p+m));return p+=m,{ref:null,topic:x,event:b,payload:JSON.parse(l.decode(d.slice(p,d.byteLength)))}}}class Kt{constructor(d,o,l={},u=1e4){this.channel=d,this.event=o,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(d){this.timeout=d,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(d){this.payload=Object.assign(Object.assign({},this.payload),d)}receive(d,o){var l;return this._hasReceived(d)&&o(null===(l=this.receivedResp)||void 0===l?void 0:l.response),this.recHooks.push({status:d,callback:o}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},o=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=o,this._matchReceive(o)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(d,o){this.refEvent&&this.channel._trigger(this.refEvent,{status:d,response:o})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:d,response:o}){this.recHooks.filter(l=>l.status===d).forEach(l=>l.callback(o))}_hasReceived(d){return this.receivedResp&&this.receivedResp.status===d}}class ei{constructor(d,o){this.channel=d,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=o?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:m,onLeave:p,onSync:x}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ei.syncState(this.state,u,m,p),this.pendingDiffs.forEach(b=>{this.state=ei.syncDiff(this.state,b,m,p)}),this.pendingDiffs=[],x()}),this.channel._on(l.diff,{},u=>{const{onJoin:m,onLeave:p,onSync:x}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=ei.syncDiff(this.state,u,m,p),x())}),this.onJoin((u,m,p)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:m,newPresences:p})}),this.onLeave((u,m,p)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:m,leftPresences:p})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(d,o,l,u){const m=this.cloneDeep(d),p=this.transformState(o),x={},b={};return this.map(m,(S,k)=>{p[S]||(b[S]=k)}),this.map(p,(S,k)=>{const z=m[S];if(z){const te=k.map(Pe=>Pe.presence_ref),fe=z.map(Pe=>Pe.presence_ref),ce=k.filter(Pe=>fe.indexOf(Pe.presence_ref)<0),Le=z.filter(Pe=>te.indexOf(Pe.presence_ref)<0);ce.length>0&&(x[S]=ce),Le.length>0&&(b[S]=Le)}else x[S]=k}),this.syncDiff(m,{joins:x,leaves:b},l,u)}static syncDiff(d,o,l,u){const{joins:m,leaves:p}={joins:this.transformState(o.joins),leaves:this.transformState(o.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(m,(x,b)=>{var S;const k=null!==(S=d[x])&&void 0!==S?S:[];if(d[x]=this.cloneDeep(b),k.length>0){const z=d[x].map(fe=>fe.presence_ref),te=k.filter(fe=>z.indexOf(fe.presence_ref)<0);d[x].unshift(...te)}l(x,k,b)}),this.map(p,(x,b)=>{let S=d[x];if(!S)return;const k=b.map(z=>z.presence_ref);S=S.filter(z=>k.indexOf(z.presence_ref)<0),d[x]=S,u(x,S,b),0===S.length&&delete d[x]}),d}static map(d,o){return Object.getOwnPropertyNames(d).map(l=>o(l,d[l]))}static transformState(d){return d=this.cloneDeep(d),Object.getOwnPropertyNames(d).reduce((o,l)=>{const u=d[l];return o[l]="metas"in u?u.metas.map(m=>(m.presence_ref=m.phx_ref,delete m.phx_ref,delete m.phx_ref_prev,m)):u,o},{})}static cloneDeep(d){return JSON.parse(JSON.stringify(d))}onJoin(d){this.caller.onJoin=d}onLeave(d){this.caller.onLeave=d}onSync(d){this.caller.onSync=d}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ne=(()=>{return(g=Ne||(Ne={})).abstime="abstime",g.bool="bool",g.date="date",g.daterange="daterange",g.float4="float4",g.float8="float8",g.int2="int2",g.int4="int4",g.int4range="int4range",g.int8="int8",g.int8range="int8range",g.json="json",g.jsonb="jsonb",g.money="money",g.numeric="numeric",g.oid="oid",g.reltime="reltime",g.text="text",g.time="time",g.timestamp="timestamp",g.timestamptz="timestamptz",g.timetz="timetz",g.tsrange="tsrange",g.tstzrange="tstzrange",Ne;var g})();const ln=(g,d,o={})=>{var l;const u=null!==(l=o.skipTypes)&&void 0!==l?l:[];return Object.keys(d).reduce((m,p)=>(m[p]=zi(p,g,d,u),m),{})},zi=(g,d,o,l)=>{const m=d.find(x=>x.name===g)?.type,p=o[g];return m&&!l.includes(m)?Ei(m,p):Di(p)},Ei=(g,d)=>{if("_"===g.charAt(0)){const o=g.slice(1,g.length);return On(d,o)}switch(g){case Ne.bool:return In(d);case Ne.float4:case Ne.float8:case Ne.int2:case Ne.int4:case Ne.int8:case Ne.numeric:case Ne.oid:return fi(d);case Ne.json:case Ne.jsonb:return it(d);case Ne.timestamp:return cn(d);default:return Di(d)}},Di=g=>g,In=g=>{switch(g){case"t":return!0;case"f":return!1;default:return g}},fi=g=>{if("string"==typeof g){const d=parseFloat(g);if(!Number.isNaN(d))return d}return g},it=g=>{if("string"==typeof g)try{return JSON.parse(g)}catch(d){return console.log(`JSON parse error: ${d}`),g}return g},On=(g,d)=>{if("string"!=typeof g)return g;const o=g.length-1;if("{"===g[0]&&"}"===g[o]){let m;const p=g.slice(1,o);try{m=JSON.parse("["+p+"]")}catch{m=p?p.split(","):[]}return m.map(x=>Ei(d,x))}return g},cn=g=>"string"==typeof g?g.replace(" ","T"):g;class Mi{constructor(d,o={config:{}},l){this.topic=d,this.params=o,this.socket=l,this.bindings={},this.state=Ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=d.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},o.config),this.timeout=this.socket.timeout,this.joinPush=new Kt(this,at.join,this.params,this.timeout),this.rejoinTimer=new Li(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ue.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(at.reply,{},(u,m)=>{this._trigger(this._replyEventName(m),u)}),this.presence=new ei(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(d,o=this.timeout){var l,u;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:m,presence:p}}=this.params;this._onError(S=>d&&d("CHANNEL_ERROR",S)),this._onClose(()=>d&&d("CLOSED"));const x={},b={broadcast:m,presence:p,postgres_changes:null!==(u=null===(l=this.bindings.postgres_changes)||void 0===l?void 0:l.map(S=>S.filter))&&void 0!==u?u:[]};this.socket.accessToken&&(x.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:b},x)),this.joinedOnce=!0,this._rejoin(o),this.joinPush.receive("ok",({postgres_changes:S})=>{var k;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0!==S){const z=this.bindings.postgres_changes,te=null!==(k=z?.length)&&void 0!==k?k:0,fe=[];for(let ce=0;ce<te;ce++){const Le=z[ce],{filter:{event:Pe,schema:Qe,table:At,filter:Dt}}=Le,bt=S&&S[ce];if(!bt||bt.event!==Pe||bt.schema!==Qe||bt.table!==At||bt.filter!==Dt)return this.unsubscribe(),void(d&&d("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes")));fe.push(Object.assign(Object.assign({},Le),{id:bt.id}))}return this.bindings.postgres_changes=fe,void(d&&d("SUBSCRIBED"))}d&&d("SUBSCRIBED")}).receive("error",S=>{d&&d("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{d&&d("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(d,o={}){var l=this;return(0,a.Z)(function*(){return yield l.send({type:"presence",event:"track",payload:d},o.timeout||l.timeout)})()}untrack(d={}){var o=this;return(0,a.Z)(function*(){return yield o.send({type:"presence",event:"untrack"},d)})()}on(d,o,l){return this._on(d,o,l)}send(d,o={}){var l=this;return(0,a.Z)(function*(){var u,m;if(l._canPush()||"broadcast"!==d.type)return new Promise(p=>{var x,b,S;const k=l._push(d.type,d,o.timeout||l.timeout);"broadcast"===d.type&&!(null!==(S=null===(b=null===(x=l.params)||void 0===x?void 0:x.config)||void 0===b?void 0:b.broadcast)&&void 0!==S&&S.ack)&&p("ok"),k.receive("ok",()=>p("ok")),k.receive("timeout",()=>p("timed out"))});{const{event:p,payload:x}=d,b={method:"POST",headers:{apikey:null!==(u=l.socket.apiKey)&&void 0!==u?u:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:l.subTopic,event:p,payload:x}]})};try{return(yield l._fetchWithTimeout(l.broadcastEndpointURL,b,null!==(m=o.timeout)&&void 0!==m?m:l.timeout)).ok?"ok":"error"}catch(S){return"AbortError"===S.name?"timed out":"error"}}})()}updateJoinPayload(d){this.joinPush.updatePayload(d)}unsubscribe(d=this.timeout){this.state=Ue.leaving;const o=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(at.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(l=>{const u=new Kt(this,at.leave,{},d);u.receive("ok",()=>{o(),l("ok")}).receive("timeout",()=>{o(),l("timed out")}).receive("error",()=>{l("error")}),u.send(),this._canPush()||u.trigger("ok",{})})}_broadcastEndpointURL(){let d=this.socket.endPoint;return d=d.replace(/^ws/i,"http"),d=d.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),d.replace(/\/+$/,"")+"/api/broadcast"}_fetchWithTimeout(d,o,l){var u=this;return(0,a.Z)(function*(){const m=new AbortController,p=setTimeout(()=>m.abort(),l),x=yield u.socket.fetch(d,Object.assign(Object.assign({},o),{signal:m.signal}));return clearTimeout(p),x})()}_push(d,o,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${d}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Kt(this,d,o,l);return this._canPush()?u.send():(u.startTimeout(),this.pushBuffer.push(u)),u}_onMessage(d,o,l){return o}_isMember(d){return this.topic===d}_joinRef(){return this.joinPush.ref}_trigger(d,o,l){var u,m;const p=d.toLocaleLowerCase(),{close:x,error:b,leave:S,join:k}=at;if(l&&[x,b,S,k].indexOf(p)>=0&&l!==this._joinRef())return;let te=this._onMessage(p,o,l);if(o&&!te)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(p)?null===(u=this.bindings.postgres_changes)||void 0===u||u.filter(fe=>{var ce,Le,Pe;return"*"===(null===(ce=fe.filter)||void 0===ce?void 0:ce.event)||(null===(Pe=null===(Le=fe.filter)||void 0===Le?void 0:Le.event)||void 0===Pe?void 0:Pe.toLocaleLowerCase())===p}).map(fe=>fe.callback(te,l)):null===(m=this.bindings[p])||void 0===m||m.filter(fe=>{var ce,Le,Pe,Qe,At,Dt;if(["broadcast","presence","postgres_changes"].includes(p)){if("id"in fe){const bt=fe.id,Rt=null===(ce=fe.filter)||void 0===ce?void 0:ce.event;return bt&&(null===(Le=o.ids)||void 0===Le?void 0:Le.includes(bt))&&("*"===Rt||Rt?.toLocaleLowerCase()===(null===(Pe=o.data)||void 0===Pe?void 0:Pe.type.toLocaleLowerCase()))}{const bt=null===(At=null===(Qe=fe?.filter)||void 0===Qe?void 0:Qe.event)||void 0===At?void 0:At.toLocaleLowerCase();return"*"===bt||bt===(null===(Dt=o?.event)||void 0===Dt?void 0:Dt.toLocaleLowerCase())}}return fe.type.toLocaleLowerCase()===p}).map(fe=>{if("object"==typeof te&&"ids"in te){const ce=te.data,{schema:Le,table:Pe,commit_timestamp:Qe,type:At,errors:Dt}=ce;te=Object.assign(Object.assign({},{schema:Le,table:Pe,commit_timestamp:Qe,eventType:At,new:{},old:{},errors:Dt}),this._getPayloadRecords(ce))}fe.callback(te,l)})}_isClosed(){return this.state===Ue.closed}_isJoined(){return this.state===Ue.joined}_isJoining(){return this.state===Ue.joining}_isLeaving(){return this.state===Ue.leaving}_replyEventName(d){return`chan_reply_${d}`}_on(d,o,l){const u=d.toLocaleLowerCase(),m={type:u,filter:o,callback:l};return this.bindings[u]?this.bindings[u].push(m):this.bindings[u]=[m],this}_off(d,o){const l=d.toLocaleLowerCase();return this.bindings[l]=this.bindings[l].filter(u=>{var m;return!((null===(m=u.type)||void 0===m?void 0:m.toLocaleLowerCase())===l&&Mi.isEqual(u.filter,o))}),this}static isEqual(d,o){if(Object.keys(d).length!==Object.keys(o).length)return!1;for(const l in d)if(d[l]!==o[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(d){this._on(at.close,{},d)}_onError(d){this._on(at.error,{},o=>d(o))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(d=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ue.joining,this.joinPush.resend(d))}_getPayloadRecords(d){const o={new:{},old:{}};return("INSERT"===d.type||"UPDATE"===d.type)&&(o.new=ln(d.columns,d.record)),("UPDATE"===d.type||"DELETE"===d.type)&&(o.old=ln(d.columns,d.old_record)),o}}const ti=()=>{},Pn=typeof WebSocket<"u";class Ui{constructor(d,o){var u,l=this;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=Qt,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ti,this.conn=null,this.sendBuffer=[],this.serializer=new on,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=p=>{let x;return x=p||(typeof fetch>"u"?(...b)=>Promise.resolve().then(V.bind(V,6397)).then(({default:S})=>S(...b)):fetch),(...b)=>x(...b)},this.endPoint=`${d}/${Be.websocket}`,this.transport=o?.transport?o.transport:null,o?.params&&(this.params=o.params),o?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),o.headers)),o?.timeout&&(this.timeout=o.timeout),o?.logger&&(this.logger=o.logger),o?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=o.heartbeatIntervalMs);const m=null===(u=o?.params)||void 0===u?void 0:u.apikey;m&&(this.accessToken=m,this.apiKey=m),this.reconnectAfterMs=o?.reconnectAfterMs?o.reconnectAfterMs:p=>[1e3,2e3,5e3,1e4][p-1]||1e4,this.encode=o?.encode?o.encode:(p,x)=>x(JSON.stringify(p)),this.decode=o?.decode?o.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Li((0,a.Z)(function*(){l.disconnect(),l.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(o?.fetch)}connect(){if(!this.conn){if(this.transport)return void(this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers}));if(Pn)return this.conn=new WebSocket(this._endPointURL()),void this.setupConnection();this.conn=new _i(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),V.e(144).then(V.t.bind(V,3144,23)).then(({default:d})=>{this.conn=new d(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(d,o){this.conn&&(this.conn.onclose=function(){},d?this.conn.close(d,o??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(d){var o=this;return(0,a.Z)(function*(){const l=yield d.unsubscribe();return 0===o.channels.length&&o.disconnect(),l})()}removeAllChannels(){var d=this;return(0,a.Z)(function*(){const o=yield Promise.all(d.channels.map(l=>l.unsubscribe()));return d.disconnect(),o})()}log(d,o,l){this.logger(d,o,l)}connectionState(){switch(this.conn&&this.conn.readyState){case De.connecting:return Ot.Connecting;case De.open:return Ot.Open;case De.closing:return Ot.Closing;default:return Ot.Closed}}isConnected(){return this.connectionState()===Ot.Open}channel(d,o={config:{}}){const l=new Mi(`realtime:${d}`,o,this);return this.channels.push(l),l}push(d){const{topic:o,event:l,payload:u,ref:m}=d,p=()=>{this.encode(d,x=>{var b;null===(b=this.conn)||void 0===b||b.send(x)})};this.log("push",`${o} ${l} (${m})`,u),this.isConnected()?p():this.sendBuffer.push(p)}setAuth(d){this.accessToken=d,this.channels.forEach(o=>{d&&o.updateJoinPayload({access_token:d}),o.joinedOnce&&o._isJoined()&&o._push(at.access_token,{access_token:d})})}_makeRef(){let d=this.ref+1;return this.ref=d===this.ref?0:d,this.ref.toString()}_leaveOpenTopic(d){let o=this.channels.find(l=>l.topic===d&&(l._isJoined()||l._isJoining()));o&&(this.log("transport",`leaving duplicate topic "${d}"`),o.unsubscribe())}_remove(d){this.channels=this.channels.filter(o=>o._joinRef()!==d._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=d=>this._onConnError(d),this.conn.onmessage=d=>this._onConnMessage(d),this.conn.onclose=d=>this._onConnClose(d))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(d){this.decode(d.data,o=>{let{topic:l,event:u,payload:m,ref:p}=o;(p&&p===this.pendingHeartbeatRef||u===m?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${m.status||""} ${l} ${u} ${p&&"("+p+")"||""}`,m),this.channels.filter(x=>x._isMember(l)).forEach(x=>x._trigger(u,m,p)),this.stateChangeCallbacks.message.forEach(x=>x(o))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(d=>d())}_onConnClose(d){this.log("transport","close",d),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(o=>o(d))}_onConnError(d){this.log("transport",d.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(o=>o(d))}_triggerChanError(){this.channels.forEach(d=>d._trigger(at.error))}_appendParams(d,o){if(0===Object.keys(o).length)return d;const l=d.match(/\?/)?"&":"?";return`${d}${l}${new URLSearchParams(o)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(d=>d()),this.sendBuffer=[])}_sendHeartbeat(){var d;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(d=this.conn)||void 0===d||d.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class _i{constructor(d,o,l){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=De.connecting,this.send=()=>{},this.url=null,this.url=d,this.close=l.close}}class xi extends Error{constructor(d){super(d),this.__isStorageError=!0,this.name="StorageError"}}function Je(g){return"object"==typeof g&&null!==g&&"__isStorageError"in g}class hn extends xi{constructor(d,o){super(d),this.name="StorageApiError",this.status=o}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ii extends xi{constructor(d,o){super(d),this.name="StorageUnknownError",this.originalError=o}}const un=g=>{let d;return d=g||(typeof fetch>"u"?(...o)=>Promise.resolve().then(V.bind(V,6397)).then(({default:l})=>l(...o)):fetch),(...o)=>d(...o)};var ni=function(g,d,o,l){return new(o||(o=Promise))(function(m,p){function x(k){try{S(l.next(k))}catch(z){p(z)}}function b(k){try{S(l.throw(k))}catch(z){p(z)}}function S(k){k.done?m(k.value):function u(m){return m instanceof o?m:new o(function(p){p(m)})}(k.value).then(x,b)}S((l=l.apply(g,d||[])).next())})};const Xi=g=>g.msg||g.message||g.error_description||g.error||JSON.stringify(g),Nn=(g,d)=>ni(void 0,void 0,void 0,function*(){const o=yield function(g,d,o,l){return new(o||(o=Promise))(function(m,p){function x(k){try{S(l.next(k))}catch(z){p(z)}}function b(k){try{S(l.throw(k))}catch(z){p(z)}}function S(k){k.done?m(k.value):function u(m){return m instanceof o?m:new o(function(p){p(m)})}(k.value).then(x,b)}S((l=l.apply(g,d||[])).next())})}(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(V.bind(V,6397))).Response:Response});g instanceof o?g.json().then(l=>{d(new hn(Xi(l),g.status||500))}).catch(l=>{d(new ii(Xi(l),l))}):d(new ii(Xi(g),g))}),mn=(g,d,o,l)=>{const u={method:g,headers:d?.headers||{}};return"GET"===g?u:(u.headers=Object.assign({"Content-Type":"application/json"},d?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),o))};function Fi(g,d,o,l,u,m){return ni(this,void 0,void 0,function*(){return new Promise((p,x)=>{g(o,mn(d,l,u,m)).then(b=>{if(!b.ok)throw b;return l?.noResolveJson?b:b.json()}).then(b=>p(b)).catch(b=>Nn(b,x))})})}function pn(g,d,o,l){return ni(this,void 0,void 0,function*(){return Fi(g,"GET",d,o,l)})}function Ut(g,d,o,l,u){return ni(this,void 0,void 0,function*(){return Fi(g,"POST",d,l,u,o)})}function cs(g,d,o,l,u){return ni(this,void 0,void 0,function*(){return Fi(g,"PUT",d,l,u,o)})}function vi(g,d,o,l,u){return ni(this,void 0,void 0,function*(){return Fi(g,"DELETE",d,l,u,o)})}var ct=function(g,d,o,l){return new(o||(o=Promise))(function(m,p){function x(k){try{S(l.next(k))}catch(z){p(z)}}function b(k){try{S(l.throw(k))}catch(z){p(z)}}function S(k){k.done?m(k.value):function u(m){return m instanceof o?m:new o(function(p){p(m)})}(k.value).then(x,b)}S((l=l.apply(g,d||[])).next())})};const Ii={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fn{constructor(d,o={},l,u){this.url=d,this.headers=o,this.bucketId=l,this.fetch=un(u)}uploadOrUpdate(d,o,l,u){return ct(this,void 0,void 0,function*(){try{let m;const p=Object.assign(Object.assign({},gn),u),x=Object.assign(Object.assign({},this.headers),"POST"===d&&{"x-upsert":String(p.upsert)});typeof Blob<"u"&&l instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",l)):typeof FormData<"u"&&l instanceof FormData?(m=l,m.append("cacheControl",p.cacheControl)):(m=l,x["cache-control"]=`max-age=${p.cacheControl}`,x["content-type"]=p.contentType);const b=this._removeEmptyFolders(o),S=this._getFinalPath(b),k=yield this.fetch(`${this.url}/object/${S}`,Object.assign({method:d,body:m,headers:x},p?.duplex?{duplex:p.duplex}:{})),z=yield k.json();return k.ok?{data:{path:b,id:z.Id,fullPath:z.Key},error:null}:{data:null,error:z}}catch(m){if(Je(m))return{data:null,error:m};throw m}})}upload(d,o,l){return ct(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",d,o,l)})}uploadToSignedUrl(d,o,l,u){return ct(this,void 0,void 0,function*(){const m=this._removeEmptyFolders(d),p=this._getFinalPath(m),x=new URL(this.url+`/object/upload/sign/${p}`);x.searchParams.set("token",o);try{let b;const S=Object.assign({upsert:gn.upsert},u),k=Object.assign(Object.assign({},this.headers),{"x-upsert":String(S.upsert)});typeof Blob<"u"&&l instanceof Blob?(b=new FormData,b.append("cacheControl",S.cacheControl),b.append("",l)):typeof FormData<"u"&&l instanceof FormData?(b=l,b.append("cacheControl",S.cacheControl)):(b=l,k["cache-control"]=`max-age=${S.cacheControl}`,k["content-type"]=S.contentType);const z=yield this.fetch(x.toString(),{method:"PUT",body:b,headers:k}),te=yield z.json();return z.ok?{data:{path:m,fullPath:te.Key},error:null}:{data:null,error:te}}catch(b){if(Je(b))return{data:null,error:b};throw b}})}createSignedUploadUrl(d){return ct(this,void 0,void 0,function*(){try{let o=this._getFinalPath(d);const l=yield Ut(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:this.headers}),u=new URL(this.url+l.url),m=u.searchParams.get("token");if(!m)throw new xi("No token returned by API");return{data:{signedUrl:u.toString(),path:d,token:m},error:null}}catch(o){if(Je(o))return{data:null,error:o};throw o}})}update(d,o,l){return ct(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",d,o,l)})}move(d,o){return ct(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:d,destinationKey:o},{headers:this.headers}),error:null}}catch(l){if(Je(l))return{data:null,error:l};throw l}})}copy(d,o){return ct(this,void 0,void 0,function*(){try{return{data:{path:(yield Ut(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:d,destinationKey:o},{headers:this.headers})).Key},error:null}}catch(l){if(Je(l))return{data:null,error:l};throw l}})}createSignedUrl(d,o,l){return ct(this,void 0,void 0,function*(){try{let u=this._getFinalPath(d),m=yield Ut(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:o},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const p=l?.download?`&download=${!0===l.download?"":l.download}`:"";return m={signedUrl:encodeURI(`${this.url}${m.signedURL}${p}`)},{data:m,error:null}}catch(u){if(Je(u))return{data:null,error:u};throw u}})}createSignedUrls(d,o,l){return ct(this,void 0,void 0,function*(){try{const u=yield Ut(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:o,paths:d},{headers:this.headers}),m=l?.download?`&download=${!0===l.download?"":l.download}`:"";return{data:u.map(p=>Object.assign(Object.assign({},p),{signedUrl:p.signedURL?encodeURI(`${this.url}${p.signedURL}${m}`):null})),error:null}}catch(u){if(Je(u))return{data:null,error:u};throw u}})}download(d,o){return ct(this,void 0,void 0,function*(){const u=typeof o?.transform<"u"?"render/image/authenticated":"object",m=this.transformOptsToQueryString(o?.transform||{}),p=m?`?${m}`:"";try{const x=this._getFinalPath(d);return{data:yield(yield pn(this.fetch,`${this.url}/${u}/${x}${p}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(x){if(Je(x))return{data:null,error:x};throw x}})}getPublicUrl(d,o){const l=this._getFinalPath(d),u=[],m=o?.download?`download=${!0===o.download?"":o.download}`:"";""!==m&&u.push(m);const x=typeof o?.transform<"u"?"render/image":"object",b=this.transformOptsToQueryString(o?.transform||{});""!==b&&u.push(b);let S=u.join("&");return""!==S&&(S=`?${S}`),{data:{publicUrl:encodeURI(`${this.url}/${x}/public/${l}${S}`)}}}remove(d){return ct(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:d},{headers:this.headers}),error:null}}catch(o){if(Je(o))return{data:null,error:o};throw o}})}list(d,o,l){return ct(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},Ii),o),{prefix:d||""});return{data:yield Ut(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},l),error:null}}catch(u){if(Je(u))return{data:null,error:u};throw u}})}_getFinalPath(d){return`${this.bucketId}/${d}`}_removeEmptyFolders(d){return d.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(d){const o=[];return d.width&&o.push(`width=${d.width}`),d.height&&o.push(`height=${d.height}`),d.resize&&o.push(`resize=${d.resize}`),d.format&&o.push(`format=${d.format}`),d.quality&&o.push(`quality=${d.quality}`),o.join("&")}}const _n={"X-Client-Info":"storage-js/2.5.5"};var si=function(g,d,o,l){return new(o||(o=Promise))(function(m,p){function x(k){try{S(l.next(k))}catch(z){p(z)}}function b(k){try{S(l.throw(k))}catch(z){p(z)}}function S(k){k.done?m(k.value):function u(m){return m instanceof o?m:new o(function(p){p(m)})}(k.value).then(x,b)}S((l=l.apply(g,d||[])).next())})};class J{constructor(d,o={},l){this.url=d,this.headers=Object.assign(Object.assign({},_n),o),this.fetch=un(l)}listBuckets(){return si(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(d){if(Je(d))return{data:null,error:d};throw d}})}getBucket(d){return si(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/bucket/${d}`,{headers:this.headers}),error:null}}catch(o){if(Je(o))return{data:null,error:o};throw o}})}createBucket(d,o={public:!1}){return si(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/bucket`,{id:d,name:d,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(Je(l))return{data:null,error:l};throw l}})}updateBucket(d,o){return si(this,void 0,void 0,function*(){try{return{data:yield cs(this.fetch,`${this.url}/bucket/${d}`,{id:d,name:d,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(Je(l))return{data:null,error:l};throw l}})}emptyBucket(d){return si(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/bucket/${d}/empty`,{},{headers:this.headers}),error:null}}catch(o){if(Je(o))return{data:null,error:o};throw o}})}deleteBucket(d){return si(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/bucket/${d}`,{},{headers:this.headers}),error:null}}catch(o){if(Je(o))return{data:null,error:o};throw o}})}}class M extends J{constructor(d,o={},l){super(d,o,l)}from(d){return new fn(this.url,this.headers,d,this.fetch)}}let G="";G=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const Ve={headers:{"X-Client-Info":`supabase-js-${G}/2.39.7`}},rt={schema:"public"},ai={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$n={};const vn=(g,d,o)=>{const l=(g=>{let d;return d=g||(typeof fetch>"u"?B.default:fetch),(...o)=>d(...o)})(o),u=typeof Headers>"u"?B.Headers:Headers;return(m,p)=>function(g,d,o,l){return new(o||(o=Promise))(function(m,p){function x(k){try{S(l.next(k))}catch(z){p(z)}}function b(k){try{S(l.throw(k))}catch(z){p(z)}}function S(k){k.done?m(k.value):function u(m){return m instanceof o?m:new o(function(p){p(m)})}(k.value).then(x,b)}S((l=l.apply(g,d||[])).next())})}(void 0,void 0,void 0,function*(){var x;const b=null!==(x=yield d())&&void 0!==x?x:g;let S=new u(p?.headers);return S.has("apikey")||S.set("apikey",g),S.has("Authorization")||S.set("Authorization",`Bearer ${b}`),l(m,Object.assign(Object.assign({},p),{headers:S}))})},Lt=()=>typeof document<"u",Et={tested:!1,writable:!1},bi=()=>{if(!Lt())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(Et.tested)return Et.writable;const g=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(g,g),globalThis.localStorage.removeItem(g),Et.tested=!0,Et.writable=!0}catch{Et.tested=!0,Et.writable=!1}return Et.writable};function bn(g){const d={},o=new URL(g);if(o.hash&&"#"===o.hash[0])try{new URLSearchParams(o.hash.substring(1)).forEach((u,m)=>{d[m]=u})}catch{}return o.searchParams.forEach((l,u)=>{d[u]=l}),d}const Tn=g=>{let d;return d=g||(typeof fetch>"u"?(...o)=>Promise.resolve().then(V.bind(V,6397)).then(({default:l})=>l(...o)):fetch),(...o)=>d(...o)},Hn=g=>"object"==typeof g&&null!==g&&"status"in g&&"ok"in g&&"json"in g&&"function"==typeof g.json,yt=function(){var g=(0,a.Z)(function*(d,o,l){yield d.setItem(o,JSON.stringify(l))});return function(o,l,u){return g.apply(this,arguments)}}(),Ti=function(){var g=(0,a.Z)(function*(d,o){const l=yield d.getItem(o);if(!l)return null;try{return JSON.parse(l)}catch{return l}});return function(o,l){return g.apply(this,arguments)}}(),Cn=function(){var g=(0,a.Z)(function*(d,o){yield d.removeItem(o)});return function(o,l){return g.apply(this,arguments)}}();class oi{constructor(){this.promise=new oi.promiseConstructor((d,o)=>{this.resolve=d,this.reject=o})}}function wn(g){const o=g.split(".");if(3!==o.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(o[1]))throw new Error("JWT is not valid: payload is not in base64url format");return JSON.parse(function Os(g){const d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let l,u,m,p,x,b,S,o="",k=0;for(g=g.replace("-","+").replace("_","/");k<g.length;)p=d.indexOf(g.charAt(k++)),x=d.indexOf(g.charAt(k++)),b=d.indexOf(g.charAt(k++)),S=d.indexOf(g.charAt(k++)),l=p<<2|x>>4,u=(15&x)<<4|b>>2,m=(3&b)<<6|S,o+=String.fromCharCode(l),64!=b&&0!=u&&(o+=String.fromCharCode(u)),64!=S&&0!=m&&(o+=String.fromCharCode(m));return o}(o[1]))}function Gn(){return(Gn=(0,a.Z)(function*(g){return yield new Promise(d=>{setTimeout(()=>d(null),g)})})).apply(this,arguments)}function Rs(g){return("0"+g.toString(16)).substr(-2)}function li(){const d=new Uint32Array(56);if(typeof crypto>"u"){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=o.length;let u="";for(let m=0;m<56;m++)u+=o.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(d),Array.from(d,Rs).join("")}function zn(){return(zn=(0,a.Z)(function*(g){const o=(new TextEncoder).encode(g),l=yield crypto.subtle.digest("SHA-256",o),u=new Uint8Array(l);return Array.from(u).map(m=>String.fromCharCode(m)).join("")})).apply(this,arguments)}function Pi(g){return Sn.apply(this,arguments)}function Sn(){return Sn=(0,a.Z)(function*(g){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),g;const o=yield function Bs(g){return zn.apply(this,arguments)}(g);return function Ns(g){return btoa(g).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}(o)}),Sn.apply(this,arguments)}oi.promiseConstructor=Promise;class P extends Error{constructor(d,o){super(d),this.__isAuthError=!0,this.name="AuthError",this.status=o}}function y(g){return"object"==typeof g&&null!==g&&"__isAuthError"in g}class v extends P{constructor(d,o){super(d,o),this.name="AuthApiError",this.status=o}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class N extends P{constructor(d,o){super(d),this.name="AuthUnknownError",this.originalError=o}}class U extends P{constructor(d,o,l){super(d),this.name=o,this.status=l}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ae extends U{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class Ee extends U{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class ke extends U{constructor(d){super(d,"AuthInvalidCredentialsError",400)}}class Xe extends U{constructor(d,o=null){super(d,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Pt extends U{constructor(d,o=null){super(d,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class St extends U{constructor(d,o){super(d,"AuthRetryableFetchError",o)}}function mt(g){return y(g)&&"AuthRetryableFetchError"===g.name}class jt extends U{constructor(d,o,l){super(d,"AuthWeakPasswordError",o),this.reasons=l}}var pt=function(g,d){var o={};for(var l in g)Object.prototype.hasOwnProperty.call(g,l)&&d.indexOf(l)<0&&(o[l]=g[l]);if(null!=g&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(l=Object.getOwnPropertySymbols(g);u<l.length;u++)d.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(g,l[u])&&(o[l[u]]=g[l[u]])}return o};const ci=g=>g.msg||g.message||g.error_description||g.error||JSON.stringify(g),hs=[502,503,504];function di(g){return nt.apply(this,arguments)}function nt(){return(nt=(0,a.Z)(function*(g){if(!Hn(g))throw new St(ci(g),0);if(hs.includes(g.status))throw new St(ci(g),g.status);let d;try{d=yield g.json()}catch(o){throw new N(ci(o),o)}throw"object"==typeof d&&d&&"object"==typeof d.weak_password&&d.weak_password&&Array.isArray(d.weak_password.reasons)&&d.weak_password.reasons.length&&d.weak_password.reasons.reduce((o,l)=>o&&"string"==typeof l,!0)?new jt(ci(d),g.status,d.weak_password.reasons):new v(ci(d),g.status||500)})).apply(this,arguments)}const us=(g,d,o,l)=>{const u={method:g,headers:d?.headers||{}};return"GET"===g?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},d?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),o))};function Ie(g,d,o,l){return Ri.apply(this,arguments)}function Ri(){return Ri=(0,a.Z)(function*(g,d,o,l){var u;const m=Object.assign({},l?.headers);l?.jwt&&(m.Authorization=`Bearer ${l.jwt}`);const p=null!==(u=l?.query)&&void 0!==u?u:{};l?.redirectTo&&(p.redirect_to=l.redirectTo);const x=Object.keys(p).length?"?"+new URLSearchParams(p).toString():"",b=yield function Vs(g,d,o,l,u,m){return Yn.apply(this,arguments)}(g,d,o+x,{headers:m,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(b):{data:Object.assign({},b),error:null}}),Ri.apply(this,arguments)}function Yn(){return(Yn=(0,a.Z)(function*(g,d,o,l,u,m){const p=us(d,l,u,m);let x;try{x=yield g(o,p)}catch(b){throw console.error(b),new St(ci(b),0)}if(x.ok||(yield di(x)),l?.noResolveJson)return x;try{return yield x.json()}catch(b){yield di(b)}})).apply(this,arguments)}function Wt(g){var d;let o=null;return function $s(g){return g.access_token&&g.refresh_token&&g.expires_in}(g)&&(o=Object.assign({},g),g.expires_at||(o.expires_at=function yn(g){return Math.round(Date.now()/1e3)+g}(g.expires_in))),{data:{session:o,user:null!==(d=g.user)&&void 0!==d?d:g},error:null}}function Un(g){const d=Wt(g);return!d.error&&g.weak_password&&"object"==typeof g.weak_password&&Array.isArray(g.weak_password.reasons)&&g.weak_password.reasons.length&&g.weak_password.message&&"string"==typeof g.weak_password.message&&g.weak_password.reasons.reduce((o,l)=>o&&"string"==typeof l,!0)&&(d.data.weak_password=g.weak_password),d}function Bi(g){var d;return{data:{user:null!==(d=g.user)&&void 0!==d?d:g},error:null}}function kn(g){return{data:g,error:null}}function Zi(g){const{action_link:d,email_otp:o,hashed_token:l,redirect_to:u,verification_type:m}=g,p=pt(g,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:d,email_otp:o,hashed_token:l,redirect_to:u,verification_type:m},user:Object.assign({},p)},error:null}}function Xn(g){return g}class jn{constructor({url:d="",headers:o={},fetch:l}){this.url=d,this.headers=o,this.fetch=Tn(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(d,o="global"){var l=this;return(0,a.Z)(function*(){try{return yield Ie(l.fetch,"POST",`${l.url}/logout?scope=${o}`,{headers:l.headers,jwt:d,noResolveJson:!0}),{data:null,error:null}}catch(u){if(y(u))return{data:null,error:u};throw u}})()}inviteUserByEmail(d,o={}){var l=this;return(0,a.Z)(function*(){try{return yield Ie(l.fetch,"POST",`${l.url}/invite`,{body:{email:d,data:o.data},headers:l.headers,redirectTo:o.redirectTo,xform:Bi})}catch(u){if(y(u))return{data:{user:null},error:u};throw u}})()}generateLink(d){var o=this;return(0,a.Z)(function*(){try{const{options:l}=d,u=function(g,d){var o={};for(var l in g)Object.prototype.hasOwnProperty.call(g,l)&&d.indexOf(l)<0&&(o[l]=g[l]);if(null!=g&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(l=Object.getOwnPropertySymbols(g);u<l.length;u++)d.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(g,l[u])&&(o[l[u]]=g[l[u]])}return o}(d,["options"]),m=Object.assign(Object.assign({},u),l);return"newEmail"in u&&(m.new_email=u?.newEmail,delete m.newEmail),yield Ie(o.fetch,"POST",`${o.url}/admin/generate_link`,{body:m,headers:o.headers,xform:Zi,redirectTo:l?.redirectTo})}catch(l){if(y(l))return{data:{properties:null,user:null},error:l};throw l}})()}createUser(d){var o=this;return(0,a.Z)(function*(){try{return yield Ie(o.fetch,"POST",`${o.url}/admin/users`,{body:d,headers:o.headers,xform:Bi})}catch(l){if(y(l))return{data:{user:null},error:l};throw l}})()}listUsers(d){var o=this;return(0,a.Z)(function*(){var l,u,m,p,x,b,S;try{const k={nextPage:null,lastPage:0,total:0},z=yield Ie(o.fetch,"GET",`${o.url}/admin/users`,{headers:o.headers,noResolveJson:!0,query:{page:null!==(u=null===(l=d?.page)||void 0===l?void 0:l.toString())&&void 0!==u?u:"",per_page:null!==(p=null===(m=d?.perPage)||void 0===m?void 0:m.toString())&&void 0!==p?p:""},xform:Xn});if(z.error)throw z.error;const te=yield z.json(),fe=null!==(x=z.headers.get("x-total-count"))&&void 0!==x?x:0,ce=null!==(S=null===(b=z.headers.get("link"))||void 0===b?void 0:b.split(","))&&void 0!==S?S:[];return ce.length>0&&(ce.forEach(Le=>{const Pe=parseInt(Le.split(";")[0].split("=")[1].substring(0,1)),Qe=JSON.parse(Le.split(";")[1].split("=")[1]);k[`${Qe}Page`]=Pe}),k.total=parseInt(fe)),{data:Object.assign(Object.assign({},te),k),error:null}}catch(k){if(y(k))return{data:{users:[]},error:k};throw k}})()}getUserById(d){var o=this;return(0,a.Z)(function*(){try{return yield Ie(o.fetch,"GET",`${o.url}/admin/users/${d}`,{headers:o.headers,xform:Bi})}catch(l){if(y(l))return{data:{user:null},error:l};throw l}})()}updateUserById(d,o){var l=this;return(0,a.Z)(function*(){try{return yield Ie(l.fetch,"PUT",`${l.url}/admin/users/${d}`,{body:o,headers:l.headers,xform:Bi})}catch(u){if(y(u))return{data:{user:null},error:u};throw u}})()}deleteUser(d,o=!1){var l=this;return(0,a.Z)(function*(){try{return yield Ie(l.fetch,"DELETE",`${l.url}/admin/users/${d}`,{headers:l.headers,body:{should_soft_delete:o},xform:Bi})}catch(u){if(y(u))return{data:{user:null},error:u};throw u}})()}_listFactors(d){var o=this;return(0,a.Z)(function*(){try{const{data:l,error:u}=yield Ie(o.fetch,"GET",`${o.url}/admin/users/${d.userId}/factors`,{headers:o.headers,xform:m=>({data:{factors:m},error:null})});return{data:l,error:u}}catch(l){if(y(l))return{data:null,error:l};throw l}})()}_deleteFactor(d){var o=this;return(0,a.Z)(function*(){try{return{data:yield Ie(o.fetch,"DELETE",`${o.url}/admin/users/${d.userId}/factors/${d.id}`,{headers:o.headers}),error:null}}catch(l){if(y(l))return{data:null,error:l};throw l}})()}}const Gs={getItem:g=>bi()?globalThis.localStorage.getItem(g):null,setItem:(g,d)=>{bi()&&globalThis.localStorage.setItem(g,d)},removeItem:g=>{bi()&&globalThis.localStorage.removeItem(g)}};function zs(g={}){return{getItem:d=>g[d]||null,setItem:(d,o)=>{g[d]=o},removeItem:d=>{delete g[d]}}}const Ji={debug:!!(globalThis&&bi()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class Us extends Error{constructor(d){super(d),this.isAcquireTimeout=!0}}class ca extends Us{}function da(g,d,o){return Wn.apply(this,arguments)}function Wn(){return Wn=(0,a.Z)(function*(g,d,o){Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",g,d);const l=new globalThis.AbortController;return d>0&&setTimeout(()=>{l.abort(),Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",g)},d),yield globalThis.navigator.locks.request(g,0===d?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},function(){var u=(0,a.Z)(function*(m){if(!m){if(0===d)throw Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",g),new ca(`Acquiring an exclusive Navigator LockManager lock "${g}" immediately failed`);if(Ji.debug)try{const p=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(p,null,"  "))}catch(p){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",p)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield o()}Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",g,m.name);try{return yield o()}finally{Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",g,m.name)}});return function(m){return u.apply(this,arguments)}}())}),Wn.apply(this,arguments)}!function Ys(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const Xs={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/0.0.0"},flowType:"implicit",debug:!1},En=3e4;function ps(g,d,o){return ui.apply(this,arguments)}function ui(){return(ui=(0,a.Z)(function*(g,d,o){return yield o()})).apply(this,arguments)}let gs=(()=>{class g{constructor(o){var u,m,l=this;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=g.nextInstanceID,g.nextInstanceID+=1,this.instanceID>0&&Lt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const p=Object.assign(Object.assign({},Xs),o);if(this.logDebugMessages=!!p.debug,"function"==typeof p.debug&&(this.logger=p.debug),this.persistSession=p.persistSession,this.storageKey=p.storageKey,this.autoRefreshToken=p.autoRefreshToken,this.admin=new jn({url:p.url,headers:p.headers,fetch:p.fetch}),this.url=p.url,this.headers=p.headers,this.fetch=Tn(p.fetch),this.lock=p.lock||ps,this.detectSessionInUrl=p.detectSessionInUrl,this.flowType=p.flowType,this.lock=p.lock?p.lock:Lt()&&null!==(u=globalThis?.navigator)&&void 0!==u&&u.locks?da:ps,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?p.storage?this.storage=p.storage:bi()?this.storage=Gs:(this.memoryStorage={},this.storage=zs(this.memoryStorage)):(this.memoryStorage={},this.storage=zs(this.memoryStorage)),Lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(x){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",x)}null===(m=this.broadcastChannel)||void 0===m||m.addEventListener("message",function(){var x=(0,a.Z)(function*(b){l._debug("received broadcast notification from other tab or client",b),yield l._notifyAllSubscribers(b.data.event,b.data.session,!1)});return function(b){return x.apply(this,arguments)}}())}this.initialize()}_debug(...o){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (0.0.0) ${(new Date).toISOString()}`,...o),this}initialize(){var o=this;return(0,a.Z)(function*(){return o.initializePromise||(o.initializePromise=(0,a.Z)(function*(){return yield o._acquireLock(-1,(0,a.Z)(function*(){return yield o._initialize()}))})()),yield o.initializePromise})()}_initialize(){var o=this;return(0,a.Z)(function*(){try{const l=!!Lt()&&(yield o._isPKCEFlow());if(o._debug("#_initialize()","begin","is PKCE flow",l),l||o.detectSessionInUrl&&o._isImplicitGrantFlow()){const{data:u,error:m}=yield o._getSessionFromURL(l);if(m)return o._debug("#_initialize()","error detecting session from URL",m),"Identity is already linked"===m?.message||"Identity is already linked to another user"===m?.message||(yield o._removeSession()),{error:m};const{session:p,redirectType:x}=u;return o._debug("#_initialize()","detected session in URL",p,"redirect type",x),yield o._saveSession(p),setTimeout((0,a.Z)(function*(){"recovery"===x?yield o._notifyAllSubscribers("PASSWORD_RECOVERY",p):yield o._notifyAllSubscribers("SIGNED_IN",p)}),0),{error:null}}return yield o._recoverAndRefresh(),{error:null}}catch(l){return y(l)?{error:l}:{error:new N("Unexpected error during initialization",l)}}finally{yield o._handleVisibilityChange(),o._debug("#_initialize()","end")}})()}signUp(o){var l=this;return(0,a.Z)(function*(){var u,m,p;try{let x;if(yield l._removeSession(),"email"in o){const{email:te,password:fe,options:ce}=o;let Le=null,Pe=null;if("pkce"===l.flowType){const Qe=li();yield yt(l.storage,`${l.storageKey}-code-verifier`,Qe),Le=yield Pi(Qe),Pe=Qe===Le?"plain":"s256"}x=yield Ie(l.fetch,"POST",`${l.url}/signup`,{headers:l.headers,redirectTo:ce?.emailRedirectTo,body:{email:te,password:fe,data:null!==(u=ce?.data)&&void 0!==u?u:{},gotrue_meta_security:{captcha_token:ce?.captchaToken},code_challenge:Le,code_challenge_method:Pe},xform:Wt})}else{if(!("phone"in o))throw new ke("You must provide either an email or phone number and a password");{const{phone:te,password:fe,options:ce}=o;x=yield Ie(l.fetch,"POST",`${l.url}/signup`,{headers:l.headers,body:{phone:te,password:fe,data:null!==(m=ce?.data)&&void 0!==m?m:{},channel:null!==(p=ce?.channel)&&void 0!==p?p:"sms",gotrue_meta_security:{captcha_token:ce?.captchaToken}},xform:Wt})}}const{data:b,error:S}=x;if(S||!b)return{data:{user:null,session:null},error:S};const k=b.session,z=b.user;return b.session&&(yield l._saveSession(b.session),yield l._notifyAllSubscribers("SIGNED_IN",k)),{data:{user:z,session:k},error:null}}catch(x){if(y(x))return{data:{user:null,session:null},error:x};throw x}})()}signInWithPassword(o){var l=this;return(0,a.Z)(function*(){try{let u;if(yield l._removeSession(),"email"in o){const{email:x,password:b,options:S}=o;u=yield Ie(l.fetch,"POST",`${l.url}/token?grant_type=password`,{headers:l.headers,body:{email:x,password:b,gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:Un})}else{if(!("phone"in o))throw new ke("You must provide either an email or phone number and a password");{const{phone:x,password:b,options:S}=o;u=yield Ie(l.fetch,"POST",`${l.url}/token?grant_type=password`,{headers:l.headers,body:{phone:x,password:b,gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:Un})}}const{data:m,error:p}=u;return p?{data:{user:null,session:null},error:p}:m&&m.session&&m.user?(m.session&&(yield l._saveSession(m.session),yield l._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({user:m.user,session:m.session},m.weak_password?{weakPassword:m.weak_password}:null),error:p}):{data:{user:null,session:null},error:new Ee}}catch(u){if(y(u))return{data:{user:null,session:null},error:u};throw u}})()}signInWithOAuth(o){var l=this;return(0,a.Z)(function*(){var u,m,p,x;return yield l._removeSession(),yield l._handleProviderSignIn(o.provider,{redirectTo:null===(u=o.options)||void 0===u?void 0:u.redirectTo,scopes:null===(m=o.options)||void 0===m?void 0:m.scopes,queryParams:null===(p=o.options)||void 0===p?void 0:p.queryParams,skipBrowserRedirect:null===(x=o.options)||void 0===x?void 0:x.skipBrowserRedirect})})()}exchangeCodeForSession(o){var l=this;return(0,a.Z)(function*(){return yield l.initializePromise,l._acquireLock(-1,(0,a.Z)(function*(){return l._exchangeCodeForSession(o)}))})()}_exchangeCodeForSession(o){var l=this;return(0,a.Z)(function*(){const u=yield Ti(l.storage,`${l.storageKey}-code-verifier`),[m,p]=(u??"").split("/"),{data:x,error:b}=yield Ie(l.fetch,"POST",`${l.url}/token?grant_type=pkce`,{headers:l.headers,body:{auth_code:o,code_verifier:m},xform:Wt});return yield Cn(l.storage,`${l.storageKey}-code-verifier`),b?{data:{user:null,session:null,redirectType:null},error:b}:x&&x.session&&x.user?(x.session&&(yield l._saveSession(x.session),yield l._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign(Object.assign({},x),{redirectType:p??null}),error:b}):{data:{user:null,session:null,redirectType:null},error:new Ee}})()}signInWithIdToken(o){var l=this;return(0,a.Z)(function*(){yield l._removeSession();try{const{options:u,provider:m,token:p,access_token:x,nonce:b}=o,S=yield Ie(l.fetch,"POST",`${l.url}/token?grant_type=id_token`,{headers:l.headers,body:{provider:m,id_token:p,access_token:x,nonce:b,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Wt}),{data:k,error:z}=S;return z?{data:{user:null,session:null},error:z}:k&&k.session&&k.user?(k.session&&(yield l._saveSession(k.session),yield l._notifyAllSubscribers("SIGNED_IN",k.session)),{data:k,error:z}):{data:{user:null,session:null},error:new Ee}}catch(u){if(y(u))return{data:{user:null,session:null},error:u};throw u}})()}signInWithOtp(o){var l=this;return(0,a.Z)(function*(){var u,m,p,x,b;try{if(yield l._removeSession(),"email"in o){const{email:S,options:k}=o;let z=null,te=null;if("pkce"===l.flowType){const ce=li();yield yt(l.storage,`${l.storageKey}-code-verifier`,ce),z=yield Pi(ce),te=ce===z?"plain":"s256"}const{error:fe}=yield Ie(l.fetch,"POST",`${l.url}/otp`,{headers:l.headers,body:{email:S,data:null!==(u=k?.data)&&void 0!==u?u:{},create_user:null===(m=k?.shouldCreateUser)||void 0===m||m,gotrue_meta_security:{captcha_token:k?.captchaToken},code_challenge:z,code_challenge_method:te},redirectTo:k?.emailRedirectTo});return{data:{user:null,session:null},error:fe}}if("phone"in o){const{phone:S,options:k}=o,{data:z,error:te}=yield Ie(l.fetch,"POST",`${l.url}/otp`,{headers:l.headers,body:{phone:S,data:null!==(p=k?.data)&&void 0!==p?p:{},create_user:null===(x=k?.shouldCreateUser)||void 0===x||x,gotrue_meta_security:{captcha_token:k?.captchaToken},channel:null!==(b=k?.channel)&&void 0!==b?b:"sms"}});return{data:{user:null,session:null,messageId:z?.message_id},error:te}}throw new ke("You must provide either an email or phone number.")}catch(S){if(y(S))return{data:{user:null,session:null},error:S};throw S}})()}verifyOtp(o){var l=this;return(0,a.Z)(function*(){var u,m;try{let p,x;"email_change"!==o.type&&"phone_change"!==o.type&&(yield l._removeSession()),"options"in o&&(p=null===(u=o.options)||void 0===u?void 0:u.redirectTo,x=null===(m=o.options)||void 0===m?void 0:m.captchaToken);const{data:b,error:S}=yield Ie(l.fetch,"POST",`${l.url}/verify`,{headers:l.headers,body:Object.assign(Object.assign({},o),{gotrue_meta_security:{captcha_token:x}}),redirectTo:p,xform:Wt});if(S)throw S;if(!b)throw new Error("An error occurred on token verification.");const k=b.session,z=b.user;return k?.access_token&&(yield l._saveSession(k),yield l._notifyAllSubscribers("recovery"==o.type?"PASSWORD_RECOVERY":"SIGNED_IN",k)),{data:{user:z,session:k},error:null}}catch(p){if(y(p))return{data:{user:null,session:null},error:p};throw p}})()}signInWithSSO(o){var l=this;return(0,a.Z)(function*(){var u,m,p;try{yield l._removeSession();let x=null,b=null;if("pkce"===l.flowType){const S=li();yield yt(l.storage,`${l.storageKey}-code-verifier`,S),x=yield Pi(S),b=S===x?"plain":"s256"}return yield Ie(l.fetch,"POST",`${l.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in o?{provider_id:o.providerId}:null),"domain"in o?{domain:o.domain}:null),{redirect_to:null!==(m=null===(u=o.options)||void 0===u?void 0:u.redirectTo)&&void 0!==m?m:void 0}),null!==(p=o?.options)&&void 0!==p&&p.captchaToken?{gotrue_meta_security:{captcha_token:o.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:x,code_challenge_method:b}),headers:l.headers,xform:kn})}catch(x){if(y(x))return{data:null,error:x};throw x}})()}reauthenticate(){var o=this;return(0,a.Z)(function*(){return yield o.initializePromise,yield o._acquireLock(-1,(0,a.Z)(function*(){return yield o._reauthenticate()}))})()}_reauthenticate(){var o=this;return(0,a.Z)(function*(){try{return yield o._useSession(function(){var l=(0,a.Z)(function*(u){const{data:{session:m},error:p}=u;if(p)throw p;if(!m)throw new ae;const{error:x}=yield Ie(o.fetch,"GET",`${o.url}/reauthenticate`,{headers:o.headers,jwt:m.access_token});return{data:{user:null,session:null},error:x}});return function(u){return l.apply(this,arguments)}}())}catch(l){if(y(l))return{data:{user:null,session:null},error:l};throw l}})()}resend(o){var l=this;return(0,a.Z)(function*(){try{"email_change"!=o.type&&"phone_change"!=o.type&&(yield l._removeSession());const u=`${l.url}/resend`;if("email"in o){const{email:m,type:p,options:x}=o,{error:b}=yield Ie(l.fetch,"POST",u,{headers:l.headers,body:{email:m,type:p,gotrue_meta_security:{captcha_token:x?.captchaToken}},redirectTo:x?.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in o){const{phone:m,type:p,options:x}=o,{data:b,error:S}=yield Ie(l.fetch,"POST",u,{headers:l.headers,body:{phone:m,type:p,gotrue_meta_security:{captcha_token:x?.captchaToken}}});return{data:{user:null,session:null,messageId:b?.message_id},error:S}}throw new ke("You must provide either an email or phone number and a type")}catch(u){if(y(u))return{data:{user:null,session:null},error:u};throw u}})()}getSession(){var o=this;return(0,a.Z)(function*(){return yield o.initializePromise,o._acquireLock(-1,(0,a.Z)(function*(){return o._useSession(function(){var l=(0,a.Z)(function*(u){return u});return function(u){return l.apply(this,arguments)}}())}))})()}_acquireLock(o,l){var u=this;return(0,a.Z)(function*(){u._debug("#_acquireLock","begin",o);try{if(u.lockAcquired){const m=u.pendingInLock.length?u.pendingInLock[u.pendingInLock.length-1]:Promise.resolve(),p=(0,a.Z)(function*(){return yield m,yield l()})();return u.pendingInLock.push((0,a.Z)(function*(){try{yield p}catch{}})()),p}return yield u.lock(`lock:${u.storageKey}`,o,(0,a.Z)(function*(){u._debug("#_acquireLock","lock acquired for storage key",u.storageKey);try{u.lockAcquired=!0;const m=l();for(u.pendingInLock.push((0,a.Z)(function*(){try{yield m}catch{}})()),yield m;u.pendingInLock.length;){const p=[...u.pendingInLock];yield Promise.all(p),u.pendingInLock.splice(0,p.length)}return yield m}finally{u._debug("#_acquireLock","lock released for storage key",u.storageKey),u.lockAcquired=!1}}))}finally{u._debug("#_acquireLock","end")}})()}_useSession(o){var l=this;return(0,a.Z)(function*(){l._debug("#_useSession","begin");try{const u=yield l.__loadSession();return yield o(u)}finally{l._debug("#_useSession","end")}})()}__loadSession(){var o=this;return(0,a.Z)(function*(){o._debug("#__loadSession()","begin"),o.lockAcquired||o._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let l=null;const u=yield Ti(o.storage,o.storageKey);if(o._debug("#getSession()","session from storage",u),null!==u&&(o._isValidSession(u)?l=u:(o._debug("#getSession()","session from storage is not valid"),yield o._removeSession())),!l)return{data:{session:null},error:null};const m=!!l.expires_at&&l.expires_at<=Date.now()/1e3;if(o._debug("#__loadSession()",`session has${m?"":" not"} expired`,"expires_at",l.expires_at),!m)return{data:{session:l},error:null};const{session:p,error:x}=yield o._callRefreshToken(l.refresh_token);return x?{data:{session:null},error:x}:{data:{session:p},error:null}}finally{o._debug("#__loadSession()","end")}})()}getUser(o){var l=this;return(0,a.Z)(function*(){return o?yield l._getUser(o):(yield l.initializePromise,l._acquireLock(-1,(0,a.Z)(function*(){return yield l._getUser()})))})()}_getUser(o){var l=this;return(0,a.Z)(function*(){try{return o?yield Ie(l.fetch,"GET",`${l.url}/user`,{headers:l.headers,jwt:o,xform:Bi}):yield l._useSession(function(){var u=(0,a.Z)(function*(m){var p,x;const{data:b,error:S}=m;if(S)throw S;return yield Ie(l.fetch,"GET",`${l.url}/user`,{headers:l.headers,jwt:null!==(x=null===(p=b.session)||void 0===p?void 0:p.access_token)&&void 0!==x?x:void 0,xform:Bi})});return function(m){return u.apply(this,arguments)}}())}catch(u){if(y(u))return{data:{user:null},error:u};throw u}})()}updateUser(o,l={}){var u=this;return(0,a.Z)(function*(){return yield u.initializePromise,yield u._acquireLock(-1,(0,a.Z)(function*(){return yield u._updateUser(o,l)}))})()}_updateUser(o,l={}){var u=this;return(0,a.Z)(function*(){try{return yield u._useSession(function(){var m=(0,a.Z)(function*(p){const{data:x,error:b}=p;if(b)throw b;if(!x.session)throw new ae;const S=x.session;let k=null,z=null;if("pkce"===u.flowType&&null!=o.email){const ce=li();yield yt(u.storage,`${u.storageKey}-code-verifier`,ce),k=yield Pi(ce),z=ce===k?"plain":"s256"}const{data:te,error:fe}=yield Ie(u.fetch,"PUT",`${u.url}/user`,{headers:u.headers,redirectTo:l?.emailRedirectTo,body:Object.assign(Object.assign({},o),{code_challenge:k,code_challenge_method:z}),jwt:S.access_token,xform:Bi});if(fe)throw fe;return S.user=te.user,yield u._saveSession(S),yield u._notifyAllSubscribers("USER_UPDATED",S),{data:{user:S.user},error:null}});return function(p){return m.apply(this,arguments)}}())}catch(m){if(y(m))return{data:{user:null},error:m};throw m}})()}_decodeJWT(o){return wn(o)}setSession(o){var l=this;return(0,a.Z)(function*(){return yield l.initializePromise,yield l._acquireLock(-1,(0,a.Z)(function*(){return yield l._setSession(o)}))})()}_setSession(o){var l=this;return(0,a.Z)(function*(){try{if(!o.access_token||!o.refresh_token)throw new ae;const u=Date.now()/1e3;let m=u,p=!0,x=null;const b=wn(o.access_token);if(b.exp&&(m=b.exp,p=m<=u),p){const{session:S,error:k}=yield l._callRefreshToken(o.refresh_token);if(k)return{data:{user:null,session:null},error:k};if(!S)return{data:{user:null,session:null},error:null};x=S}else{const{data:S,error:k}=yield l._getUser(o.access_token);if(k)throw k;x={access_token:o.access_token,refresh_token:o.refresh_token,user:S.user,token_type:"bearer",expires_in:m-u,expires_at:m},yield l._saveSession(x),yield l._notifyAllSubscribers("SIGNED_IN",x)}return{data:{user:x.user,session:x},error:null}}catch(u){if(y(u))return{data:{session:null,user:null},error:u};throw u}})()}refreshSession(o){var l=this;return(0,a.Z)(function*(){return yield l.initializePromise,yield l._acquireLock(-1,(0,a.Z)(function*(){return yield l._refreshSession(o)}))})()}_refreshSession(o){var l=this;return(0,a.Z)(function*(){try{return yield l._useSession(function(){var u=(0,a.Z)(function*(m){var p;if(!o){const{data:S,error:k}=m;if(k)throw k;o=null!==(p=S.session)&&void 0!==p?p:void 0}if(!o?.refresh_token)throw new ae;const{session:x,error:b}=yield l._callRefreshToken(o.refresh_token);return b?{data:{user:null,session:null},error:b}:x?{data:{user:x.user,session:x},error:null}:{data:{user:null,session:null},error:null}});return function(m){return u.apply(this,arguments)}}())}catch(u){if(y(u))return{data:{user:null,session:null},error:u};throw u}})()}_getSessionFromURL(o){var l=this;return(0,a.Z)(function*(){try{if(!Lt())throw new Xe("No browser detected.");if("implicit"===l.flowType&&!l._isImplicitGrantFlow())throw new Xe("Not a valid implicit grant flow url.");if("pkce"==l.flowType&&!o)throw new Pt("Not a valid PKCE flow url.");const u=bn(window.location.href);if(o){if(!u.code)throw new Pt("No code detected.");const{data:bt,error:Rt}=yield l._exchangeCodeForSession(u.code);if(Rt)throw Rt;const fs=new URL(window.location.href);return fs.searchParams.delete("code"),window.history.replaceState(window.history.state,"",fs.toString()),{data:{session:bt.session,redirectType:null},error:null}}if(u.error||u.error_description||u.error_code)throw new Xe(u.error_description||"Error in URL with unspecified error_description",{error:u.error||"unspecified_error",code:u.error_code||"unspecified_code"});const{provider_token:m,provider_refresh_token:p,access_token:x,refresh_token:b,expires_in:S,expires_at:k,token_type:z}=u;if(!(x&&S&&b&&z))throw new Xe("No session defined in URL");const te=Math.round(Date.now()/1e3),fe=parseInt(S);let ce=te+fe;k&&(ce=parseInt(k));const Le=ce-te;1e3*Le<=En&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${Le}s, should have been closer to ${fe}s`);const Pe=ce-fe;te-Pe>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",Pe,ce,te):te-Pe<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",Pe,ce,te);const{data:Qe,error:At}=yield l._getUser(x);if(At)throw At;const Dt={provider_token:m,provider_refresh_token:p,access_token:x,expires_in:fe,expires_at:ce,refresh_token:b,token_type:z,user:Qe.user};return window.location.hash="",l._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:Dt,redirectType:u.type},error:null}}catch(u){if(y(u))return{data:{session:null,redirectType:null},error:u};throw u}})()}_isImplicitGrantFlow(){const o=bn(window.location.href);return!(!Lt()||!o.access_token&&!o.error_description)}_isPKCEFlow(){var o=this;return(0,a.Z)(function*(){const l=bn(window.location.href),u=yield Ti(o.storage,`${o.storageKey}-code-verifier`);return!(!l.code||!u)})()}signOut(o={scope:"global"}){var l=this;return(0,a.Z)(function*(){return yield l.initializePromise,yield l._acquireLock(-1,(0,a.Z)(function*(){return yield l._signOut(o)}))})()}_signOut({scope:o}={scope:"global"}){var l=this;return(0,a.Z)(function*(){return yield l._useSession(function(){var u=(0,a.Z)(function*(m){var p;const{data:x,error:b}=m;if(b)return{error:b};const S=null===(p=x.session)||void 0===p?void 0:p.access_token;if(S){const{error:k}=yield l.admin.signOut(S,o);if(k&&(!function F(g){return y(g)&&"AuthApiError"===g.name}(k)||404!==k.status&&401!==k.status))return{error:k}}return"others"!==o&&(yield l._removeSession(),yield Cn(l.storage,`${l.storageKey}-code-verifier`),yield l._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}});return function(m){return u.apply(this,arguments)}}())})()}onAuthStateChange(o){var l=this;const u=function ri(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(g){const d=16*Math.random()|0;return("x"==g?d:3&d|8).toString(16)})}(),m={id:u,callback:o,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",u),this.stateChangeEmitters.delete(u)}};return this._debug("#onAuthStateChange()","registered callback with id",u),this.stateChangeEmitters.set(u,m),(0,a.Z)(function*(){yield l.initializePromise,yield l._acquireLock(-1,(0,a.Z)(function*(){l._emitInitialSession(u)}))})(),{data:{subscription:m}}}_emitInitialSession(o){var l=this;return(0,a.Z)(function*(){return yield l._useSession(function(){var u=(0,a.Z)(function*(m){var p,x;try{const{data:{session:b},error:S}=m;if(S)throw S;yield null===(p=l.stateChangeEmitters.get(o))||void 0===p?void 0:p.callback("INITIAL_SESSION",b),l._debug("INITIAL_SESSION","callback id",o,"session",b)}catch(b){yield null===(x=l.stateChangeEmitters.get(o))||void 0===x?void 0:x.callback("INITIAL_SESSION",null),l._debug("INITIAL_SESSION","callback id",o,"error",b),console.error(b)}});return function(m){return u.apply(this,arguments)}}())})()}resetPasswordForEmail(o,l={}){var u=this;return(0,a.Z)(function*(){let m=null,p=null;if("pkce"===u.flowType){const x=li();yield yt(u.storage,`${u.storageKey}-code-verifier`,`${x}/PASSWORD_RECOVERY`),m=yield Pi(x),p=x===m?"plain":"s256"}try{return yield Ie(u.fetch,"POST",`${u.url}/recover`,{body:{email:o,code_challenge:m,code_challenge_method:p,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:u.headers,redirectTo:l.redirectTo})}catch(x){if(y(x))return{data:null,error:x};throw x}})()}getUserIdentities(){var o=this;return(0,a.Z)(function*(){var l;try{const{data:u,error:m}=yield o.getUser();if(m)throw m;return{data:{identities:null!==(l=u.user.identities)&&void 0!==l?l:[]},error:null}}catch(u){if(y(u))return{data:null,error:u};throw u}})()}linkIdentity(o){var l=this;return(0,a.Z)(function*(){var u;try{const{data:m,error:p}=yield l._useSession(function(){var x=(0,a.Z)(function*(b){var S,k,z,te,fe;const{data:ce,error:Le}=b;if(Le)throw Le;const Pe=yield l._getUrlForProvider(`${l.url}/user/identities/authorize`,o.provider,{redirectTo:null===(S=o.options)||void 0===S?void 0:S.redirectTo,scopes:null===(k=o.options)||void 0===k?void 0:k.scopes,queryParams:null===(z=o.options)||void 0===z?void 0:z.queryParams,skipBrowserRedirect:!0});return yield Ie(l.fetch,"GET",Pe,{headers:l.headers,jwt:null!==(fe=null===(te=ce.session)||void 0===te?void 0:te.access_token)&&void 0!==fe?fe:void 0})});return function(b){return x.apply(this,arguments)}}());if(p)throw p;return Lt()&&!(null!==(u=o.options)&&void 0!==u&&u.skipBrowserRedirect)&&window.location.assign(m?.url),{data:{provider:o.provider,url:m?.url},error:null}}catch(m){if(y(m))return{data:{provider:o.provider,url:null},error:m};throw m}})()}unlinkIdentity(o){var l=this;return(0,a.Z)(function*(){try{return yield l._useSession(function(){var u=(0,a.Z)(function*(m){var p,x;const{data:b,error:S}=m;if(S)throw S;return yield Ie(l.fetch,"DELETE",`${l.url}/user/identities/${o.identity_id}`,{headers:l.headers,jwt:null!==(x=null===(p=b.session)||void 0===p?void 0:p.access_token)&&void 0!==x?x:void 0})});return function(m){return u.apply(this,arguments)}}())}catch(u){if(y(u))return{data:null,error:u};throw u}})()}_refreshAccessToken(o){var l=this;return(0,a.Z)(function*(){const u=`#_refreshAccessToken(${o.substring(0,5)}...)`;l._debug(u,"begin");try{const m=Date.now();return yield function Ps(g,d){return new Promise((l,u)=>{(0,a.Z)(function*(){for(let m=0;m<1/0;m++)try{const p=yield g(m);if(!d(m,null,p))return void l(p)}catch(p){if(!d(m,p))return void u(p)}})()})}(function(){var p=(0,a.Z)(function*(x){return yield function ds(g){return Gn.apply(this,arguments)}(200*x),l._debug(u,"refreshing attempt",x),yield Ie(l.fetch,"POST",`${l.url}/token?grant_type=refresh_token`,{body:{refresh_token:o},headers:l.headers,xform:Wt})});return function(x){return p.apply(this,arguments)}}(),(p,x,b)=>b&&b.error&&mt(b.error)&&Date.now()+200*(p+1)-m<En)}catch(m){if(l._debug(u,"error",m),y(m))return{data:{session:null,user:null},error:m};throw m}finally{l._debug(u,"end")}})()}_isValidSession(o){return"object"==typeof o&&null!==o&&"access_token"in o&&"refresh_token"in o&&"expires_at"in o}_handleProviderSignIn(o,l){var u=this;return(0,a.Z)(function*(){const m=yield u._getUrlForProvider(`${u.url}/authorize`,o,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return u._debug("#_handleProviderSignIn()","provider",o,"options",l,"url",m),Lt()&&!l.skipBrowserRedirect&&window.location.assign(m),{data:{provider:o,url:m},error:null}})()}_recoverAndRefresh(){var o=this;return(0,a.Z)(function*(){var l;const u="#_recoverAndRefresh()";o._debug(u,"begin");try{const m=yield Ti(o.storage,o.storageKey);if(o._debug(u,"session from storage",m),!o._isValidSession(m))return o._debug(u,"session is not valid"),void(null!==m&&(yield o._removeSession()));const p=Math.round(Date.now()/1e3),x=(null!==(l=m.expires_at)&&void 0!==l?l:1/0)<p+10;if(o._debug(u,`session has${x?"":" not"} expired with margin of 10s`),x){if(o.autoRefreshToken&&m.refresh_token){const{error:b}=yield o._callRefreshToken(m.refresh_token);b&&(console.error(b),mt(b)||(o._debug(u,"refresh failed with a non-retryable error, removing the session",b),yield o._removeSession()))}}else yield o._notifyAllSubscribers("SIGNED_IN",m)}catch(m){return o._debug(u,"error",m),void console.error(m)}finally{o._debug(u,"end")}})()}_callRefreshToken(o){var l=this;return(0,a.Z)(function*(){var u,m;if(!o)throw new ae;if(l.refreshingDeferred)return l.refreshingDeferred.promise;const p=`#_callRefreshToken(${o.substring(0,5)}...)`;l._debug(p,"begin");try{l.refreshingDeferred=new oi;const{data:x,error:b}=yield l._refreshAccessToken(o);if(b)throw b;if(!x.session)throw new ae;yield l._saveSession(x.session),yield l._notifyAllSubscribers("TOKEN_REFRESHED",x.session);const S={session:x.session,error:null};return l.refreshingDeferred.resolve(S),S}catch(x){if(l._debug(p,"error",x),y(x)){const b={session:null,error:x};return mt(x)||(yield l._removeSession(),yield l._notifyAllSubscribers("SIGNED_OUT",null)),null===(u=l.refreshingDeferred)||void 0===u||u.resolve(b),b}throw null===(m=l.refreshingDeferred)||void 0===m||m.reject(x),x}finally{l.refreshingDeferred=null,l._debug(p,"end")}})()}_notifyAllSubscribers(o,l,u=!0){var m=this;return(0,a.Z)(function*(){const p=`#_notifyAllSubscribers(${o})`;m._debug(p,"begin",l,`broadcast = ${u}`);try{m.broadcastChannel&&u&&m.broadcastChannel.postMessage({event:o,session:l});const x=[],b=Array.from(m.stateChangeEmitters.values()).map(function(){var S=(0,a.Z)(function*(k){try{yield k.callback(o,l)}catch(z){x.push(z)}});return function(k){return S.apply(this,arguments)}}());if(yield Promise.all(b),x.length>0){for(let S=0;S<x.length;S+=1)console.error(x[S]);throw x[0]}}finally{m._debug(p,"end")}})()}_saveSession(o){var l=this;return(0,a.Z)(function*(){l._debug("#_saveSession()",o),yield yt(l.storage,l.storageKey,o)})()}_removeSession(){var o=this;return(0,a.Z)(function*(){o._debug("#_removeSession()"),yield Cn(o.storage,o.storageKey)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const o=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{o&&Lt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",o)}catch(l){console.error("removing visibilitychange callback failed",l)}}_startAutoRefresh(){var o=this;return(0,a.Z)(function*(){yield o._stopAutoRefresh(),o._debug("#_startAutoRefresh()");const l=setInterval(()=>o._autoRefreshTokenTick(),En);o.autoRefreshTicker=l,l&&"object"==typeof l&&"function"==typeof l.unref?l.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(l),setTimeout((0,a.Z)(function*(){yield o.initializePromise,yield o._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var o=this;return(0,a.Z)(function*(){o._debug("#_stopAutoRefresh()");const l=o.autoRefreshTicker;o.autoRefreshTicker=null,l&&clearInterval(l)})()}startAutoRefresh(){var o=this;return(0,a.Z)(function*(){o._removeVisibilityChangedCallback(),yield o._startAutoRefresh()})()}stopAutoRefresh(){var o=this;return(0,a.Z)(function*(){o._removeVisibilityChangedCallback(),yield o._stopAutoRefresh()})()}_autoRefreshTokenTick(){var o=this;return(0,a.Z)(function*(){o._debug("#_autoRefreshTokenTick()","begin");try{yield o._acquireLock(0,(0,a.Z)(function*(){try{const l=Date.now();try{return yield o._useSession(function(){var u=(0,a.Z)(function*(m){const{data:{session:p}}=m;if(!p||!p.refresh_token||!p.expires_at)return void o._debug("#_autoRefreshTokenTick()","no session");const x=Math.floor((1e3*p.expires_at-l)/En);o._debug("#_autoRefreshTokenTick()",`access token expires in ${x} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),x<=3&&(yield o._callRefreshToken(p.refresh_token))});return function(m){return u.apply(this,arguments)}}())}catch(u){console.error("Auto refresh tick failed with error. This is likely a transient error.",u)}}finally{o._debug("#_autoRefreshTokenTick()","end")}}))}catch(l){if(!(l.isAcquireTimeout||l instanceof Us))throw l;o._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var o=this;return(0,a.Z)(function*(){if(o._debug("#_handleVisibilityChange()"),!Lt()||!window?.addEventListener)return o.autoRefreshToken&&o.startAutoRefresh(),!1;try{o.visibilityChangedCallback=(0,a.Z)(function*(){return yield o._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",o.visibilityChangedCallback),yield o._onVisibilityChanged(!0)}catch(l){console.error("_handleVisibilityChange",l)}})()}_onVisibilityChanged(o){var l=this;return(0,a.Z)(function*(){const u=`#_onVisibilityChanged(${o})`;l._debug(u,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(l.autoRefreshToken&&l._startAutoRefresh(),o||(yield l.initializePromise,yield l._acquireLock(-1,(0,a.Z)(function*(){"visible"===document.visibilityState?yield l._recoverAndRefresh():l._debug(u,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&l.autoRefreshToken&&l._stopAutoRefresh()})()}_getUrlForProvider(o,l,u){var m=this;return(0,a.Z)(function*(){const p=[`provider=${encodeURIComponent(l)}`];if(u?.redirectTo&&p.push(`redirect_to=${encodeURIComponent(u.redirectTo)}`),u?.scopes&&p.push(`scopes=${encodeURIComponent(u.scopes)}`),"pkce"===m.flowType){const x=li();yield yt(m.storage,`${m.storageKey}-code-verifier`,x);const b=yield Pi(x),S=x===b?"plain":"s256";m._debug("PKCE","code verifier",`${x.substring(0,5)}...`,"code challenge",b,"method",S);const k=new URLSearchParams({code_challenge:`${encodeURIComponent(b)}`,code_challenge_method:`${encodeURIComponent(S)}`});p.push(k.toString())}if(u?.queryParams){const x=new URLSearchParams(u.queryParams);p.push(x.toString())}return u?.skipBrowserRedirect&&p.push(`skip_http_redirect=${u.skipBrowserRedirect}`),`${o}?${p.join("&")}`})()}_unenroll(o){var l=this;return(0,a.Z)(function*(){try{return yield l._useSession(function(){var u=(0,a.Z)(function*(m){var p;const{data:x,error:b}=m;return b?{data:null,error:b}:yield Ie(l.fetch,"DELETE",`${l.url}/factors/${o.factorId}`,{headers:l.headers,jwt:null===(p=x?.session)||void 0===p?void 0:p.access_token})});return function(m){return u.apply(this,arguments)}}())}catch(u){if(y(u))return{data:null,error:u};throw u}})()}_enroll(o){var l=this;return(0,a.Z)(function*(){try{return yield l._useSession(function(){var u=(0,a.Z)(function*(m){var p,x;const{data:b,error:S}=m;if(S)return{data:null,error:S};const{data:k,error:z}=yield Ie(l.fetch,"POST",`${l.url}/factors`,{body:{friendly_name:o.friendlyName,factor_type:o.factorType,issuer:o.issuer},headers:l.headers,jwt:null===(p=b?.session)||void 0===p?void 0:p.access_token});return z?{data:null,error:z}:(!(null===(x=k?.totp)||void 0===x)&&x.qr_code&&(k.totp.qr_code=`data:image/svg+xml;utf-8,${k.totp.qr_code}`),{data:k,error:null})});return function(m){return u.apply(this,arguments)}}())}catch(u){if(y(u))return{data:null,error:u};throw u}})()}_verify(o){var l=this;return(0,a.Z)(function*(){return l._acquireLock(-1,(0,a.Z)(function*(){try{return yield l._useSession(function(){var u=(0,a.Z)(function*(m){var p;const{data:x,error:b}=m;if(b)return{data:null,error:b};const{data:S,error:k}=yield Ie(l.fetch,"POST",`${l.url}/factors/${o.factorId}/verify`,{body:{code:o.code,challenge_id:o.challengeId},headers:l.headers,jwt:null===(p=x?.session)||void 0===p?void 0:p.access_token});return k?{data:null,error:k}:(yield l._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+S.expires_in},S)),yield l._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",S),{data:S,error:k})});return function(m){return u.apply(this,arguments)}}())}catch(u){if(y(u))return{data:null,error:u};throw u}}))})()}_challenge(o){var l=this;return(0,a.Z)(function*(){return l._acquireLock(-1,(0,a.Z)(function*(){try{return yield l._useSession(function(){var u=(0,a.Z)(function*(m){var p;const{data:x,error:b}=m;return b?{data:null,error:b}:yield Ie(l.fetch,"POST",`${l.url}/factors/${o.factorId}/challenge`,{headers:l.headers,jwt:null===(p=x?.session)||void 0===p?void 0:p.access_token})});return function(m){return u.apply(this,arguments)}}())}catch(u){if(y(u))return{data:null,error:u};throw u}}))})()}_challengeAndVerify(o){var l=this;return(0,a.Z)(function*(){const{data:u,error:m}=yield l._challenge({factorId:o.factorId});return m?{data:null,error:m}:yield l._verify({factorId:o.factorId,challengeId:u.id,code:o.code})})()}_listFactors(){var o=this;return(0,a.Z)(function*(){const{data:{user:l},error:u}=yield o.getUser();if(u)return{data:null,error:u};const m=l?.factors||[],p=m.filter(x=>"totp"===x.factor_type&&"verified"===x.status);return{data:{all:m,totp:p},error:null}})()}_getAuthenticatorAssuranceLevel(){var o=this;return(0,a.Z)(function*(){return o._acquireLock(-1,(0,a.Z)(function*(){return yield o._useSession(function(){var l=(0,a.Z)(function*(u){var m,p;const{data:{session:x},error:b}=u;if(b)return{data:null,error:b};if(!x)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const S=o._decodeJWT(x.access_token);let k=null;S.aal&&(k=S.aal);let z=k;return(null!==(p=null===(m=x.user.factors)||void 0===m?void 0:m.filter(ce=>"verified"===ce.status))&&void 0!==p?p:[]).length>0&&(z="aal2"),{data:{currentLevel:k,nextLevel:z,currentAuthenticationMethods:S.amr||[]},error:null}});return function(u){return l.apply(this,arguments)}}())}))})()}}return g.nextInstanceID=0,g})();class Jn extends gs{constructor(d){super(d)}}class Ws{constructor(d,o,l){var u,m,p,x,b,S,k,z;if(this.supabaseUrl=d,this.supabaseKey=o,!d)throw new Error("supabaseUrl is required.");if(!o)throw new Error("supabaseKey is required.");const te=function Oi(g){return g.replace(/\/$/,"")}(d);this.realtimeUrl=`${te}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${te}/auth/v1`,this.storageUrl=`${te}/storage/v1`,this.functionsUrl=`${te}/functions/v1`;const fe=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,Le=function yi(g,d){const{db:o,auth:l,realtime:u,global:m}=g,{db:p,auth:x,realtime:b,global:S}=d;return{db:Object.assign(Object.assign({},p),o),auth:Object.assign(Object.assign({},x),l),realtime:Object.assign(Object.assign({},b),u),global:Object.assign(Object.assign({},S),m)}}(l??{},{db:rt,realtime:$n,auth:Object.assign(Object.assign({},ai),{storageKey:fe}),global:Ve});this.storageKey=null!==(m=null===(u=Le.auth)||void 0===u?void 0:u.storageKey)&&void 0!==m?m:"",this.headers=null!==(x=null===(p=Le.global)||void 0===p?void 0:p.headers)&&void 0!==x?x:{},this.auth=this._initSupabaseAuthClient(null!==(b=Le.auth)&&void 0!==b?b:{},this.headers,null===(S=Le.global)||void 0===S?void 0:S.fetch),this.fetch=vn(o,this._getAccessToken.bind(this),null===(k=Le.global)||void 0===k?void 0:k.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},Le.realtime)),this.rest=new st(`${te}/rest/v1`,{headers:this.headers,schema:null===(z=Le.db)||void 0===z?void 0:z.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new X(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new M(this.storageUrl,this.headers,this.fetch)}from(d){return this.rest.from(d)}schema(d){return this.rest.schema(d)}rpc(d,o={},l={}){return this.rest.rpc(d,o,l)}channel(d,o={config:{}}){return this.realtime.channel(d,o)}getChannels(){return this.realtime.getChannels()}removeChannel(d){return this.realtime.removeChannel(d)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var d,o;return function(g,d,o,l){return new(o||(o=Promise))(function(m,p){function x(k){try{S(l.next(k))}catch(z){p(z)}}function b(k){try{S(l.throw(k))}catch(z){p(z)}}function S(k){k.done?m(k.value):function u(m){return m instanceof o?m:new o(function(p){p(m)})}(k.value).then(x,b)}S((l=l.apply(g,d||[])).next())})}(this,void 0,void 0,function*(){const{data:l}=yield this.auth.getSession();return null!==(o=null===(d=l.session)||void 0===d?void 0:d.access_token)&&void 0!==o?o:null})}_initSupabaseAuthClient({autoRefreshToken:d,persistSession:o,detectSessionInUrl:l,storage:u,storageKey:m,flowType:p,debug:x},b,S){return new Jn({url:this.authUrl,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),b),storageKey:m,autoRefreshToken:d,persistSession:o,detectSessionInUrl:l,storage:u,flowType:p,debug:x,fetch:S})}_initRealtimeClient(d){return new Ui(this.realtimeUrl,Object.assign(Object.assign({},d),{params:Object.assign({apikey:this.supabaseKey},d?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((o,l)=>{this._handleTokenChanged(o,"CLIENT",l?.access_token)})}_handleTokenChanged(d,o,l){"TOKEN_REFRESHED"!==d&&"SIGNED_IN"!==d||this.changedAccessToken===l?"SIGNED_OUT"===d&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==o&&this.auth.signOut(),this.changedAccessToken=void 0):(this.realtime.setAuth(l??null),this.changedAccessToken=l)}}var Vi=V(8274);let $i=(()=>{class g{constructor(){this.supabase_client=new Ws("https://zlmaryslxtjmktervpuh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpsbWFyeXNseHRqbWt0ZXJ2cHVoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDcyNDIwODcsImV4cCI6MjAyMjgxODA4N30.F8sA2x4pahe8XJfeMgSnesqMkQ1KhyCQvXlUEJ0Ou-c",void 0)}getData(o){var l=this;return(0,a.Z)(function*(){const{data:u,error:m}=yield l.supabase_client.from(o).select();return u?(console.log(u),u):(console.log(m),m)})()}getTop5GoodNews(o){var l=this;return(0,a.Z)(function*(){const{data:u,error:m}=yield l.supabase_client.from(o).select();return u?u.sort((b,S)=>S.polarity-b.polarity).slice(0,5):(console.log(m),m)})()}getTop5BadNews(o){var l=this;return(0,a.Z)(function*(){const{data:u,error:m}=yield l.supabase_client.from(o).select();return u?u.sort((b,S)=>b.polarity-S.polarity).slice(0,5):(console.log(m),m)})()}static#e=this.\u0275fac=function(l){return new(l||g)};static#t=this.\u0275prov=Vi.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},6397:(vt,Fe,V)=>{V.r(Fe),V.d(Fe,{Headers:()=>le,Request:()=>j,Response:()=>Q,default:()=>xe,fetch:()=>ne});var H=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}();const ne=H.fetch,xe=H.fetch.bind(H),le=H.Headers,j=H.Request,Q=H.Response},5126:vt=>{function Fe(H){return H instanceof Buffer?Buffer.from(H):new H.constructor(H.buffer.slice(),H.byteOffset,H.length)}vt.exports=function V(H){return(H=H||{}).circles?function a(H){var ne=[],xe=[];return H.proto?function Q(X){if("object"!=typeof X||null===X)return X;if(X instanceof Date)return new Date(X);if(Array.isArray(X))return le(X,Q);if(X instanceof Map)return new Map(le(Array.from(X),Q));if(X instanceof Set)return new Set(le(Array.from(X),Q));var B={};for(var ee in ne.push(X),xe.push(B),X){var K=X[ee];if("object"!=typeof K||null===K)B[ee]=K;else if(K instanceof Date)B[ee]=new Date(K);else if(K instanceof Map)B[ee]=new Map(le(Array.from(K),Q));else if(K instanceof Set)B[ee]=new Set(le(Array.from(K),Q));else if(ArrayBuffer.isView(K))B[ee]=Fe(K);else{var se=ne.indexOf(K);B[ee]=-1!==se?xe[se]:Q(K)}}return ne.pop(),xe.pop(),B}:function j(X){if("object"!=typeof X||null===X)return X;if(X instanceof Date)return new Date(X);if(Array.isArray(X))return le(X,j);if(X instanceof Map)return new Map(le(Array.from(X),j));if(X instanceof Set)return new Set(le(Array.from(X),j));var B={};for(var ee in ne.push(X),xe.push(B),X)if(!1!==Object.hasOwnProperty.call(X,ee)){var K=X[ee];if("object"!=typeof K||null===K)B[ee]=K;else if(K instanceof Date)B[ee]=new Date(K);else if(K instanceof Map)B[ee]=new Map(le(Array.from(K),j));else if(K instanceof Set)B[ee]=new Set(le(Array.from(K),j));else if(ArrayBuffer.isView(K))B[ee]=Fe(K);else{var se=ne.indexOf(K);B[ee]=-1!==se?xe[se]:j(K)}}return ne.pop(),xe.pop(),B};function le(X,B){for(var ee=Object.keys(X),K=new Array(ee.length),se=0;se<ee.length;se++){var Ae=ee[se],be=X[Ae];if("object"!=typeof be||null===be)K[Ae]=be;else if(be instanceof Date)K[Ae]=new Date(be);else if(ArrayBuffer.isView(be))K[Ae]=Fe(be);else{var ye=ne.indexOf(be);K[Ae]=-1!==ye?xe[ye]:B(be)}}return K}}(H):H.proto?function le(j){if("object"!=typeof j||null===j)return j;if(j instanceof Date)return new Date(j);if(Array.isArray(j))return ne(j,le);if(j instanceof Map)return new Map(ne(Array.from(j),le));if(j instanceof Set)return new Set(ne(Array.from(j),le));var Q={};for(var X in j){var B=j[X];Q[X]="object"!=typeof B||null===B?B:B instanceof Date?new Date(B):B instanceof Map?new Map(ne(Array.from(B),le)):B instanceof Set?new Set(ne(Array.from(B),le)):ArrayBuffer.isView(B)?Fe(B):le(B)}return Q}:function xe(j){if("object"!=typeof j||null===j)return j;if(j instanceof Date)return new Date(j);if(Array.isArray(j))return ne(j,xe);if(j instanceof Map)return new Map(ne(Array.from(j),xe));if(j instanceof Set)return new Set(ne(Array.from(j),xe));var Q={};for(var X in j)if(!1!==Object.hasOwnProperty.call(j,X)){var B=j[X];Q[X]="object"!=typeof B||null===B?B:B instanceof Date?new Date(B):B instanceof Map?new Map(ne(Array.from(B),xe)):B instanceof Set?new Set(ne(Array.from(B),xe)):ArrayBuffer.isView(B)?Fe(B):xe(B)}return Q};function ne(j,Q){for(var X=Object.keys(j),B=new Array(X.length),ee=0;ee<X.length;ee++){var K=X[ee],se=j[K];B[K]="object"!=typeof se||null===se?se:se instanceof Date?new Date(se):ArrayBuffer.isView(se)?Fe(se):Q(se)}return B}}},4968:(vt,Fe,V)=>{V.d(Fe,{R:()=>ee});var a=V(8421),H=V(9751),ne=V(5577),xe=V(1144),le=V(576),j=V(3268);const Q=["addListener","removeListener"],X=["addEventListener","removeEventListener"],B=["on","off"];function ee(ye,qe,st,Gt){if((0,le.m)(st)&&(Gt=st,st=void 0),Gt)return ee(ye,qe,st).pipe((0,j.Z)(Gt));const[Qt,gi]=function be(ye){return(0,le.m)(ye.addEventListener)&&(0,le.m)(ye.removeEventListener)}(ye)?X.map(ut=>_e=>ye[ut](qe,_e,st)):function se(ye){return(0,le.m)(ye.addListener)&&(0,le.m)(ye.removeListener)}(ye)?Q.map(K(ye,qe)):function Ae(ye){return(0,le.m)(ye.on)&&(0,le.m)(ye.off)}(ye)?B.map(K(ye,qe)):[];if(!Qt&&(0,xe.z)(ye))return(0,ne.z)(ut=>ee(ut,qe,st))((0,a.Xf)(ye));if(!Qt)throw new TypeError("Invalid event target");return new H.y(ut=>{const _e=(...De)=>ut.next(1<De.length?De:De[0]);return Qt(_e),()=>gi(_e)})}function K(ye,qe){return st=>Gt=>ye[st](qe,Gt)}},8372:(vt,Fe,V)=>{V.d(Fe,{b:()=>xe});var a=V(4986),H=V(4482),ne=V(5403);function xe(le,j=a.z){return(0,H.e)((Q,X)=>{let B=null,ee=null,K=null;const se=()=>{if(B){B.unsubscribe(),B=null;const be=ee;ee=null,X.next(be)}};function Ae(){const be=K+le,ye=j.now();if(ye<be)return B=this.schedule(void 0,be-ye),void X.add(B);se()}Q.subscribe((0,ne.x)(X,be=>{ee=be,K=j.now(),B||(B=j.schedule(Ae,le),X.add(B))},()=>{se(),X.complete()},void 0,()=>{ee=B=null}))})}},2722:(vt,Fe,V)=>{V.d(Fe,{R:()=>le});var a=V(4482),H=V(5403),ne=V(8421),xe=V(5032);function le(j){return(0,a.e)((Q,X)=>{(0,ne.Xf)(j).subscribe((0,H.x)(X,()=>X.complete(),xe.Z)),!X.closed&&Q.subscribe(X)})}},4408:(vt,Fe,V)=>{V.d(Fe,{o:()=>le});var a=V(727);class H extends a.w0{constructor(Q,X){super()}schedule(Q,X=0){return this}}const ne={setInterval(j,Q,...X){const{delegate:B}=ne;return B?.setInterval?B.setInterval(j,Q,...X):setInterval(j,Q,...X)},clearInterval(j){const{delegate:Q}=ne;return(Q?.clearInterval||clearInterval)(j)},delegate:void 0};var xe=V(8737);class le extends H{constructor(Q,X){super(Q,X),this.scheduler=Q,this.work=X,this.pending=!1}schedule(Q,X=0){var B;if(this.closed)return this;this.state=Q;const ee=this.id,K=this.scheduler;return null!=ee&&(this.id=this.recycleAsyncId(K,ee,X)),this.pending=!0,this.delay=X,this.id=null!==(B=this.id)&&void 0!==B?B:this.requestAsyncId(K,this.id,X),this}requestAsyncId(Q,X,B=0){return ne.setInterval(Q.flush.bind(Q,this),B)}recycleAsyncId(Q,X,B=0){if(null!=B&&this.delay===B&&!1===this.pending)return X;null!=X&&ne.clearInterval(X)}execute(Q,X){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const B=this._execute(Q,X);if(B)return B;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Q,X){let ee,B=!1;try{this.work(Q)}catch(K){B=!0,ee=K||new Error("Scheduled action threw falsy error")}if(B)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:Q,scheduler:X}=this,{actions:B}=X;this.work=this.state=this.scheduler=null,this.pending=!1,(0,xe.P)(B,this),null!=Q&&(this.id=this.recycleAsyncId(X,Q,null)),this.delay=null,super.unsubscribe()}}}},640:(vt,Fe,V)=>{V.d(Fe,{v:()=>ne});const a={now:()=>(a.delegate||Date).now(),delegate:void 0};class H{constructor(le,j=H.now){this.schedulerActionCtor=le,this.now=j}schedule(le,j=0,Q){return new this.schedulerActionCtor(this,le).schedule(Q,j)}}H.now=a.now;class ne extends H{constructor(le,j=H.now){super(le,j),this.actions=[],this._active=!1}flush(le){const{actions:j}=this;if(this._active)return void j.push(le);let Q;this._active=!0;do{if(Q=le.execute(le.state,le.delay))break}while(le=j.shift());if(this._active=!1,Q){for(;le=j.shift();)le.unsubscribe();throw Q}}}},4986:(vt,Fe,V)=>{V.d(Fe,{P:()=>xe,z:()=>ne});var a=V(4408);const ne=new(V(640).v)(a.o),xe=ne},6547:(vt,Fe,V)=>{V.d(Fe,{tE:()=>fs,qm:()=>Oa,X6:()=>x,yG:()=>b});var a=V(6895),H=V(8274),ne=V(3353),xe=V(1135),le=V(7579),j=V(9646),St=V(9300);function mt(O){return(0,St.h)((L,C)=>O<=C)}var jt=V(4671),Ci=V(4482),pt=V(5403);function hs(O,L){return O===L}var di=V(2722),nt=V(1281),us=V(9841),Ie=V(7272),Ri=V(9751),Vs=V(5698),Yn=V(8372),Wt=V(4004),Un=V(8675);const kn=new Set;let Zi,Xn=(()=>{class O{constructor(C){this._platform=C,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Hs}matchMedia(C){return(this._platform.WEBKIT||this._platform.BLINK)&&function $s(O){if(!kn.has(O))try{Zi||(Zi=document.createElement("style"),Zi.setAttribute("type","text/css"),document.head.appendChild(Zi)),Zi.sheet&&(Zi.sheet.insertRule(`@media ${O} {body{ }}`,0),kn.add(O))}catch(L){console.error(L)}}(C),this._matchMedia(C)}}return O.\u0275fac=function(C){return new(C||O)(H.LFG(ne.t4))},O.\u0275prov=H.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function Hs(O){return{matches:"all"===O||""===O,media:O,addListener:()=>{},removeListener:()=>{}}}let jn=(()=>{class O{constructor(C,I){this._mediaMatcher=C,this._zone=I,this._queries=new Map,this._destroySubject=new le.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(C){return An((0,nt.Eq)(C)).some(Y=>this._registerQuery(Y).mql.matches)}observe(C){const Y=An((0,nt.Eq)(C)).map(Ce=>this._registerQuery(Ce).observable);let oe=(0,us.a)(Y);return oe=(0,Ie.z)(oe.pipe((0,Vs.q)(1)),oe.pipe(mt(1),(0,Yn.b)(0))),oe.pipe((0,Wt.U)(Ce=>{const $e={matches:!1,breakpoints:{}};return Ce.forEach(({matches:Ht,query:Hi})=>{$e.matches=$e.matches||Ht,$e.breakpoints[Hi]=Ht}),$e}))}_registerQuery(C){if(this._queries.has(C))return this._queries.get(C);const I=this._mediaMatcher.matchMedia(C),oe={observable:new Ri.y(Ce=>{const $e=Ht=>this._zone.run(()=>Ce.next(Ht));return I.addListener($e),()=>{I.removeListener($e)}}).pipe((0,Un.O)(I),(0,Wt.U)(({matches:Ce})=>({query:C,matches:Ce})),(0,di.R)(this._destroySubject)),mql:I};return this._queries.set(C,oe),oe}}return O.\u0275fac=function(C){return new(C||O)(H.LFG(Xn),H.LFG(H.R0b))},O.\u0275prov=H.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function An(O){return O.map(L=>L.split(",")).reduce((L,C)=>L.concat(C)).map(L=>L.trim())}function x(O){return 0===O.buttons||0===O.offsetX&&0===O.offsetY}function b(O){const L=O.touches&&O.touches[0]||O.changedTouches&&O.changedTouches[0];return!(!L||-1!==L.identifier||null!=L.radiusX&&1!==L.radiusX||null!=L.radiusY&&1!==L.radiusY)}const S=new H.OlP("cdk-input-modality-detector-options"),k={ignoreKeys:[18,17,224,91,16]},te=(0,ne.i$)({passive:!0,capture:!0});let fe=(()=>{class O{get mostRecentModality(){return this._modality.value}constructor(C,I,Y,oe){this._platform=C,this._mostRecentTarget=null,this._modality=new xe.X(null),this._lastTouchMs=0,this._onKeydown=Ce=>{this._options?.ignoreKeys?.some($e=>$e===Ce.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,ne.sA)(Ce))},this._onMousedown=Ce=>{Date.now()-this._lastTouchMs<650||(this._modality.next(x(Ce)?"keyboard":"mouse"),this._mostRecentTarget=(0,ne.sA)(Ce))},this._onTouchstart=Ce=>{b(Ce)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,ne.sA)(Ce))},this._options={...k,...oe},this.modalityDetected=this._modality.pipe(mt(1)),this.modalityChanged=this.modalityDetected.pipe(function ci(O,L=jt.y){return O=O??hs,(0,Ci.e)((C,I)=>{let Y,oe=!0;C.subscribe((0,pt.x)(I,Ce=>{const $e=L(Ce);(oe||!O(Y,$e))&&(oe=!1,Y=$e,I.next(Ce))}))})}()),C.isBrowser&&I.runOutsideAngular(()=>{Y.addEventListener("keydown",this._onKeydown,te),Y.addEventListener("mousedown",this._onMousedown,te),Y.addEventListener("touchstart",this._onTouchstart,te)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,te),document.removeEventListener("mousedown",this._onMousedown,te),document.removeEventListener("touchstart",this._onTouchstart,te))}}return O.\u0275fac=function(C){return new(C||O)(H.LFG(ne.t4),H.LFG(H.R0b),H.LFG(a.K0),H.LFG(S,8))},O.\u0275prov=H.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();const bt=new H.OlP("cdk-focus-monitor-default-options"),Rt=(0,ne.i$)({passive:!0,capture:!0});let fs=(()=>{class O{constructor(C,I,Y,oe,Ce){this._ngZone=C,this._platform=I,this._inputModalityDetector=Y,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new le.x,this._rootNodeFocusAndBlurListener=$e=>{for(let Hi=(0,ne.sA)($e);Hi;Hi=Hi.parentElement)"focus"===$e.type?this._onFocus($e,Hi):this._onBlur($e,Hi)},this._document=oe,this._detectionMode=Ce?.detectionMode||0}monitor(C,I=!1){const Y=(0,nt.fI)(C);if(!this._platform.isBrowser||1!==Y.nodeType)return(0,j.of)(null);const oe=(0,ne.kV)(Y)||this._getDocument(),Ce=this._elementInfo.get(Y);if(Ce)return I&&(Ce.checkChildren=!0),Ce.subject;const $e={checkChildren:I,subject:new le.x,rootNode:oe};return this._elementInfo.set(Y,$e),this._registerGlobalListeners($e),$e.subject}stopMonitoring(C){const I=(0,nt.fI)(C),Y=this._elementInfo.get(I);Y&&(Y.subject.complete(),this._setClasses(I),this._elementInfo.delete(I),this._removeGlobalListeners(Y))}focusVia(C,I,Y){const oe=(0,nt.fI)(C);oe===this._getDocument().activeElement?this._getClosestElementsInfo(oe).forEach(([$e,Ht])=>this._originChanged($e,I,Ht)):(this._setOrigin(I),"function"==typeof oe.focus&&oe.focus(Y))}ngOnDestroy(){this._elementInfo.forEach((C,I)=>this.stopMonitoring(I))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(C){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(C)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:C&&this._isLastInteractionFromInputLabel(C)?"mouse":"program"}_shouldBeAttributedToTouch(C){return 1===this._detectionMode||!!C?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(C,I){C.classList.toggle("cdk-focused",!!I),C.classList.toggle("cdk-touch-focused","touch"===I),C.classList.toggle("cdk-keyboard-focused","keyboard"===I),C.classList.toggle("cdk-mouse-focused","mouse"===I),C.classList.toggle("cdk-program-focused","program"===I)}_setOrigin(C,I=!1){this._ngZone.runOutsideAngular(()=>{this._origin=C,this._originFromTouchInteraction="touch"===C&&I,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(C,I){const Y=this._elementInfo.get(I),oe=(0,ne.sA)(C);!Y||!Y.checkChildren&&I!==oe||this._originChanged(I,this._getFocusOrigin(oe),Y)}_onBlur(C,I){const Y=this._elementInfo.get(I);!Y||Y.checkChildren&&C.relatedTarget instanceof Node&&I.contains(C.relatedTarget)||(this._setClasses(I),this._emitOrigin(Y,null))}_emitOrigin(C,I){C.subject.observers.length&&this._ngZone.run(()=>C.subject.next(I))}_registerGlobalListeners(C){if(!this._platform.isBrowser)return;const I=C.rootNode,Y=this._rootNodeFocusListenerCount.get(I)||0;Y||this._ngZone.runOutsideAngular(()=>{I.addEventListener("focus",this._rootNodeFocusAndBlurListener,Rt),I.addEventListener("blur",this._rootNodeFocusAndBlurListener,Rt)}),this._rootNodeFocusListenerCount.set(I,Y+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,di.R)(this._stopInputModalityDetector)).subscribe(oe=>{this._setOrigin(oe,!0)}))}_removeGlobalListeners(C){const I=C.rootNode;if(this._rootNodeFocusListenerCount.has(I)){const Y=this._rootNodeFocusListenerCount.get(I);Y>1?this._rootNodeFocusListenerCount.set(I,Y-1):(I.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Rt),I.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Rt),this._rootNodeFocusListenerCount.delete(I))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(C,I,Y){this._setClasses(C,I),this._emitOrigin(Y,I),this._lastFocusOrigin=I}_getClosestElementsInfo(C){const I=[];return this._elementInfo.forEach((Y,oe)=>{(oe===C||Y.checkChildren&&oe.contains(C))&&I.push([oe,Y])}),I}_isLastInteractionFromInputLabel(C){const{_mostRecentTarget:I,mostRecentModality:Y}=this._inputModalityDetector;if("mouse"!==Y||!I||I===C||"INPUT"!==C.nodeName&&"TEXTAREA"!==C.nodeName||C.disabled)return!1;const oe=C.labels;if(oe)for(let Ce=0;Ce<oe.length;Ce++)if(oe[Ce].contains(I))return!0;return!1}}return O.\u0275fac=function(C){return new(C||O)(H.LFG(H.R0b),H.LFG(ne.t4),H.LFG(fe),H.LFG(a.K0,8),H.LFG(bt,8))},O.\u0275prov=H.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();const ma="cdk-high-contrast-black-on-white",_s="cdk-high-contrast-white-on-black",Kn="cdk-high-contrast-active";let Oa=(()=>{class O{constructor(C,I){this._platform=C,this._document=I,this._breakpointSubscription=(0,H.f3M)(jn).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const C=this._document.createElement("div");C.style.backgroundColor="rgb(1,2,3)",C.style.position="absolute",this._document.body.appendChild(C);const I=this._document.defaultView||window,Y=I&&I.getComputedStyle?I.getComputedStyle(C):null,oe=(Y&&Y.backgroundColor||"").replace(/ /g,"");switch(C.remove(),oe){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const C=this._document.body.classList;C.remove(Kn,ma,_s),this._hasCheckedHighContrastMode=!0;const I=this.getHighContrastMode();1===I?C.add(Kn,ma):2===I&&C.add(Kn,_s)}}}return O.\u0275fac=function(C){return new(C||O)(H.LFG(ne.t4),H.LFG(a.K0))},O.\u0275prov=H.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})()},445:(vt,Fe,V)=>{V.d(Fe,{Is:()=>Q,vT:()=>B});var a=V(8274),H=V(6895);const ne=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function xe(){return(0,a.f3M)(H.K0)}}),le=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Q=(()=>{class ee{constructor(se){this.value="ltr",this.change=new a.vpe,se&&(this.value=function j(ee){const K=ee?.toLowerCase()||"";return"auto"===K&&typeof navigator<"u"&&navigator?.language?le.test(navigator.language)?"rtl":"ltr":"rtl"===K?"rtl":"ltr"}((se.body?se.body.dir:null)||(se.documentElement?se.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return ee.\u0275fac=function(se){return new(se||ee)(a.LFG(ne,8))},ee.\u0275prov=a.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"}),ee})(),B=(()=>{class ee{}return ee.\u0275fac=function(se){return new(se||ee)},ee.\u0275mod=a.oAB({type:ee}),ee.\u0275inj=a.cJS({}),ee})()},1281:(vt,Fe,V)=>{V.d(Fe,{Eq:()=>le,Ig:()=>H,fI:()=>Q});var a=V(8274);function H(B){return null!=B&&"false"!=`${B}`}function le(B){return Array.isArray(B)?B:[B]}function Q(B){return B instanceof a.SBq?B.nativeElement:B}},3353:(vt,Fe,V)=>{V.d(Fe,{Mq:()=>be,Oy:()=>ut,_i:()=>ye,i$:()=>K,kV:()=>Gt,sA:()=>gi,t4:()=>xe});var a=V(8274),H=V(6895);let ne;try{ne=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ne=!1}let B,se,Ae,qe,xe=(()=>{class _e{constructor(Ue){this._platformId=Ue,this.isBrowser=this._platformId?(0,H.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ne)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return _e.\u0275fac=function(Ue){return new(Ue||_e)(a.LFG(a.Lbi))},_e.\u0275prov=a.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();function K(_e){return function ee(){if(null==B&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>B=!0}))}finally{B=B||!1}return B}()?_e:!!_e.capture}function be(){if(null==Ae){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ae=!1,Ae;if("scrollBehavior"in document.documentElement.style)Ae=!0;else{const _e=Element.prototype.scrollTo;Ae=!!_e&&!/\{\s*\[native code\]\s*\}/.test(_e.toString())}}return Ae}function ye(){if("object"!=typeof document||!document)return 0;if(null==se){const _e=document.createElement("div"),De=_e.style;_e.dir="rtl",De.width="1px",De.overflow="auto",De.visibility="hidden",De.pointerEvents="none",De.position="absolute";const Ue=document.createElement("div"),at=Ue.style;at.width="2px",at.height="1px",_e.appendChild(Ue),document.body.appendChild(_e),se=0,0===_e.scrollLeft&&(_e.scrollLeft=1,se=0===_e.scrollLeft?1:2),_e.remove()}return se}function Gt(_e){if(function st(){if(null==qe){const _e=typeof document<"u"?document.head:null;qe=!(!_e||!_e.createShadowRoot&&!_e.attachShadow)}return qe}()){const De=_e.getRootNode?_e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&De instanceof ShadowRoot)return De}return null}function gi(_e){return _e.composedPath?_e.composedPath()[0]:_e.target}function ut(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},3238:(vt,Fe,V)=>{V.d(Fe,{BQ:()=>ut,wG:()=>Bn,si:()=>ni,pj:()=>Be,Kr:()=>Ot,Id:()=>at});var a=V(8274),H=V(6547),ne=V(445),le=V(6895),j=V(3353),Q=V(1281);const gi=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function Qt(){return!0}});let ut=(()=>{class J{constructor(E,G,ue){this._sanityChecks=G,this._document=ue,this._hasDoneGlobalChecks=!1,E._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(E){return!(0,j.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[E])}}return J.\u0275fac=function(E){return new(E||J)(a.LFG(H.qm),a.LFG(gi,8),a.LFG(le.K0))},J.\u0275mod=a.oAB({type:J}),J.\u0275inj=a.cJS({imports:[ne.vT,ne.vT]}),J})();function at(J){return class extends J{get disabled(){return this._disabled}set disabled(M){this._disabled=(0,Q.Ig)(M)}constructor(...M){super(...M),this._disabled=!1}}}function Be(J,M){return class extends J{get color(){return this._color}set color(E){const G=E||this.defaultColor;G!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),G&&this._elementRef.nativeElement.classList.add(`mat-${G}`),this._color=G)}constructor(...E){super(...E),this.defaultColor=M,this.color=M}}}function Ot(J){return class extends J{get disableRipple(){return this._disableRipple}set disableRipple(M){this._disableRipple=(0,Q.Ig)(M)}constructor(...M){super(...M),this._disableRipple=!1}}}class Mi{constructor(M,E,G,ue=!1){this._renderer=M,this.element=E,this.config=G,this._animationForciblyDisabledThroughCss=ue,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ti=(0,j.i$)({passive:!0,capture:!0});class Pn{constructor(){this._events=new Map,this._delegateEventHandler=M=>{const E=(0,j.sA)(M);E&&this._events.get(M.type)?.forEach((G,ue)=>{(ue===E||ue.contains(E))&&G.forEach(Ve=>Ve.handleEvent(M))})}}addHandler(M,E,G,ue){const Ve=this._events.get(E);if(Ve){const rt=Ve.get(G);rt?rt.add(ue):Ve.set(G,new Set([ue]))}else this._events.set(E,new Map([[G,new Set([ue])]])),M.runOutsideAngular(()=>{document.addEventListener(E,this._delegateEventHandler,ti)})}removeHandler(M,E,G){const ue=this._events.get(M);if(!ue)return;const Ve=ue.get(E);Ve&&(Ve.delete(G),0===Ve.size&&ue.delete(E),0===ue.size&&(this._events.delete(M),document.removeEventListener(M,this._delegateEventHandler,ti)))}}const Ui={enterDuration:225,exitDuration:150},xi=(0,j.i$)({passive:!0,capture:!0}),Je=["mousedown","touchstart"],hn=["mouseup","mouseleave","touchend","touchcancel"];class ii{constructor(M,E,G,ue){this._target=M,this._ngZone=E,this._platform=ue,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,ue.isBrowser&&(this._containerElement=(0,Q.fI)(G))}fadeInRipple(M,E,G={}){const ue=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Ve={...Ui,...G.animation};G.centered&&(M=ue.left+ue.width/2,E=ue.top+ue.height/2);const rt=G.radius||function Rn(J,M,E){const G=Math.max(Math.abs(J-E.left),Math.abs(J-E.right)),ue=Math.max(Math.abs(M-E.top),Math.abs(M-E.bottom));return Math.sqrt(G*G+ue*ue)}(M,E,ue),ai=M-ue.left,$n=E-ue.top,ji=Ve.enterDuration,gt=document.createElement("div");gt.classList.add("mat-ripple-element"),gt.style.left=ai-rt+"px",gt.style.top=$n-rt+"px",gt.style.height=2*rt+"px",gt.style.width=2*rt+"px",null!=G.color&&(gt.style.backgroundColor=G.color),gt.style.transitionDuration=`${ji}ms`,this._containerElement.appendChild(gt);const xn=window.getComputedStyle(gt),Wi=xn.transitionDuration,Oi="none"===xn.transitionProperty||"0s"===Wi||"0s, 0s"===Wi||0===ue.width&&0===ue.height,Xt=new Mi(this,gt,G,Oi);gt.style.transform="scale3d(1, 1, 1)",Xt.state=0,G.persistent||(this._mostRecentTransientRipple=Xt);let yi=null;return!Oi&&(ji||Ve.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const yn=()=>this._finishRippleTransition(Xt),ri=()=>this._destroyRipple(Xt);gt.addEventListener("transitionend",yn),gt.addEventListener("transitioncancel",ri),yi={onTransitionEnd:yn,onTransitionCancel:ri}}),this._activeRipples.set(Xt,yi),(Oi||!ji)&&this._finishRippleTransition(Xt),Xt}fadeOutRipple(M){if(2===M.state||3===M.state)return;const E=M.element,G={...Ui,...M.config.animation};E.style.transitionDuration=`${G.exitDuration}ms`,E.style.opacity="0",M.state=2,(M._animationForciblyDisabledThroughCss||!G.exitDuration)&&this._finishRippleTransition(M)}fadeOutAll(){this._getActiveRipples().forEach(M=>M.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(M=>{M.config.persistent||M.fadeOut()})}setupTriggerEvents(M){const E=(0,Q.fI)(M);!this._platform.isBrowser||!E||E===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=E,Je.forEach(G=>{ii._eventManager.addHandler(this._ngZone,G,E,this)}))}handleEvent(M){"mousedown"===M.type?this._onMousedown(M):"touchstart"===M.type?this._onTouchStart(M):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{hn.forEach(E=>{this._triggerElement.addEventListener(E,this,xi)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(M){0===M.state?this._startFadeOutTransition(M):2===M.state&&this._destroyRipple(M)}_startFadeOutTransition(M){const E=M===this._mostRecentTransientRipple,{persistent:G}=M.config;M.state=1,!G&&(!E||!this._isPointerDown)&&M.fadeOut()}_destroyRipple(M){const E=this._activeRipples.get(M)??null;this._activeRipples.delete(M),this._activeRipples.size||(this._containerRect=null),M===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),M.state=3,null!==E&&(M.element.removeEventListener("transitionend",E.onTransitionEnd),M.element.removeEventListener("transitioncancel",E.onTransitionCancel)),M.element.remove()}_onMousedown(M){const E=(0,H.X6)(M),G=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!E&&!G&&(this._isPointerDown=!0,this.fadeInRipple(M.clientX,M.clientY,this._target.rippleConfig))}_onTouchStart(M){if(!this._target.rippleDisabled&&!(0,H.yG)(M)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const E=M.changedTouches;for(let G=0;G<E.length;G++)this.fadeInRipple(E[G].clientX,E[G].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(M=>{!M.config.persistent&&(1===M.state||M.config.terminateOnPointerUp&&0===M.state)&&M.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const M=this._triggerElement;M&&(Je.forEach(E=>ii._eventManager.removeHandler(E,M,this)),this._pointerUpEventsRegistered&&hn.forEach(E=>M.removeEventListener(E,this,xi)))}}ii._eventManager=new Pn;const un=new a.OlP("mat-ripple-global-options");let Bn=(()=>{class J{get disabled(){return this._disabled}set disabled(E){E&&this.fadeOutAllNonPersistent(),this._disabled=E,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(E){this._trigger=E,this._setupTriggerEventsIfEnabled()}constructor(E,G,ue,Ve,rt){this._elementRef=E,this._animationMode=rt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Ve||{},this._rippleRenderer=new ii(this,G,E,ue)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(E,G=0,ue){return"number"==typeof E?this._rippleRenderer.fadeInRipple(E,G,{...this.rippleConfig,...ue}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...E})}}return J.\u0275fac=function(E){return new(E||J)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(j.t4),a.Y36(un,8),a.Y36(a.QbO,8))},J.\u0275dir=a.lG2({type:J,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(E,G){2&E&&a.ekj("mat-ripple-unbounded",G.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),J})(),ni=(()=>{class J{}return J.\u0275fac=function(E){return new(E||J)},J.\u0275mod=a.oAB({type:J}),J.\u0275inj=a.cJS({imports:[ut,ut]}),J})()},4218:(vt,Fe,V)=>{V.d(Fe,{Ps:()=>Sn});var a=V(8274),H=V(3238);V(6895),V(9646),V(2843),V(9751),V(4742),V(8421),V(3269),V(5403),V(3268),V(1810),V(8505),V(4004),V(262),V(8746),V(3099),V(4351),V(9300),V(1481);let Sn=(()=>{class P{}return P.\u0275fac=function(v){return new(v||P)},P.\u0275mod=a.oAB({type:P}),P.\u0275inj=a.cJS({imports:[H.BQ,H.BQ]}),P})()},3683:(vt,Fe,V)=>{V.d(Fe,{Ye:()=>B,g0:()=>K});var a=V(8274),H=V(3238),ne=V(3353),xe=V(6895);const le=["*",[["mat-toolbar-row"]]],j=["*","mat-toolbar-row"],Q=(0,H.pj)(class{constructor(se){this._elementRef=se}});let X=(()=>{class se{}return se.\u0275fac=function(be){return new(be||se)},se.\u0275dir=a.lG2({type:se,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),se})(),B=(()=>{class se extends Q{constructor(be,ye,qe){super(be),this._platform=ye,this._document=qe}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return se.\u0275fac=function(be){return new(be||se)(a.Y36(a.SBq),a.Y36(ne.t4),a.Y36(xe.K0))},se.\u0275cmp=a.Xpm({type:se,selectors:[["mat-toolbar"]],contentQueries:function(be,ye,qe){if(1&be&&a.Suo(qe,X,5),2&be){let st;a.iGM(st=a.CRH())&&(ye._toolbarRows=st)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(be,ye){2&be&&a.ekj("mat-toolbar-multiple-rows",ye._toolbarRows.length>0)("mat-toolbar-single-row",0===ye._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[a.qOj],ngContentSelectors:j,decls:2,vars:0,template:function(be,ye){1&be&&(a.F$t(le),a.Hsn(0),a.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),se})(),K=(()=>{class se{}return se.\u0275fac=function(be){return new(be||se)},se.\u0275mod=a.oAB({type:se}),se.\u0275inj=a.cJS({imports:[H.BQ,H.BQ]}),se})()},9687:(vt,Fe,V)=>{V.d(Fe,{Dw:()=>cg,a4:()=>vg});var a=V(8274),H=V(6895),ne=V(7582);class ee{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class K extends ee{constructor(n,e,i,s,r){super(),this.component=n,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=s,this.projectableNodes=r}}class se extends ee{constructor(n,e,i,s){super(),this.templateRef=n,this.viewContainerRef=e,this.context=i,this.injector=s}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class Ae extends ee{constructor(n){super(),this.element=n instanceof a.SBq?n.nativeElement:n}}class be{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof K?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof se?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof Ae?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class qe extends be{constructor(n,e,i,s,r){super(),this.outletElement=n,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=s,this.attachDomPortal=c=>{const h=c.element,_=this._document.createComment("dom-portal");h.parentNode.insertBefore(_,h),this.outletElement.appendChild(h),this._attachedPortal=c,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(h,_)})},this._document=r}attachComponentPortal(n){const i=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let s;return n.viewContainerRef?(s=n.viewContainerRef.createComponent(i,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector,n.projectableNodes||void 0),this.setDisposeFn(()=>s.destroy())):(s=i.create(n.injector||this._defaultInjector||a.zs3.NULL),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=n,s}attachTemplatePortal(n){let e=n.viewContainerRef,i=e.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return i.rootNodes.forEach(s=>this.outletElement.appendChild(s)),i.detectChanges(),this.setDisposeFn(()=>{let s=e.indexOf(i);-1!==s&&e.remove(s)}),this._attachedPortal=n,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}var Ue=V(4968),at=V(8372),Be=V(7340);function Ot(){}function Li(t){return null==t?Ot:function(){return this.querySelector(t)}}function zt(){return[]}function ei(t){return null==t?zt:function(){return this.querySelectorAll(t)}}function zi(t){return function(){return this.matches(t)}}function Ei(t){return function(n){return n.matches(t)}}var Di=Array.prototype.find;function fi(){return this.firstElementChild}var On=Array.prototype.filter;function cn(){return Array.from(this.children)}function Yi(t){return new Array(t.length)}function ti(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function Ui(t,n,e,i,s,r){for(var h,c=0,_=n.length,f=r.length;c<f;++c)(h=n[c])?(h.__data__=r[c],i[c]=h):e[c]=new ti(t,r[c]);for(;c<_;++c)(h=n[c])&&(s[c]=h)}function _i(t,n,e,i,s,r,c){var h,_,$,f=new Map,w=n.length,T=r.length,D=new Array(w);for(h=0;h<w;++h)(_=n[h])&&(D[h]=$=c.call(_,_.__data__,h,n)+"",f.has($)?s[h]=_:f.set($,_));for(h=0;h<T;++h)$=c.call(t,r[h],h,r)+"",(_=f.get($))?(i[h]=_,_.__data__=r[h],f.delete($)):e[h]=new ti(t,r[h]);for(h=0;h<w;++h)(_=n[h])&&f.get(D[h])===_&&(s[h]=_)}function xi(t){return t.__data__}function hn(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Xi(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}ti.prototype={constructor:ti,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var vi="http://www.w3.org/1999/xhtml";const ct={svg:"http://www.w3.org/2000/svg",xhtml:vi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ii(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),ct.hasOwnProperty(n)?{space:ct[n],local:t}:t}function gn(t){return function(){this.removeAttribute(t)}}function fn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Vn(t,n){return function(){this.setAttribute(t,n)}}function _n(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function si(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function J(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function E(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function G(t){return function(){this.style.removeProperty(t)}}function ue(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Ve(t,n,e){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}function ai(t,n){return t.style.getPropertyValue(n)||E(t).getComputedStyle(t,null).getPropertyValue(n)}function $n(t){return function(){delete this[t]}}function ji(t,n){return function(){this[t]=n}}function gt(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function vn(t){return t.trim().split(/^|\s+/)}function Wi(t){return t.classList||new Oi(t)}function Oi(t){this._node=t,this._names=vn(t.getAttribute("class")||"")}function Xt(t,n){for(var e=Wi(t),i=-1,s=n.length;++i<s;)e.add(n[i])}function yi(t,n){for(var e=Wi(t),i=-1,s=n.length;++i<s;)e.remove(n[i])}function yn(t){return function(){Xt(this,t)}}function ri(t){return function(){yi(this,t)}}function Lt(t,n){return function(){(n.apply(this,arguments)?Xt:yi)(this,t)}}function bi(){this.textContent=""}function bn(t){return function(){this.textContent=t}}function Tn(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function yt(){this.innerHTML=""}function Ti(t){return function(){this.innerHTML=t}}function Cn(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function oi(){this.nextSibling&&this.parentNode.appendChild(this)}function ds(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ps(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===vi&&n.documentElement.namespaceURI===vi?n.createElement(t):n.createElementNS(e,t)}}function Rs(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function li(t){var n=Ii(t);return(n.local?Rs:Ps)(n)}function zn(){return null}function Pi(){var t=this.parentNode;t&&t.removeChild(this)}function P(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function y(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function ae(t){return function(){var n=this.__on;if(n){for(var r,e=0,i=-1,s=n.length;e<s;++e)r=n[e],t.type&&r.type!==t.type||r.name!==t.name?n[++i]=r:this.removeEventListener(r.type,r.listener,r.options);++i?n.length=i:delete this.__on}}}function Ee(t,n,e){return function(){var s,i=this.__on,r=function N(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var c=0,h=i.length;c<h;++c)if((s=i[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=r,s.options=e),void(s.value=n);this.addEventListener(t.type,r,e),s={type:t.type,name:t.name,value:n,listener:r,options:e},i?i.push(s):this.__on=[s]}}function Xe(t,n,e){var i=E(t),s=i.CustomEvent;"function"==typeof s?s=new s(n,e):(s=i.document.createEvent("Event"),e?(s.initEvent(n,e.bubbles,e.cancelable),s.detail=e.detail):s.initEvent(n,!1,!1)),t.dispatchEvent(s)}function Pt(t,n){return function(){return Xe(this,t,n)}}function St(t,n){return function(){return Xe(this,t,n.apply(this,arguments))}}Oi.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Ci=[null];function pt(t,n){this._groups=t,this._parents=n}function ci(){return new pt([[document.documentElement]],Ci)}pt.prototype=ci.prototype={constructor:pt,select:function on(t){"function"!=typeof t&&(t=Li(t));for(var n=this._groups,e=n.length,i=new Array(e),s=0;s<e;++s)for(var _,f,r=n[s],c=r.length,h=i[s]=new Array(c),w=0;w<c;++w)(_=r[w])&&(f=t.call(_,_.__data__,w,r))&&("__data__"in _&&(f.__data__=_.__data__),h[w]=f);return new pt(i,this._parents)},selectAll:function ln(t){t="function"==typeof t?function Ne(t){return function(){return function Kt(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}(t.apply(this,arguments))}}(t):ei(t);for(var n=this._groups,e=n.length,i=[],s=[],r=0;r<e;++r)for(var _,c=n[r],h=c.length,f=0;f<h;++f)(_=c[f])&&(i.push(t.call(_,_.__data__,f,c)),s.push(_));return new pt(i,s)},selectChild:function it(t){return this.select(null==t?fi:function In(t){return function(){return Di.call(this.children,t)}}("function"==typeof t?t:Ei(t)))},selectChildren:function Is(t){return this.selectAll(null==t?cn:function dn(t){return function(){return On.call(this.children,t)}}("function"==typeof t?t:Ei(t)))},filter:function Yt(t){"function"!=typeof t&&(t=zi(t));for(var n=this._groups,e=n.length,i=new Array(e),s=0;s<e;++s)for(var _,r=n[s],c=r.length,h=i[s]=[],f=0;f<c;++f)(_=r[f])&&t.call(_,_.__data__,f,r)&&h.push(_);return new pt(i,this._parents)},data:function Je(t,n){if(!arguments.length)return Array.from(this,xi);var e=n?_i:Ui,i=this._parents,s=this._groups;"function"!=typeof t&&(t=function Pn(t){return function(){return t}}(t));for(var r=s.length,c=new Array(r),h=new Array(r),_=new Array(r),f=0;f<r;++f){var w=i[f],T=s[f],D=T.length,$=hn(t.call(w,w&&w.__data__,f,i)),W=$.length,me=h[f]=new Array(W),R=c[f]=new Array(W);e(w,T,me,R,_[f]=new Array(D),$,n);for(var ve,we,pe=0,ie=0;pe<W;++pe)if(ve=me[pe]){for(pe>=ie&&(ie=pe+1);!(we=R[ie])&&++ie<W;);ve._next=we||null}}return(c=new pt(c,i))._enter=h,c._exit=_,c},enter:function Mi(){return new pt(this._enter||this._groups.map(Yi),this._parents)},exit:function ii(){return new pt(this._exit||this._groups.map(Yi),this._parents)},join:function Rn(t,n,e){var i=this.enter(),s=this,r=this.exit();return"function"==typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=n&&(s=n(s))&&(s=s.selection()),null==e?r.remove():e(r),i&&s?i.merge(s).order():s},merge:function un(t){for(var n=t.selection?t.selection():t,e=this._groups,i=n._groups,s=e.length,c=Math.min(s,i.length),h=new Array(s),_=0;_<c;++_)for(var $,f=e[_],w=i[_],T=f.length,D=h[_]=new Array(T),W=0;W<T;++W)($=f[W]||w[W])&&(D[W]=$);for(;_<s;++_)h[_]=e[_];return new pt(h,this._parents)},selection:function hs(){return this},order:function Bn(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var c,i=t[n],s=i.length-1,r=i[s];--s>=0;)(c=i[s])&&(r&&4^c.compareDocumentPosition(r)&&r.parentNode.insertBefore(c,r),r=c);return this},sort:function ni(t){function n(T,D){return T&&D?t(T.__data__,D.__data__):!T-!D}t||(t=Xi);for(var e=this._groups,i=e.length,s=new Array(i),r=0;r<i;++r){for(var f,c=e[r],h=c.length,_=s[r]=new Array(h),w=0;w<h;++w)(f=c[w])&&(_[w]=f);_.sort(n)}return new pt(s,this._parents).order()},call:function Nn(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function mn(){return Array.from(this)},node:function Fi(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],s=0,r=i.length;s<r;++s){var c=i[s];if(c)return c}return null},size:function pn(){let t=0;for(const n of this)++t;return t},empty:function Ut(){return!this.node()},each:function cs(t){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var h,s=n[e],r=0,c=s.length;r<c;++r)(h=s[r])&&t.call(h,h.__data__,r,s);return this},attr:function M(t,n){var e=Ii(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==n?e.local?fn:gn:"function"==typeof n?e.local?J:si:e.local?_n:Vn)(e,n))},style:function rt(t,n,e){return arguments.length>1?this.each((null==n?G:"function"==typeof n?Ve:ue)(t,n,e??"")):ai(this.node(),t)},property:function xn(t,n){return arguments.length>1?this.each((null==n?$n:"function"==typeof n?gt:ji)(t,n)):this.node()[t]},classed:function Et(t,n){var e=vn(t+"");if(arguments.length<2){for(var i=Wi(this.node()),s=-1,r=e.length;++s<r;)if(!i.contains(e[s]))return!1;return!0}return this.each(("function"==typeof n?Lt:n?yn:ri)(e,n))},text:function Hn(t){return arguments.length?this.each(null==t?bi:("function"==typeof t?Tn:bn)(t)):this.node().textContent},html:function Os(t){return arguments.length?this.each(null==t?yt:("function"==typeof t?Cn:Ti)(t)):this.node().innerHTML},raise:function wn(){return this.each(oi)},lower:function Gn(){return this.each(ds)},append:function Bs(t){var n="function"==typeof t?t:li(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function Ns(t,n){var e="function"==typeof t?t:li(t),i=null==n?zn:"function"==typeof n?n:Li(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function Sn(){return this.each(Pi)},clone:function v(t){return this.select(t?y:P)},datum:function F(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function ke(t,n,e){var s,c,i=function U(t){return t.trim().split(/^|\s+/).map(function(n){var e="",i=n.indexOf(".");return i>=0&&(e=n.slice(i+1),n=n.slice(0,i)),{type:n,name:e}})}(t+""),r=i.length;if(!(arguments.length<2)){for(h=n?Ee:ae,s=0;s<r;++s)this.each(h(i[s],n,e));return this}var h=this.node().__on;if(h)for(var w,_=0,f=h.length;_<f;++_)for(s=0,w=h[_];s<r;++s)if((c=i[s]).type===w.type&&c.name===w.name)return w.value},dispatch:function mt(t,n){return this.each(("function"==typeof n?St:Pt)(t,n))},[Symbol.iterator]:function*jt(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var c,i=t[n],s=0,r=i.length;s<r;++s)(c=i[s])&&(yield c)}};const di=ci;function nt(t){return"string"==typeof t?new pt([[document.querySelector(t)]],[document.documentElement]):new pt([[t]],Ci)}var us={value:()=>{}};function Ie(){for(var i,t=0,n=arguments.length,e={};t<n;++t){if(!(i=arguments[t]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new Ri(e)}function Ri(t){this._=t}function Yn(t,n){for(var s,e=0,i=t.length;e<i;++e)if((s=t[e]).name===n)return s.value}function Wt(t,n,e){for(var i=0,s=t.length;i<s;++i)if(t[i].name===n){t[i]=us,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=e&&t.push({name:n,value:e}),t}Ri.prototype=Ie.prototype={constructor:Ri,on:function(t,n){var s,e=this._,i=function Vs(t,n){return t.trim().split(/^|\s+/).map(function(e){var i="",s=e.indexOf(".");if(s>=0&&(i=e.slice(s+1),e=e.slice(0,s)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}(t+"",e),r=-1,c=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++r<c;)if(s=(t=i[r]).type)e[s]=Wt(e[s],t.name,n);else if(null==n)for(s in e)e[s]=Wt(e[s],t.name,null);return this}for(;++r<c;)if((s=(t=i[r]).type)&&(s=Yn(e[s],t.name)))return s},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Ri(t)},call:function(t,n){if((s=arguments.length-2)>0)for(var s,r,e=new Array(s),i=0;i<s;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,s=(r=this._[t]).length;i<s;++i)r[i].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],s=0,r=i.length;s<r;++s)i[s].value.apply(n,e)}};const Un=Ie,kn={capture:!0,passive:!1};function Xn(t){t.preventDefault(),t.stopImmediatePropagation()}function jn(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function An(t,n){var e=Object.create(t.prototype);for(var i in n)e[i]=n[i];return e}function Ln(){}var ms=1/.7,qi="\\s*([+-]?\\d+)\\s*",wi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gs=/^#([0-9a-f]{3,8})$/,zs=new RegExp(`^rgb\\(${qi},${qi},${qi}\\)$`),Ys=new RegExp(`^rgb\\(${hi},${hi},${hi}\\)$`),Ji=new RegExp(`^rgba\\(${qi},${qi},${qi},${wi}\\)$`),Us=new RegExp(`^rgba\\(${hi},${hi},${hi},${wi}\\)$`),ca=new RegExp(`^hsl\\(${wi},${hi},${hi}\\)$`),da=new RegExp(`^hsla\\(${wi},${hi},${hi},${wi}\\)$`),Wn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Xs(){return this.rgb().formatHex()}function ps(){return this.rgb().formatRgb()}function ui(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Gs.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?gs(n):3===e?new kt(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Zn(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Zn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=zs.exec(t))?new kt(n[1],n[2],n[3],1):(n=Ys.exec(t))?new kt(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Ji.exec(t))?Zn(n[1],n[2],n[3],n[4]):(n=Us.exec(t))?Zn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=ca.exec(t))?g(n[1],n[2]/100,n[3]/100,1):(n=da.exec(t))?g(n[1],n[2]/100,n[3]/100,n[4]):Wn.hasOwnProperty(t)?gs(Wn[t]):"transparent"===t?new kt(NaN,NaN,NaN,0):null}function gs(t){return new kt(t>>16&255,t>>8&255,255&t,1)}function Zn(t,n,e,i){return i<=0&&(t=n=e=NaN),new kt(t,n,e,i)}function qn(t,n,e,i){return 1===arguments.length?function ha(t){return t instanceof Ln||(t=ui(t)),t?new kt((t=t.rgb()).r,t.g,t.b,t.opacity):new kt}(t):new kt(t,n,e,i??1)}function kt(t,n,e,i){this.r=+t,this.g=+n,this.b=+e,this.opacity=+i}function Jn(){return`#${$i(this.r)}${$i(this.g)}${$i(this.b)}`}function Ws(){const t=Qn(this.opacity);return`${1===t?"rgb(":"rgba("}${Vi(this.r)}, ${Vi(this.g)}, ${Vi(this.b)}${1===t?")":`, ${t})`}`}function Qn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function $i(t){return((t=Vi(t))<16?"0":"")+t.toString(16)}function g(t,n,e,i){return i<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new l(t,n,e,i)}function d(t){if(t instanceof l)return new l(t.h,t.s,t.l,t.opacity);if(t instanceof Ln||(t=ui(t)),!t)return new l;if(t instanceof l)return t;var n=(t=t.rgb()).r/255,e=t.g/255,i=t.b/255,s=Math.min(n,e,i),r=Math.max(n,e,i),c=NaN,h=r-s,_=(r+s)/2;return h?(c=n===r?(e-i)/h+6*(e<i):e===r?(i-n)/h+2:(n-e)/h+4,h/=_<.5?r+s:2-r-s,c*=60):h=_>0&&_<1?0:c,new l(c,h,_,t.opacity)}function l(t,n,e,i){this.h=+t,this.s=+n,this.l=+e,this.opacity=+i}function u(t){return(t=(t||0)%360)<0?t+360:t}function m(t){return Math.max(0,Math.min(1,t||0))}function p(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function x(t,n,e,i,s){var r=t*t,c=r*t;return((1-3*t+3*r-c)*n+(4-6*r+3*c)*e+(1+3*t+3*r-3*c)*i+c*s)/6}jn(Ln,ui,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Xs,formatHex:Xs,formatHex8:function En(){return this.rgb().formatHex8()},formatHsl:function js(){return d(this).formatHsl()},formatRgb:ps,toString:ps}),jn(kt,qn,An(Ln,{brighter(t){return t=null==t?ms:Math.pow(ms,t),new kt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new kt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new kt(Vi(this.r),Vi(this.g),Vi(this.b),Qn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jn,formatHex:Jn,formatHex8:function ua(){return`#${$i(this.r)}${$i(this.g)}${$i(this.b)}${$i(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ws,toString:Ws})),jn(l,function o(t,n,e,i){return 1===arguments.length?d(t):new l(t,n,e,i??1)},An(Ln,{brighter(t){return t=null==t?ms:Math.pow(ms,t),new l(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new l(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*n,s=2*e-i;return new kt(p(t>=240?t-240:t+120,s,i),p(t,s,i),p(t<120?t+240:t-120,s,i),this.opacity)},clamp(){return new l(u(this.h),m(this.s),m(this.l),Qn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Qn(this.opacity);return`${1===t?"hsl(":"hsla("}${u(this.h)}, ${100*m(this.s)}%, ${100*m(this.l)}%${1===t?")":`, ${t})`}`}}));const k=t=>()=>t;function Le(t,n){var e=n-t;return e?function z(t,n){return function(e){return t+e*n}}(t,e):k(isNaN(t)?n:t)}const Pe=function t(n){var e=function ce(t){return 1==(t=+t)?Le:function(n,e){return e-n?function te(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(i){return Math.pow(t+i*n,e)}}(n,e,t):k(isNaN(n)?e:n)}}(n);function i(s,r){var c=e((s=qn(s)).r,(r=qn(r)).r),h=e(s.g,r.g),_=e(s.b,r.b),f=Le(s.opacity,r.opacity);return function(w){return s.r=c(w),s.g=h(w),s.b=_(w),s.opacity=f(w),s+""}}return i.gamma=t,i}(1);function Qe(t){return function(n){var c,h,e=n.length,i=new Array(e),s=new Array(e),r=new Array(e);for(c=0;c<e;++c)h=qn(n[c]),i[c]=h.r||0,s[c]=h.g||0,r[c]=h.b||0;return i=t(i),s=t(s),r=t(r),h.opacity=1,function(_){return h.r=i(_),h.g=s(_),h.b=r(_),h+""}}}function Rt(t,n){var c,e=n?n.length:0,i=t?Math.min(e,t.length):0,s=new Array(i),r=new Array(e);for(c=0;c<i;++c)s[c]=I(t[c],n[c]);for(;c<e;++c)r[c]=n[c];return function(h){for(c=0;c<i;++c)r[c]=s[c](h);return r}}function fs(t,n){var e=new Date;return t=+t,n=+n,function(i){return e.setTime(t*(1-i)+n*i),e}}function mi(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function ma(t,n){var s,e={},i={};for(s in(null===t||"object"!=typeof t)&&(t={}),(null===n||"object"!=typeof n)&&(n={}),n)s in t?e[s]=I(t[s],n[s]):i[s]=n[s];return function(r){for(s in e)i[s]=e[s](r);return i}}Qe(function b(t){var n=t.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),s=t[i],r=t[i+1];return x((e-i/n)*n,i>0?t[i-1]:2*s-r,s,r,i<n-1?t[i+2]:2*r-s)}}),Qe(function S(t){var n=t.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*n);return x((e-i/n)*n,t[(i+n-1)%n],t[i%n],t[(i+1)%n],t[(i+2)%n])}});var _s=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kn=new RegExp(_s.source,"g");function O(t,n){var i,s,r,e=_s.lastIndex=Kn.lastIndex=0,c=-1,h=[],_=[];for(t+="",n+="";(i=_s.exec(t))&&(s=Kn.exec(n));)(r=s.index)>e&&(r=n.slice(e,r),h[c]?h[c]+=r:h[++c]=r),(i=i[0])===(s=s[0])?h[c]?h[c]+=s:h[++c]=s:(h[++c]=null,_.push({i:c,x:mi(i,s)})),e=Kn.lastIndex;return e<n.length&&(r=n.slice(e),h[c]?h[c]+=r:h[++c]=r),h.length<2?_[0]?function Er(t){return function(n){return t(n)+""}}(_[0].x):function Oa(t){return function(){return t}}(n):(n=_.length,function(f){for(var T,w=0;w<n;++w)h[(T=_[w]).i]=T.x(f);return h.join("")})}function L(t,n){n||(n=[]);var s,e=t?Math.min(n.length,t.length):0,i=n.slice();return function(r){for(s=0;s<e;++s)i[s]=t[s]*(1-r)+n[s]*r;return i}}function I(t,n){var i,e=typeof n;return null==n||"boolean"===e?k(n):("number"===e?mi:"string"===e?(i=ui(n))?(n=i,Pe):O:n instanceof ui?Pe:n instanceof Date?fs:function C(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(n)?L:Array.isArray(n)?Rt:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?ma:mi)(t,n)}function oe(t,n){if(t=function Y(t){let n;for(;n=t.sourceEvent;)t=n;return t}(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,[(i=i.matrixTransform(n.getScreenCTM().inverse())).x,i.y]}if(n.getBoundingClientRect){var s=n.getBoundingClientRect();return[t.clientX-s.left-n.clientLeft,t.clientY-s.top-n.clientTop]}}return[t.pageX,t.pageY]}var pa,Zs,Ce=0,$e=0,Ht=0,Hi=1e3,ga=0,es=0,fa=0,qs="object"==typeof performance&&performance.now?performance:Date,Dr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Pa(){return es||(Dr(Bl),es=qs.now()+fa)}function Bl(){es=0}function _a(){this._call=this._time=this._next=null}function Mr(t,n,e){var i=new _a;return i.restart(t,n,e),i}function Fr(){es=(ga=qs.now())+fa,Ce=$e=0;try{!function Nl(){Pa(),++Ce;for(var n,t=pa;t;)(n=es-t._time)>=0&&t._call.call(void 0,n),t=t._next;--Ce}()}finally{Ce=0,function $l(){for(var t,e,n=pa,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:pa=e);Zs=t,Ra(i)}(),es=0}}function Vl(){var t=qs.now(),n=t-ga;n>Hi&&(fa-=n,ga=t)}function Ra(t){Ce||($e&&($e=clearTimeout($e)),t-es>24?(t<1/0&&($e=setTimeout(Fr,t-qs.now()-fa)),Ht&&(Ht=clearInterval(Ht))):(Ht||(ga=qs.now(),Ht=setInterval(Vl,Hi)),Ce=1,Dr(Fr)))}function Ir(t,n,e){var i=new _a;return i.restart(s=>{i.stop(),t(s+n)},n=null==n?0:+n,e),i}_a.prototype=Mr.prototype={constructor:_a,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Pa():+e)+(null==n?0:+n),!this._next&&Zs!==this&&(Zs?Zs._next=this:pa=this,Zs=this),this._call=t,this._time=e,Ra()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ra())}};var Hl=Un("start","end","cancel","interrupt"),Gl=[],Or=0,Pr=1,Ba=2,xa=3,Rr=4,Na=5,va=6;function ya(t,n,e,i,s,r){var c=t.__transition;if(c){if(e in c)return}else t.__transition={};!function zl(t,n,e){var s,i=t.__transition;function c(f){var w,T,D,$;if(e.state!==Pr)return _();for(w in i)if(($=i[w]).name===e.name){if($.state===xa)return Ir(c);$.state===Rr?($.state=va,$.timer.stop(),$.on.call("interrupt",t,t.__data__,$.index,$.group),delete i[w]):+w<n&&($.state=va,$.timer.stop(),$.on.call("cancel",t,t.__data__,$.index,$.group),delete i[w])}if(Ir(function(){e.state===xa&&(e.state=Rr,e.timer.restart(h,e.delay,e.time),h(f))}),e.state=Ba,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Ba){for(e.state=xa,s=new Array(D=e.tween.length),w=0,T=-1;w<D;++w)($=e.tween[w].value.call(t,t.__data__,e.index,e.group))&&(s[++T]=$);s.length=T+1}}function h(f){for(var w=f<e.duration?e.ease.call(null,f/e.duration):(e.timer.restart(_),e.state=Na,1),T=-1,D=s.length;++T<D;)s[T].call(t,w);e.state===Na&&(e.on.call("end",t,t.__data__,e.index,e.group),_())}function _(){for(var f in e.state=va,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Mr(function r(f){e.state=Pr,e.timer.restart(c,e.delay,e.time),e.delay<=f&&c(f-e.delay)},0,e.time)}(t,e,{name:n,index:i,group:s,on:Hl,tween:Gl,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Or})}function Va(t,n){var e=Si(t,n);if(e.state>Or)throw new Error("too late; already scheduled");return e}function Gi(t,n){var e=Si(t,n);if(e.state>xa)throw new Error("too late; already running");return e}function Si(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function $a(t,n){var i,s,c,e=t.__transition,r=!0;if(e){for(c in n=null==n?null:n+"",e)(i=e[c]).name===n?(s=i.state>Ba&&i.state<Na,i.state=va,i.timer.stop(),i.on.call(s?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete e[c]):r=!1;r&&delete t.__transition}}var ba,Br=180/Math.PI,Ha={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Nr(t,n,e,i,s,r){var c,h,_;return(c=Math.sqrt(t*t+n*n))&&(t/=c,n/=c),(_=t*e+n*i)&&(e-=t*_,i-=n*_),(h=Math.sqrt(e*e+i*i))&&(e/=h,i/=h,_/=h),t*i<n*e&&(t=-t,n=-n,_=-_,c=-c),{translateX:s,translateY:r,rotate:Math.atan2(n,t)*Br,skewX:Math.atan(_)*Br,scaleX:c,scaleY:h}}function Vr(t,n,e,i){function s(f){return f.length?f.pop()+" ":""}return function(f,w){var T=[],D=[];return f=t(f),w=t(w),function r(f,w,T,D,$,W){if(f!==T||w!==D){var me=$.push("translate(",null,n,null,e);W.push({i:me-4,x:mi(f,T)},{i:me-2,x:mi(w,D)})}else(T||D)&&$.push("translate("+T+n+D+e)}(f.translateX,f.translateY,w.translateX,w.translateY,T,D),function c(f,w,T,D){f!==w?(f-w>180?w+=360:w-f>180&&(f+=360),D.push({i:T.push(s(T)+"rotate(",null,i)-2,x:mi(f,w)})):w&&T.push(s(T)+"rotate("+w+i)}(f.rotate,w.rotate,T,D),function h(f,w,T,D){f!==w?D.push({i:T.push(s(T)+"skewX(",null,i)-2,x:mi(f,w)}):w&&T.push(s(T)+"skewX("+w+i)}(f.skewX,w.skewX,T,D),function _(f,w,T,D,$,W){if(f!==T||w!==D){var me=$.push(s($)+"scale(",null,",",null,")");W.push({i:me-4,x:mi(f,T)},{i:me-2,x:mi(w,D)})}else(1!==T||1!==D)&&$.push(s($)+"scale("+T+","+D+")")}(f.scaleX,f.scaleY,w.scaleX,w.scaleY,T,D),f=w=null,function($){for(var R,W=-1,me=D.length;++W<me;)T[(R=D[W]).i]=R.x($);return T.join("")}}}var jl=Vr(function Ul(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Ha:Nr(n.a,n.b,n.c,n.d,n.e,n.f)},"px, ","px)","deg)"),Wl=Vr(function Xl(t){return null!=t&&(ba||(ba=document.createElementNS("http://www.w3.org/2000/svg","g")),ba.setAttribute("transform",t),t=ba.transform.baseVal.consolidate())?Nr((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Ha},", ",")",")");function Zl(t,n){var e,i;return function(){var s=Gi(this,t),r=s.tween;if(r!==e)for(var c=0,h=(i=e=r).length;c<h;++c)if(i[c].name===n){(i=i.slice()).splice(c,1);break}s.tween=i}}function ql(t,n,e){var i,s;if("function"!=typeof e)throw new Error;return function(){var r=Gi(this,t),c=r.tween;if(c!==i){s=(i=c).slice();for(var h={name:n,value:e},_=0,f=s.length;_<f;++_)if(s[_].name===n){s[_]=h;break}_===f&&s.push(h)}r.tween=s}}function Ga(t,n,e){var i=t._id;return t.each(function(){var s=Gi(this,i);(s.value||(s.value={}))[n]=e.apply(this,arguments)}),function(s){return Si(s,i).value[n]}}function $r(t,n){var e;return("number"==typeof n?mi:n instanceof ui?Pe:(e=ui(n))?(n=e,Pe):O)(t,n)}function Ql(t){return function(){this.removeAttribute(t)}}function Kl(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ec(t,n,e){var i,r,s=e+"";return function(){var c=this.getAttribute(t);return c===s?null:c===i?r:r=n(i=c,e)}}function tc(t,n,e){var i,r,s=e+"";return function(){var c=this.getAttributeNS(t.space,t.local);return c===s?null:c===i?r:r=n(i=c,e)}}function ic(t,n,e){var i,s,r;return function(){var c,_,h=e(this);return null==h?void this.removeAttribute(t):(c=this.getAttribute(t))===(_=h+"")?null:c===i&&_===s?r:(s=_,r=n(i=c,h))}}function nc(t,n,e){var i,s,r;return function(){var c,_,h=e(this);return null==h?void this.removeAttributeNS(t.space,t.local):(c=this.getAttributeNS(t.space,t.local))===(_=h+"")?null:c===i&&_===s?r:(s=_,r=n(i=c,h))}}function oc(t,n){var e,i;function s(){var r=n.apply(this,arguments);return r!==i&&(e=(i=r)&&function rc(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,r)),e}return s._value=n,s}function lc(t,n){var e,i;function s(){var r=n.apply(this,arguments);return r!==i&&(e=(i=r)&&function ac(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,r)),e}return s._value=n,s}function dc(t,n){return function(){Va(this,t).delay=+n.apply(this,arguments)}}function hc(t,n){return n=+n,function(){Va(this,t).delay=n}}function mc(t,n){return function(){Gi(this,t).duration=+n.apply(this,arguments)}}function pc(t,n){return n=+n,function(){Gi(this,t).duration=n}}var Ec=di.prototype.constructor;function Hr(t){return function(){this.style.removeProperty(t)}}var jc=0;function Qi(t,n,e,i){this._groups=t,this._parents=n,this._name=e,this._id=i}function Gr(){return++jc}var Ki=di.prototype;Qi.prototype=function Wc(t){return di().transition(t)}.prototype={constructor:Qi,select:function Ac(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Li(t));for(var i=this._groups,s=i.length,r=new Array(s),c=0;c<s;++c)for(var w,T,h=i[c],_=h.length,f=r[c]=new Array(_),D=0;D<_;++D)(w=h[D])&&(T=t.call(w,w.__data__,D,h))&&("__data__"in w&&(T.__data__=w.__data__),f[D]=T,ya(f[D],n,e,D,f,Si(w,e)));return new Qi(r,this._parents,n,e)},selectAll:function Lc(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=ei(t));for(var i=this._groups,s=i.length,r=[],c=[],h=0;h<s;++h)for(var w,_=i[h],f=_.length,T=0;T<f;++T)if(w=_[T]){for(var $,D=t.call(w,w.__data__,T,_),W=Si(w,e),me=0,R=D.length;me<R;++me)($=D[me])&&ya($,n,e,me,D,W);r.push(D),c.push(w)}return new Qi(r,c,n,e)},selectChild:Ki.selectChild,selectChildren:Ki.selectChildren,filter:function yc(t){"function"!=typeof t&&(t=zi(t));for(var n=this._groups,e=n.length,i=new Array(e),s=0;s<e;++s)for(var _,r=n[s],c=r.length,h=i[s]=[],f=0;f<c;++f)(_=r[f])&&t.call(_,_.__data__,f,r)&&h.push(_);return new Qi(i,this._parents,this._name,this._id)},merge:function bc(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,i=n.length,r=Math.min(i,e.length),c=new Array(i),h=0;h<r;++h)for(var D,_=n[h],f=e[h],w=_.length,T=c[h]=new Array(w),$=0;$<w;++$)(D=_[$]||f[$])&&(T[$]=D);for(;h<i;++h)c[h]=n[h];return new Qi(c,this._parents,this._name,this._id)},selection:function Dc(){return new Ec(this._groups,this._parents)},transition:function Uc(){for(var t=this._name,n=this._id,e=Gr(),i=this._groups,s=i.length,r=0;r<s;++r)for(var _,c=i[r],h=c.length,f=0;f<h;++f)if(_=c[f]){var w=Si(_,n);ya(_,t,e,f,c,{time:w.time+w.delay+w.duration,delay:0,duration:w.duration,ease:w.ease})}return new Qi(i,this._parents,t,e)},call:Ki.call,nodes:Ki.nodes,node:Ki.node,size:Ki.size,empty:Ki.empty,each:Ki.each,on:function wc(t,n){var e=this._id;return arguments.length<2?Si(this.node(),e).on.on(t):this.each(function Cc(t,n,e){var i,s,r=function Tc(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||"start"===n})}(n)?Va:Gi;return function(){var c=r(this,t),h=c.on;h!==i&&(s=(i=h).copy()).on(n,e),c.on=s}}(e,t,n))},attr:function sc(t,n){var e=Ii(t),i="transform"===e?Wl:$r;return this.attrTween(t,"function"==typeof n?(e.local?nc:ic)(e,i,Ga(this,"attr."+t,n)):null==n?(e.local?Kl:Ql)(e):(e.local?tc:ec)(e,i,n))},attrTween:function cc(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var i=Ii(t);return this.tween(e,(i.local?oc:lc)(i,n))},style:function Pc(t,n,e){var i="transform"==(t+="")?jl:$r;return null==n?this.styleTween(t,function Mc(t,n){var e,i,s;return function(){var r=ai(this,t),c=(this.style.removeProperty(t),ai(this,t));return r===c?null:r===e&&c===i?s:s=n(e=r,i=c)}}(t,i)).on("end.style."+t,Hr(t)):"function"==typeof n?this.styleTween(t,function Ic(t,n,e){var i,s,r;return function(){var c=ai(this,t),h=e(this),_=h+"";return null==h&&(this.style.removeProperty(t),_=h=ai(this,t)),c===_?null:c===i&&_===s?r:(s=_,r=n(i=c,h))}}(t,i,Ga(this,"style."+t,n))).each(function Oc(t,n){var e,i,s,h,r="style."+n,c="end."+r;return function(){var _=Gi(this,t),f=_.on,w=null==_.value[r]?h||(h=Hr(n)):void 0;(f!==e||s!==w)&&(i=(e=f).copy()).on(c,s=w),_.on=i}}(this._id,t)):this.styleTween(t,function Fc(t,n,e){var i,r,s=e+"";return function(){var c=ai(this,t);return c===s?null:c===i?r:r=n(i=c,e)}}(t,i,n),e).on("end.style."+t,null)},styleTween:function Nc(t,n,e){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;return this.tween(i,function Bc(t,n,e){var i,s;function r(){var c=n.apply(this,arguments);return c!==s&&(i=(s=c)&&function Rc(t,n,e){return function(i){this.style.setProperty(t,n.call(this,i),e)}}(t,c,e)),i}return r._value=n,r}(t,n,e??""))},text:function Hc(t){return this.tween("text","function"==typeof t?function $c(t){return function(){var n=t(this);this.textContent=n??""}}(Ga(this,"text",t)):function Vc(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function Yc(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function zc(t){var n,e;function i(){var s=t.apply(this,arguments);return s!==e&&(n=(e=s)&&function Gc(t){return function(n){this.textContent=t.call(this,n)}}(s)),n}return i._value=t,i}(t))},remove:function kc(){return this.on("end.remove",function Sc(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function Jl(t,n){var e=this._id;if(t+="",arguments.length<2){for(var c,i=Si(this.node(),e).tween,s=0,r=i.length;s<r;++s)if((c=i[s]).name===t)return c.value;return null}return this.each((null==n?Zl:ql)(e,t,n))},delay:function uc(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?dc:hc)(n,t)):Si(this.node(),n).delay},duration:function gc(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?mc:pc)(n,t)):Si(this.node(),n).duration},ease:function _c(t){var n=this._id;return arguments.length?this.each(function fc(t,n){if("function"!=typeof n)throw new Error;return function(){Gi(this,t).ease=n}}(n,t)):Si(this.node(),n).ease},easeVarying:function vc(t){if("function"!=typeof t)throw new Error;return this.each(function xc(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;Gi(this,t).ease=e}}(this._id,t))},end:function Xc(){var t,n,e=this,i=e._id,s=e.size();return new Promise(function(r,c){var h={value:c},_={value:function(){0==--s&&r()}};e.each(function(){var f=Gi(this,i),w=f.on;w!==t&&((n=(t=w).copy())._.cancel.push(h),n._.interrupt.push(h),n._.end.push(_)),f.on=n}),0===s&&r()})},[Symbol.iterator]:Ki[Symbol.iterator]};var qc={time:null,delay:0,duration:250,ease:function Zc(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Jc(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}di.prototype.interrupt=function Yl(t){return this.each(function(){$a(this,t)})},di.prototype.transition=function Qc(t){var n,e;t instanceof Qi?(n=t._id,t=t._name):(n=Gr(),(e=qc).time=Pa(),t=null==t?null:t+"");for(var i=this._groups,s=i.length,r=0;r<s;++r)for(var _,c=i[r],h=c.length,f=0;f<h;++f)(_=c[f])&&ya(_,t,n,f,c,e||Jc(_,n));return new Qi(i,this._parents,t,n)};const za=t=>()=>t;function Kc(t,{sourceEvent:n,target:e,selection:i,mode:s,dispatch:r}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},selection:{value:i,enumerable:!0,configurable:!0},mode:{value:s,enumerable:!0,configurable:!0},_:{value:r}})}function Ya(t){t.preventDefault(),t.stopImmediatePropagation()}var zr={name:"drag"},Ua={name:"space"},xs={name:"handle"},vs={name:"center"};const{abs:Yr,max:Mt,min:Ft}=Math;function Ur(t){return[+t[0],+t[1]]}function Xa(t){return[Ur(t[0]),Ur(t[1])]}var Ta={name:"x",handles:["w","e"].map(Js),input:function(t,n){return null==t?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Ca={name:"y",handles:["n","s"].map(Js),input:function(t,n){return null==t?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},en=(["n","w","e","s","nw","ne","sw","se"].map(Js),{overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"}),Xr={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},jr={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},id={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},nd={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Js(t){return{type:t}}function sd(t){return!t.ctrlKey&&!t.button}function ad(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function rd(){return navigator.maxTouchPoints||"ontouchstart"in this}function ja(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Qs(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function cd(t,n){return null==t||null==n?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Za(t){let n,e,i;function s(h,_,f=0,w=h.length){if(f<w){if(0!==n(_,_))return w;do{const T=f+w>>>1;e(h[T],_)<0?f=T+1:w=T}while(f<w)}return f}return 2!==t.length?(n=Qs,e=(h,_)=>Qs(t(h),_),i=(h,_)=>t(h)-_):(n=t===Qs||t===cd?t:dd,e=t,i=t),{left:s,center:function c(h,_,f=0,w=h.length){const T=s(h,_,f,w-1);return T>f&&i(h[T-1],_)>-i(h[T],_)?T-1:T},right:function r(h,_,f=0,w=h.length){if(f<w){if(0!==n(_,_))return w;do{const T=f+w>>>1;e(h[T],_)<=0?f=T+1:w=T}while(f<w)}return f}}}function dd(){return 0}const hd=Math.sqrt(50),ud=Math.sqrt(10),md=Math.sqrt(2);function wa(t,n,e){const i=(n-t)/Math.max(0,e),s=Math.floor(Math.log10(i)),r=i/Math.pow(10,s),c=r>=hd?10:r>=ud?5:r>=md?2:1;let h,_,f;return s<0?(f=Math.pow(10,-s)/c,h=Math.round(t*f),_=Math.round(n*f),h/f<t&&++h,_/f>n&&--_,f=-f):(f=Math.pow(10,s)*c,h=Math.round(t/f),_=Math.round(n/f),h*f<t&&++h,_*f>n&&--_),_<h&&.5<=e&&e<2?wa(t,n,2*e):[h,_,f]}function qa(t,n,e){return wa(t=+t,n=+n,e=+e)[2]}function Ja(t,n,e){e=+e;const i=(n=+n)<(t=+t),s=i?qa(n,t,e):qa(t,n,e);return(i?-1:1)*(s<0?1/-s:s)}const tn=1e3,pi=60*tn,nn=60*pi,sn=24*nn,Qa=7*sn,Wr=30*sn,Ka=365*sn,er=new Date,tr=new Date;function ft(t,n,e,i){function s(r){return t(r=0===arguments.length?new Date:new Date(+r)),r}return s.floor=r=>(t(r=new Date(+r)),r),s.ceil=r=>(t(r=new Date(r-1)),n(r,1),t(r),r),s.round=r=>{const c=s(r),h=s.ceil(r);return r-c<h-r?c:h},s.offset=(r,c)=>(n(r=new Date(+r),null==c?1:Math.floor(c)),r),s.range=(r,c,h)=>{const _=[];if(r=s.ceil(r),h=null==h?1:Math.floor(h),!(r<c&&h>0))return _;let f;do{_.push(f=new Date(+r)),n(r,h),t(r)}while(f<r&&r<c);return _},s.filter=r=>ft(c=>{if(c>=c)for(;t(c),!r(c);)c.setTime(c-1)},(c,h)=>{if(c>=c)if(h<0)for(;++h<=0;)for(;n(c,-1),!r(c););else for(;--h>=0;)for(;n(c,1),!r(c););}),e&&(s.count=(r,c)=>(er.setTime(+r),tr.setTime(+c),t(er),t(tr),Math.floor(e(er,tr))),s.every=r=>(r=Math.floor(r),isFinite(r)&&r>0?r>1?s.filter(i?c=>i(c)%r==0:c=>s.count(0,c)%r==0):s:null)),s}const Sa=ft(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);Sa.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?ft(n=>{n.setTime(Math.floor(n/t)*t)},(n,e)=>{n.setTime(+n+e*t)},(n,e)=>(e-n)/t):Sa:null);const ys=ft(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+n*tn)},(t,n)=>(n-t)/tn,t=>t.getUTCSeconds()),ir=ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*tn)},(t,n)=>{t.setTime(+t+n*pi)},(t,n)=>(n-t)/pi,t=>t.getMinutes()),Zr=ft(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+n*pi)},(t,n)=>(n-t)/pi,t=>t.getUTCMinutes()),nr=ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*tn-t.getMinutes()*pi)},(t,n)=>{t.setTime(+t+n*nn)},(t,n)=>(n-t)/nn,t=>t.getHours()),qr=ft(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+n*nn)},(t,n)=>(n-t)/nn,t=>t.getUTCHours()),sr=ft(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*pi)/sn,t=>t.getDate()-1),Jr=(ft(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/sn,t=>t.getUTCDate()-1),ft(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/sn,t=>Math.floor(t/sn)));function ts(t){return ft(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(n,e)=>{n.setDate(n.getDate()+7*e)},(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*pi)/Qa)}const ar=ts(0);function is(t){return ft(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+7*e)},(n,e)=>(e-n)/Qa)}ts(1),ts(2),ts(3),ts(4),ts(5),ts(6);const Qr=is(0),rr=(is(1),is(2),is(3),is(4),is(5),is(6),ft(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear()),t=>t.getMonth())),Kr=ft(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear()),t=>t.getUTCMonth()),ka=ft(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear());ka.every=t=>isFinite(t=Math.floor(t))&&t>0?ft(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e*t)}):null;const or=ft(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());function eo(t,n,e,i,s,r){const c=[[ys,1,tn],[ys,5,5*tn],[ys,15,15*tn],[ys,30,30*tn],[r,1,pi],[r,5,5*pi],[r,15,15*pi],[r,30,30*pi],[s,1,nn],[s,3,3*nn],[s,6,6*nn],[s,12,12*nn],[i,1,sn],[i,2,2*sn],[e,1,Qa],[n,1,Wr],[n,3,3*Wr],[t,1,Ka]];function _(f,w,T){const D=Math.abs(w-f)/T,$=Za(([,,R])=>R).right(c,D);if($===c.length)return t.every(Ja(f/Ka,w/Ka,T));if(0===$)return Sa.every(Math.max(Ja(f,w,T),1));const[W,me]=c[D/c[$-1][2]<c[$][2]/D?$-1:$];return W.every(me)}return[function h(f,w,T){const D=w<f;D&&([f,w]=[w,f]);const $=T&&"function"==typeof T.range?T:_(f,w,T),W=$?$.range(f,+w+1):[];return D?W.reverse():W},_]}or.every=t=>isFinite(t=Math.floor(t))&&t>0?ft(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null;const[Kg,ef]=eo(or,Kr,Qr,Jr,qr,Zr),[Ad,Ld]=eo(ka,rr,ar,sr,nr,ir);var lr=new Date,cr=new Date;function an(t,n,e,i){function s(r){return t(r=0===arguments.length?new Date:new Date(+r)),r}return s.floor=function(r){return t(r=new Date(+r)),r},s.ceil=function(r){return t(r=new Date(r-1)),n(r,1),t(r),r},s.round=function(r){var c=s(r),h=s.ceil(r);return r-c<h-r?c:h},s.offset=function(r,c){return n(r=new Date(+r),null==c?1:Math.floor(c)),r},s.range=function(r,c,h){var f,_=[];if(r=s.ceil(r),h=null==h?1:Math.floor(h),!(r<c&&h>0))return _;do{_.push(f=new Date(+r)),n(r,h),t(r)}while(f<r&&r<c);return _},s.filter=function(r){return an(function(c){if(c>=c)for(;t(c),!r(c);)c.setTime(c-1)},function(c,h){if(c>=c)if(h<0)for(;++h<=0;)for(;n(c,-1),!r(c););else for(;--h>=0;)for(;n(c,1),!r(c););})},e&&(s.count=function(r,c){return lr.setTime(+r),cr.setTime(+c),t(lr),t(cr),Math.floor(e(lr,cr))},s.every=function(r){return r=Math.floor(r),isFinite(r)&&r>0?r>1?s.filter(i?function(c){return i(c)%r==0}:function(c){return s.count(0,c)%r==0}):s:null}),s}const dr=6e4,Ks=60*dr*24,to=7*Ks;function ns(t){return an(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCDate(n.getUTCDate()+7*e)},function(n,e){return(e-n)/to})}var io=ns(0),Aa=ns(1),bs=(ns(2),ns(3),ns(4));const so=(ns(5),ns(6),an(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/Ks},function(t){return t.getUTCDate()-1}));function ss(t){return an(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(n,e){n.setDate(n.getDate()+7*e)},function(n,e){return(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*dr)/to})}var ao=ss(0),La=ss(1),Ts=(ss(2),ss(3),ss(4));const oo=(ss(5),ss(6),an(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*dr)/Ks,t=>t.getDate()-1));var hr=an(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});hr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?an(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};const ea=hr;var ur=an(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});ur.every=function(t){return isFinite(t=Math.floor(t))&&t>0?an(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};const ta=ur;function mr(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function pr(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ia(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}var Cs,Co,lo={"-":"",_:" ",0:"0"},Tt=/^\s*\d+/,Nd=/^%/,Vd=/[\\^$*+?|[\]().{}]/g;function He(t,n,e){var i=t<0?"-":"",s=(i?-t:t)+"",r=s.length;return i+(r<e?new Array(e-r+1).join(n)+s:s)}function $d(t){return t.replace(Vd,"\\$&")}function na(t){return new RegExp("^(?:"+t.map($d).join("|")+")","i")}function sa(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function Hd(t,n,e){var i=Tt.exec(n.slice(e,e+1));return i?(t.w=+i[0],e+i[0].length):-1}function Gd(t,n,e){var i=Tt.exec(n.slice(e,e+1));return i?(t.u=+i[0],e+i[0].length):-1}function zd(t,n,e){var i=Tt.exec(n.slice(e,e+2));return i?(t.U=+i[0],e+i[0].length):-1}function Yd(t,n,e){var i=Tt.exec(n.slice(e,e+2));return i?(t.V=+i[0],e+i[0].length):-1}function Ud(t,n,e){var i=Tt.exec(n.slice(e,e+2));return i?(t.W=+i[0],e+i[0].length):-1}function co(t,n,e){var i=Tt.exec(n.slice(e,e+4));return i?(t.y=+i[0],e+i[0].length):-1}function ho(t,n,e){var i=Tt.exec(n.slice(e,e+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),e+i[0].length):-1}function Xd(t,n,e){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),e+i[0].length):-1}function jd(t,n,e){var i=Tt.exec(n.slice(e,e+1));return i?(t.q=3*i[0]-3,e+i[0].length):-1}function Wd(t,n,e){var i=Tt.exec(n.slice(e,e+2));return i?(t.m=i[0]-1,e+i[0].length):-1}function uo(t,n,e){var i=Tt.exec(n.slice(e,e+2));return i?(t.d=+i[0],e+i[0].length):-1}function Zd(t,n,e){var i=Tt.exec(n.slice(e,e+3));return i?(t.m=0,t.d=+i[0],e+i[0].length):-1}function mo(t,n,e){var i=Tt.exec(n.slice(e,e+2));return i?(t.H=+i[0],e+i[0].length):-1}function qd(t,n,e){var i=Tt.exec(n.slice(e,e+2));return i?(t.M=+i[0],e+i[0].length):-1}function Jd(t,n,e){var i=Tt.exec(n.slice(e,e+2));return i?(t.S=+i[0],e+i[0].length):-1}function Qd(t,n,e){var i=Tt.exec(n.slice(e,e+3));return i?(t.L=+i[0],e+i[0].length):-1}function Kd(t,n,e){var i=Tt.exec(n.slice(e,e+6));return i?(t.L=Math.floor(i[0]/1e3),e+i[0].length):-1}function eh(t,n,e){var i=Nd.exec(n.slice(e,e+1));return i?e+i[0].length:-1}function th(t,n,e){var i=Tt.exec(n.slice(e));return i?(t.Q=+i[0],e+i[0].length):-1}function ih(t,n,e){var i=Tt.exec(n.slice(e));return i?(t.s=+i[0],e+i[0].length):-1}function po(t,n){return He(t.getDate(),n,2)}function nh(t,n){return He(t.getHours(),n,2)}function sh(t,n){return He(t.getHours()%12||12,n,2)}function ah(t,n){return He(1+oo.count(ea(t),t),n,3)}function go(t,n){return He(t.getMilliseconds(),n,3)}function rh(t,n){return go(t,n)+"000"}function oh(t,n){return He(t.getMonth()+1,n,2)}function lh(t,n){return He(t.getMinutes(),n,2)}function ch(t,n){return He(t.getSeconds(),n,2)}function dh(t){var n=t.getDay();return 0===n?7:n}function hh(t,n){return He(ao.count(ea(t)-1,t),n,2)}function fo(t){var n=t.getDay();return n>=4||0===n?Ts(t):Ts.ceil(t)}function uh(t,n){return t=fo(t),He(Ts.count(ea(t),t)+(4===ea(t).getDay()),n,2)}function mh(t){return t.getDay()}function ph(t,n){return He(La.count(ea(t)-1,t),n,2)}function gh(t,n){return He(t.getFullYear()%100,n,2)}function fh(t,n){return He((t=fo(t)).getFullYear()%100,n,2)}function _h(t,n){return He(t.getFullYear()%1e4,n,4)}function xh(t,n){var e=t.getDay();return He((t=e>=4||0===e?Ts(t):Ts.ceil(t)).getFullYear()%1e4,n,4)}function vh(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+He(n/60|0,"0",2)+He(n%60,"0",2)}function _o(t,n){return He(t.getUTCDate(),n,2)}function yh(t,n){return He(t.getUTCHours(),n,2)}function bh(t,n){return He(t.getUTCHours()%12||12,n,2)}function Th(t,n){return He(1+so.count(ta(t),t),n,3)}function xo(t,n){return He(t.getUTCMilliseconds(),n,3)}function Ch(t,n){return xo(t,n)+"000"}function wh(t,n){return He(t.getUTCMonth()+1,n,2)}function Sh(t,n){return He(t.getUTCMinutes(),n,2)}function kh(t,n){return He(t.getUTCSeconds(),n,2)}function Ah(t){var n=t.getUTCDay();return 0===n?7:n}function Lh(t,n){return He(io.count(ta(t)-1,t),n,2)}function vo(t){var n=t.getUTCDay();return n>=4||0===n?bs(t):bs.ceil(t)}function Eh(t,n){return t=vo(t),He(bs.count(ta(t),t)+(4===ta(t).getUTCDay()),n,2)}function Dh(t){return t.getUTCDay()}function Mh(t,n){return He(Aa.count(ta(t)-1,t),n,2)}function Fh(t,n){return He(t.getUTCFullYear()%100,n,2)}function Ih(t,n){return He((t=vo(t)).getUTCFullYear()%100,n,2)}function Oh(t,n){return He(t.getUTCFullYear()%1e4,n,4)}function Ph(t,n){var e=t.getUTCDay();return He((t=e>=4||0===e?bs(t):bs.ceil(t)).getUTCFullYear()%1e4,n,4)}function Rh(){return"+0000"}function yo(){return"%"}function bo(t){return+t}function To(t){return Math.floor(+t/1e3)}function wo(t){return null===t?NaN:+t}!function $h(t){Cs=function Bd(t){var n=t.dateTime,e=t.date,i=t.time,s=t.periods,r=t.days,c=t.shortDays,h=t.months,_=t.shortMonths,f=na(s),w=sa(s),T=na(r),D=sa(r),$=na(c),W=sa(c),me=na(h),R=sa(h),re=na(_),pe=sa(_),ie={a:function tt(he){return c[he.getDay()]},A:function Nt(he){return r[he.getDay()]},b:function ze(he){return _[he.getMonth()]},B:function xt(he){return h[he.getMonth()]},c:null,d:po,e:po,f:rh,g:fh,G:xh,H:nh,I:sh,j:ah,L:go,m:oh,M:lh,p:function dt(he){return s[+(he.getHours()>=12)]},q:function ht(he){return 1+~~(he.getMonth()/3)},Q:bo,s:To,S:ch,u:dh,U:hh,V:uh,w:mh,W:ph,x:null,X:null,y:gh,Y:_h,Z:vh,"%":yo},ve={a:function oa(he){return c[he.getUTCDay()]},A:function Ds(he){return r[he.getUTCDay()]},b:function Ms(he){return _[he.getUTCMonth()]},B:function Fs(he){return h[he.getUTCMonth()]},c:null,d:_o,e:_o,f:Ch,g:Ih,G:Ph,H:yh,I:bh,j:Th,L:xo,m:wh,M:Sh,p:function It(he){return s[+(he.getUTCHours()>=12)]},q:function ls(he){return 1+~~(he.getUTCMonth()/3)},Q:bo,s:To,S:kh,u:Ah,U:Lh,V:Eh,w:Dh,W:Mh,x:null,X:null,y:Fh,Y:Oh,Z:Rh,"%":yo},we={a:function Ke(he,Me,Re){var q=$.exec(Me.slice(Re));return q?(he.w=W.get(q[0].toLowerCase()),Re+q[0].length):-1},A:function Te(he,Me,Re){var q=T.exec(Me.slice(Re));return q?(he.w=D.get(q[0].toLowerCase()),Re+q[0].length):-1},b:function wt(he,Me,Re){var q=re.exec(Me.slice(Re));return q?(he.m=pe.get(q[0].toLowerCase()),Re+q[0].length):-1},B:function Ge(he,Me,Re){var q=me.exec(Me.slice(Re));return q?(he.m=R.get(q[0].toLowerCase()),Re+q[0].length):-1},c:function Ze(he,Me,Re){return We(he,n,Me,Re)},d:uo,e:uo,f:Kd,g:ho,G:co,H:mo,I:mo,j:Zd,L:Qd,m:Wd,M:qd,p:function Bt(he,Me,Re){var q=f.exec(Me.slice(Re));return q?(he.p=w.get(q[0].toLowerCase()),Re+q[0].length):-1},q:jd,Q:th,s:ih,S:Jd,u:Gd,U:zd,V:Yd,w:Hd,W:Ud,x:function Jt(he,Me,Re){return We(he,e,Me,Re)},X:function et(he,Me,Re){return We(he,i,Me,Re)},y:ho,Y:co,Z:Xd,"%":eh};function ge(he,Me){return function(Re){var $t,Se,lt,q=[],ot=-1,Ye=0,Vt=he.length;for(Re instanceof Date||(Re=new Date(+Re));++ot<Vt;)37===he.charCodeAt(ot)&&(q.push(he.slice(Ye,ot)),null!=(Se=lo[$t=he.charAt(++ot)])?$t=he.charAt(++ot):Se="e"===$t?" ":"0",(lt=Me[$t])&&($t=lt(Re,Se)),q.push($t),Ye=ot+1);return q.push(he.slice(Ye,ot)),q.join("")}}function je(he,Me){return function(Re){var Ye,Vt,q=ia(1900,void 0,1);if(We(q,he,Re+="",0)!=Re.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(1e3*q.s+("L"in q?q.L:0));if(Me&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+12*q.p),void 0===q.m&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(Vt=(Ye=pr(ia(q.y,0,1))).getUTCDay(),Ye=Vt>4||0===Vt?Aa.ceil(Ye):Aa(Ye),Ye=so.offset(Ye,7*(q.V-1)),q.y=Ye.getUTCFullYear(),q.m=Ye.getUTCMonth(),q.d=Ye.getUTCDate()+(q.w+6)%7):(Vt=(Ye=mr(ia(q.y,0,1))).getDay(),Ye=Vt>4||0===Vt?La.ceil(Ye):La(Ye),Ye=oo.offset(Ye,7*(q.V-1)),q.y=Ye.getFullYear(),q.m=Ye.getMonth(),q.d=Ye.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),Vt="Z"in q?pr(ia(q.y,0,1)).getUTCDay():mr(ia(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+7*q.W-(Vt+5)%7:q.w+7*q.U-(Vt+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,pr(q)):mr(q)}}function We(he,Me,Re,q){for(var $t,Se,ot=0,Ye=Me.length,Vt=Re.length;ot<Ye;){if(q>=Vt)return-1;if(37===($t=Me.charCodeAt(ot++))){if($t=Me.charAt(ot++),!(Se=we[$t in lo?Me.charAt(ot++):$t])||(q=Se(he,Re,q))<0)return-1}else if($t!=Re.charCodeAt(q++))return-1}return q}return ie.x=ge(e,ie),ie.X=ge(i,ie),ie.c=ge(n,ie),ve.x=ge(e,ve),ve.X=ge(i,ve),ve.c=ge(n,ve),{format:function(he){var Me=ge(he+="",ie);return Me.toString=function(){return he},Me},parse:function(he){var Me=je(he+="",!1);return Me.toString=function(){return he},Me},utcFormat:function(he){var Me=ge(he+="",ve);return Me.toString=function(){return he},Me},utcParse:function(he){var Me=je(he+="",!0);return Me.toString=function(){return he},Me}}}(t),Co=Cs.format}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const Hh=Za(Qs).right,ko=(Za(wo),Hh);function Gh(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}function Yh(t){return+t}var Ao=[0,1];function ws(t){return t}function gr(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:function zh(t){return function(){return t}}(isNaN(n)?NaN:.5)}function Xh(t,n,e){var i=t[0],s=t[1],r=n[0],c=n[1];return s<i?(i=gr(s,i),r=e(c,r)):(i=gr(i,s),r=e(r,c)),function(h){return r(i(h))}}function jh(t,n,e){var i=Math.min(t.length,n.length)-1,s=new Array(i),r=new Array(i),c=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++c<i;)s[c]=gr(t[c],t[c+1]),r[c]=e(n[c],n[c+1]);return function(h){var _=ko(t,h,1,i)-1;return r[_](s[_](h))}}function Lo(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Eo(){return function Wh(){var i,s,r,h,_,f,t=Ao,n=Ao,e=I,c=ws;function w(){var D=Math.min(t.length,n.length);return c!==ws&&(c=function Uh(t,n){var e;return t>n&&(e=t,t=n,n=e),function(i){return Math.max(t,Math.min(n,i))}}(t[0],t[D-1])),h=D>2?jh:Xh,_=f=null,T}function T(D){return null==D||isNaN(D=+D)?r:(_||(_=h(t.map(i),n,e)))(i(c(D)))}return T.invert=function(D){return c(s((f||(f=h(n,t.map(i),mi)))(D)))},T.domain=function(D){return arguments.length?(t=Array.from(D,Yh),w()):t.slice()},T.range=function(D){return arguments.length?(n=Array.from(D),w()):n.slice()},T.rangeRound=function(D){return n=Array.from(D),e=Gh,w()},T.clamp=function(D){return arguments.length?(c=!!D||ws,w()):c!==ws},T.interpolate=function(D){return arguments.length?(e=D,w()):e},T.unknown=function(D){return arguments.length?(r=D,T):r},function(D,$){return i=D,s=$,w()}}()(ws,ws)}function aa(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function qh(t){return new Date(t)}function Jh(t){return t instanceof Date?+t:+new Date(+t)}function Do(t,n,e,i,s,r,c,h,_,f){var w=Eo(),T=w.invert,D=w.domain,$=f(".%L"),W=f(":%S"),me=f("%I:%M"),R=f("%I %p"),re=f("%a %d"),pe=f("%b %d"),ie=f("%B"),ve=f("%Y");function we(ge){return(_(ge)<ge?$:h(ge)<ge?W:c(ge)<ge?me:r(ge)<ge?R:i(ge)<ge?s(ge)<ge?re:pe:e(ge)<ge?ie:ve)(ge)}return w.invert=function(ge){return new Date(T(ge))},w.domain=function(ge){return arguments.length?D(Array.from(ge,Jh)):D().map(qh)},w.ticks=function(ge){var je=D();return t(je[0],je[je.length-1],ge??10)},w.tickFormat=function(ge,je){return null==je?we:f(je)},w.nice=function(ge){var je=D();return(!ge||"function"!=typeof ge.range)&&(ge=n(je[0],je[je.length-1],ge??10)),ge?D(function Zh(t,n){var c,e=0,i=(t=t.slice()).length-1,s=t[e],r=t[i];return r<s&&(c=e,e=i,i=c,c=s,s=r,r=c),t[e]=n.floor(s),t[i]=n.ceil(r),t}(je,ge)):w},w.copy=function(){return Lo(w,Do(t,n,e,i,s,r,c,h,_,f))},w}function Mo(){return aa.apply(Do(Ad,Ld,ka,rr,ar,sr,nr,ir,ys,Co).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var Fo,Qh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ea(t){if(!(n=Qh.exec(t)))throw new Error("invalid format: "+t);var n;return new fr({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function fr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Da(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,i=t.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+t.slice(e+1)]}function Ss(t){return(t=Da(Math.abs(t)))?t[1]:NaN}function Io(t,n){var e=Da(t,n);if(!e)return t+"";var i=e[0],s=e[1];return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")}Ea.prototype=fr.prototype,fr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Oo={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function Kh(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Io(100*t,n),r:Io,s:function su(t,n){var e=Da(t,n);if(!e)return t+"";var i=e[0],s=e[1],r=s-(Fo=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,c=i.length;return r===c?i:r>c?i+new Array(r-c+1).join("0"):r>0?i.slice(0,r)+"."+i.slice(r):"0."+new Array(1-r).join("0")+Da(t,Math.max(0,n+r-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Po(t){return t}var Ma,No,Vo,Ro=Array.prototype.map,Bo=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function du(t){var n=t.domain;return t.ticks=function(e){var i=n();return function pd(t,n,e){if(!((e=+e)>0))return[];if((t=+t)==(n=+n))return[t];const i=n<t,[s,r,c]=i?wa(n,t,e):wa(t,n,e);if(!(r>=s))return[];const h=r-s+1,_=new Array(h);if(i)if(c<0)for(let f=0;f<h;++f)_[f]=(r-f)/-c;else for(let f=0;f<h;++f)_[f]=(r-f)*c;else if(c<0)for(let f=0;f<h;++f)_[f]=(s+f)/-c;else for(let f=0;f<h;++f)_[f]=(s+f)*c;return _}(i[0],i[i.length-1],e??10)},t.tickFormat=function(e,i){var s=n();return function cu(t,n,e,i){var r,s=Ja(t,n,e);switch((i=Ea(i??",f")).type){case"s":var c=Math.max(Math.abs(t),Math.abs(n));return null==i.precision&&!isNaN(r=function eu(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ss(n)/3)))-Ss(Math.abs(t)))}(s,c))&&(i.precision=r),Vo(i,c);case"":case"e":case"g":case"p":case"r":null==i.precision&&!isNaN(r=function ou(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Ss(n)-Ss(t))+1}(s,Math.max(Math.abs(t),Math.abs(n))))&&(i.precision=r-("e"===i.type));break;case"f":case"%":null==i.precision&&!isNaN(r=function lu(t){return Math.max(0,-Ss(Math.abs(t)))}(s))&&(i.precision=r-2*("%"===i.type))}return No(i)}(s[0],s[s.length-1],e??10,i)},t.nice=function(e){null==e&&(e=10);var _,f,i=n(),s=0,r=i.length-1,c=i[s],h=i[r],w=10;for(h<c&&(f=c,c=h,h=f,f=s,s=r,r=f);w-- >0;){if((f=qa(c,h,e))===_)return i[s]=c,i[r]=h,n(i);if(f>0)c=Math.floor(c/f)*f,h=Math.ceil(h/f)*f;else{if(!(f<0))break;c=Math.ceil(c*f)/f,h=Math.floor(h*f)/f}_=f}return t},t}function as(){var t=Eo();return t.copy=function(){return Lo(t,as())},aa.apply(t,arguments),du(t)}function $o(t,n,e){t=+t,n=+n,e=(s=arguments.length)<2?(n=t,t=0,1):s<3?1:+e;for(var i=-1,s=0|Math.max(0,Math.ceil((n-t)/e)),r=new Array(s);++i<s;)r[i]=t+i*e;return r}!function ru(t){Ma=function au(t){var n=void 0===t.grouping||void 0===t.thousands?Po:function tu(t,n){return function(e,i){for(var s=e.length,r=[],c=0,h=t[0],_=0;s>0&&h>0&&(_+h+1>i&&(h=Math.max(1,i-_)),r.push(e.substring(s-=h,s+h)),!((_+=h+1)>i));)h=t[c=(c+1)%t.length];return r.reverse().join(n)}}(Ro.call(t.grouping,Number),t.thousands+""),e=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",s=void 0===t.decimal?".":t.decimal+"",r=void 0===t.numerals?Po:function iu(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}(Ro.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",h=void 0===t.minus?"\u2212":t.minus+"",_=void 0===t.nan?"NaN":t.nan+"";function f(T){var D=(T=Ea(T)).fill,$=T.align,W=T.sign,me=T.symbol,R=T.zero,re=T.width,pe=T.comma,ie=T.precision,ve=T.trim,we=T.type;"n"===we?(pe=!0,we="g"):Oo[we]||(void 0===ie&&(ie=12),ve=!0,we="g"),(R||"0"===D&&"="===$)&&(R=!0,D="0",$="=");var ge="$"===me?e:"#"===me&&/[boxX]/.test(we)?"0"+we.toLowerCase():"",je="$"===me?i:/[%p]/.test(we)?c:"",We=Oo[we],Bt=/[defgprs%]/.test(we);function Ke(Te){var Ze,Jt,et,wt=ge,Ge=je;if("c"===we)Ge=We(Te)+Ge,Te="";else{var tt=(Te=+Te)<0||1/Te<0;if(Te=isNaN(Te)?_:We(Math.abs(Te),ie),ve&&(Te=function nu(t){e:for(var s,n=t.length,e=1,i=-1;e<n;++e)switch(t[e]){case".":i=s=e;break;case"0":0===i&&(i=e),s=e;break;default:if(!+t[e])break e;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(s+1):t}(Te)),tt&&0==+Te&&"+"!==W&&(tt=!1),wt=(tt?"("===W?W:h:"-"===W||"("===W?"":W)+wt,Ge=("s"===we?Bo[8+Fo/3]:"")+Ge+(tt&&"("===W?")":""),Bt)for(Ze=-1,Jt=Te.length;++Ze<Jt;)if(48>(et=Te.charCodeAt(Ze))||et>57){Ge=(46===et?s+Te.slice(Ze+1):Te.slice(Ze))+Ge,Te=Te.slice(0,Ze);break}}pe&&!R&&(Te=n(Te,1/0));var Nt=wt.length+Te.length+Ge.length,ze=Nt<re?new Array(re-Nt+1).join(D):"";switch(pe&&R&&(Te=n(ze+Te,ze.length?re-Ge.length:1/0),ze=""),$){case"<":Te=wt+Te+Ge+ze;break;case"=":Te=wt+ze+Te+Ge;break;case"^":Te=ze.slice(0,Nt=ze.length>>1)+wt+Te+Ge+ze.slice(Nt);break;default:Te=ze+wt+Te+Ge}return r(Te)}return ie=void 0===ie?6:/[gprs]/.test(we)?Math.max(1,Math.min(21,ie)):Math.max(0,Math.min(20,ie)),Ke.toString=function(){return T+""},Ke}return{format:f,formatPrefix:function w(T,D){var $=f(((T=Ea(T)).type="f",T)),W=3*Math.max(-8,Math.min(8,Math.floor(Ss(D)/3))),me=Math.pow(10,-W),R=Bo[8+W/3];return function(re){return $(me*re)+R}}}}(t),No=Ma.format,Vo=Ma.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});class Ho extends Map{constructor(n,e=Yo){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=n)for(const[i,s]of n)this.set(i,s)}get(n){return super.get(_r(this,n))}has(n){return super.has(_r(this,n))}set(n,e){return super.set(Go(this,n),e)}delete(n){return super.delete(zo(this,n))}}class Lf extends Set{constructor(n,e=Yo){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=n)for(const i of n)this.add(i)}has(n){return super.has(_r(this,n))}add(n){return super.add(Go(this,n))}delete(n){return super.delete(zo(this,n))}}function _r({_intern:t,_key:n},e){const i=n(e);return t.has(i)?t.get(i):e}function Go({_intern:t,_key:n},e){const i=n(e);return t.has(i)?t.get(i):(t.set(i,e),e)}function zo({_intern:t,_key:n},e){const i=n(e);return t.has(i)&&(e=t.get(i),t.delete(i)),e}function Yo(t){return null!==t&&"object"==typeof t?t.valueOf():t}const Uo=Symbol("implicit");function xr(){var t=new Ho,n=[],e=[],i=Uo;function s(r){let c=t.get(r);if(void 0===c){if(i!==Uo)return i;t.set(r,c=n.push(r)-1)}return e[c%e.length]}return s.domain=function(r){if(!arguments.length)return n.slice();n=[],t=new Ho;for(const c of r)t.has(c)||t.set(c,n.push(c)-1);return s},s.range=function(r){return arguments.length?(e=Array.from(r),s):e.slice()},s.unknown=function(r){return arguments.length?(i=r,s):i},s.copy=function(){return xr(n,e).unknown(i)},aa.apply(s,arguments),s}function vr(){var r,c,t=xr().unknown(void 0),n=t.domain,e=t.range,i=0,s=1,h=!1,_=0,f=0,w=.5;function T(){var D=n().length,$=s<i,W=$?s:i,me=$?i:s;r=(me-W)/Math.max(1,D-_+2*f),h&&(r=Math.floor(r)),W+=(me-W-r*(D-_))*w,c=r*(1-_),h&&(W=Math.round(W),c=Math.round(c));var R=$o(D).map(function(re){return W+r*re});return e($?R.reverse():R)}return delete t.unknown,t.domain=function(D){return arguments.length?(n(D),T()):n()},t.range=function(D){return arguments.length?([i,s]=D,i=+i,s=+s,T()):[i,s]},t.rangeRound=function(D){return[i,s]=D,i=+i,s=+s,h=!0,T()},t.bandwidth=function(){return c},t.step=function(){return r},t.round=function(D){return arguments.length?(h=!!D,T()):h},t.padding=function(D){return arguments.length?(_=Math.min(1,f=+D),T()):_},t.paddingInner=function(D){return arguments.length?(_=Math.min(1,D),T()):_},t.paddingOuter=function(D){return arguments.length?(f=+D,T()):f},t.align=function(D){return arguments.length?(w=Math.max(0,Math.min(1,D)),T()):w},t.copy=function(){return vr(n(),[i,s]).round(h).paddingInner(_).paddingOuter(f).align(w)},aa.apply(T(),arguments)}function Xo(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Xo(n())},t}function jo(){return Xo(vr.apply(null,arguments).paddingInner(1))}function hu(t,n,e=wo){if((i=t.length)&&!isNaN(n=+n)){if(n<=0||i<2)return+e(t[0],0,t);if(n>=1)return+e(t[i-1],i-1,t);var i,s=(i-1)*n,r=Math.floor(s),c=+e(t[r],r,t);return c+(+e(t[r+1],r+1,t)-c)*(s-r)}}function Wo(){var i,t=[],n=[],e=[];function s(){var c=0,h=Math.max(1,n.length);for(e=new Array(h-1);++c<h;)e[c-1]=hu(t,c/h);return r}function r(c){return null==c||isNaN(c=+c)?i:n[ko(e,c)]}return r.invertExtent=function(c){var h=n.indexOf(c);return h<0?[NaN,NaN]:[h>0?e[h-1]:t[0],h<e.length?e[h]:t[t.length-1]]},r.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let h of c)null!=h&&!isNaN(h=+h)&&t.push(h);return t.sort(Qs),s()},r.range=function(c){return arguments.length?(n=Array.from(c),s()):n.slice()},r.unknown=function(c){return arguments.length?(i=c,r):i},r.quantiles=function(){return e.slice()},r.copy=function(){return Wo().domain(t).range(n).unknown(i)},aa.apply(r,arguments)}function Zo(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Ct(t){return function(){return t}}function qo(t){this._context=t}function yr(t){return new qo(t)}qo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};const br=Math.PI,Tr=2*br,rs=1e-6,uu=Tr-rs;function Jo(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}class Fa{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==n?Jo:function mu(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return Jo;const e=10**n;return function(i){this._+=i[0];for(let s=1,r=i.length;s<r;++s)this._+=Math.round(arguments[s]*e)/e+i[s]}}(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,i,s){this._append`Q${+n},${+e},${this._x1=+i},${this._y1=+s}`}bezierCurveTo(n,e,i,s,r,c){this._append`C${+n},${+e},${+i},${+s},${this._x1=+r},${this._y1=+c}`}arcTo(n,e,i,s,r){if(n=+n,e=+e,i=+i,s=+s,(r=+r)<0)throw new Error(`negative radius: ${r}`);let c=this._x1,h=this._y1,_=i-n,f=s-e,w=c-n,T=h-e,D=w*w+T*T;if(null===this._x1)this._append`M${this._x1=n},${this._y1=e}`;else if(D>rs)if(Math.abs(T*_-f*w)>rs&&r){let $=i-c,W=s-h,me=_*_+f*f,R=$*$+W*W,re=Math.sqrt(me),pe=Math.sqrt(D),ie=r*Math.tan((br-Math.acos((me+D-R)/(2*re*pe)))/2),ve=ie/pe,we=ie/re;Math.abs(ve-1)>rs&&this._append`L${n+ve*w},${e+ve*T}`,this._append`A${r},${r},0,0,${+(T*$>w*W)},${this._x1=n+we*_},${this._y1=e+we*f}`}else this._append`L${this._x1=n},${this._y1=e}`}arc(n,e,i,s,r,c){if(n=+n,e=+e,c=!!c,(i=+i)<0)throw new Error(`negative radius: ${i}`);let h=i*Math.cos(s),_=i*Math.sin(s),f=n+h,w=e+_,T=1^c,D=c?s-r:r-s;null===this._x1?this._append`M${f},${w}`:(Math.abs(this._x1-f)>rs||Math.abs(this._y1-w)>rs)&&this._append`L${f},${w}`,i&&(D<0&&(D=D%Tr+Tr),D>uu?this._append`A${i},${i},0,1,${T},${n-h},${e-_}A${i},${i},0,1,${T},${this._x1=f},${this._y1=w}`:D>rs&&this._append`A${i},${i},0,${+(D>=br)},${T},${this._x1=n+i*Math.cos(r)},${this._y1=e+i*Math.sin(r)}`)}rect(n,e,i,s){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${i=+i}v${+s}h${-i}Z`}toString(){return this._}}function Qo(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(null==e)n=null;else{const i=Math.floor(e);if(!(i>=0))throw new RangeError(`invalid digits: ${e}`);n=i}return t},()=>new Fa(n)}function Ko(t){return t[0]}function el(t){return t[1]}function tl(t,n){var e=Ct(!0),i=null,s=yr,r=null,c=Qo(h);function h(_){var f,T,$,w=(_=Zo(_)).length,D=!1;for(null==i&&(r=s($=c())),f=0;f<=w;++f)!(f<w&&e(T=_[f],f,_))===D&&((D=!D)?r.lineStart():r.lineEnd()),D&&r.point(+t(T,f,_),+n(T,f,_));if($)return r=null,$+""||null}return t="function"==typeof t?t:void 0===t?Ko:Ct(t),n="function"==typeof n?n:void 0===n?el:Ct(n),h.x=function(_){return arguments.length?(t="function"==typeof _?_:Ct(+_),h):t},h.y=function(_){return arguments.length?(n="function"==typeof _?_:Ct(+_),h):n},h.defined=function(_){return arguments.length?(e="function"==typeof _?_:Ct(!!_),h):e},h.curve=function(_){return arguments.length?(s=_,null!=i&&(r=s(i)),h):s},h.context=function(_){return arguments.length?(null==_?i=r=null:r=s(i=_),h):i},h}function il(t,n,e){var i=null,s=Ct(!0),r=null,c=yr,h=null,_=Qo(f);function f(T){var D,$,W,R,pe,me=(T=Zo(T)).length,re=!1,ie=new Array(me),ve=new Array(me);for(null==r&&(h=c(pe=_())),D=0;D<=me;++D){if(!(D<me&&s(R=T[D],D,T))===re)if(re=!re)$=D,h.areaStart(),h.lineStart();else{for(h.lineEnd(),h.lineStart(),W=D-1;W>=$;--W)h.point(ie[W],ve[W]);h.lineEnd(),h.areaEnd()}re&&(ie[D]=+t(R,D,T),ve[D]=+n(R,D,T),h.point(i?+i(R,D,T):ie[D],e?+e(R,D,T):ve[D]))}if(pe)return h=null,pe+""||null}function w(){return tl().defined(s).curve(c).context(r)}return t="function"==typeof t?t:void 0===t?Ko:Ct(+t),n="function"==typeof n?n:Ct(void 0===n?0:+n),e="function"==typeof e?e:void 0===e?el:Ct(+e),f.x=function(T){return arguments.length?(t="function"==typeof T?T:Ct(+T),i=null,f):t},f.x0=function(T){return arguments.length?(t="function"==typeof T?T:Ct(+T),f):t},f.x1=function(T){return arguments.length?(i=null==T?null:"function"==typeof T?T:Ct(+T),f):i},f.y=function(T){return arguments.length?(n="function"==typeof T?T:Ct(+T),e=null,f):n},f.y0=function(T){return arguments.length?(n="function"==typeof T?T:Ct(+T),f):n},f.y1=function(T){return arguments.length?(e=null==T?null:"function"==typeof T?T:Ct(+T),f):e},f.lineX0=f.lineY0=function(){return w().x(t).y(n)},f.lineY1=function(){return w().x(t).y(e)},f.lineX1=function(){return w().x(i).y(n)},f.defined=function(T){return arguments.length?(s="function"==typeof T?T:Ct(!!T),f):s},f.curve=function(T){return arguments.length?(c=T,null!=r&&(h=c(r)),f):c},f.context=function(T){return arguments.length?(null==T?r=h=null:h=c(r=T),f):r},f}var gu=V(5126);const fu=["caretElm"];function _u(t,n){}const xu=function(t){return{model:t}};function vu(t,n){if(1&t&&(a.TgZ(0,"span"),a.YNc(1,_u,0,0,"ng-template",5),a.qZA()),2&t){const e=a.oxw();a.xp6(1),a.Q6J("ngTemplateOutlet",e.template)("ngTemplateOutletContext",a.VKq(2,xu,e.context))}}function yu(t,n){if(1&t&&a._UZ(0,"span",6),2&t){const e=a.oxw();a.Q6J("innerHTML",e.title,a.oJD)}}function bu(t,n){if(1&t&&(a.TgZ(0,"header",4)(1,"span",5),a._uU(2),a.qZA()()),2&t){const e=a.oxw();a.xp6(2),a.Oqu(e.title)}}function Tu(t,n){if(1&t){const e=a.EpF();a.TgZ(0,"li",6)(1,"ngx-charts-legend-entry",7),a.NdJ("select",function(s){a.CHM(e);const r=a.oxw();return a.KtG(r.labelClick.emit(s))})("activate",function(s){a.CHM(e);const r=a.oxw();return a.KtG(r.activate(s))})("deactivate",function(s){a.CHM(e);const r=a.oxw();return a.KtG(r.deactivate(s))}),a.qZA()()}if(2&t){const e=n.$implicit,i=a.oxw();a.xp6(1),a.Q6J("label",e.label)("formattedLabel",e.formattedLabel)("color",e.color)("isActive",i.isActive(e))}}function Cu(t,n){if(1&t&&(a.O4$(),a.kcU(),a._UZ(0,"ngx-charts-scale-legend",4)),2&t){const e=a.oxw();a.Q6J("horizontal",e.legendOptions&&e.legendOptions.position===e.LegendPosition.Below)("valueRange",e.legendOptions.domain)("colors",e.legendOptions.colors)("height",e.view[1])("width",e.legendWidth)}}function wu(t,n){if(1&t){const e=a.EpF();a.O4$(),a.kcU(),a.TgZ(0,"ngx-charts-legend",5),a.NdJ("labelClick",function(s){a.CHM(e);const r=a.oxw();return a.KtG(r.legendLabelClick.emit(s))})("labelActivate",function(s){a.CHM(e);const r=a.oxw();return a.KtG(r.legendLabelActivate.emit(s))})("labelDeactivate",function(s){a.CHM(e);const r=a.oxw();return a.KtG(r.legendLabelDeactivate.emit(s))}),a.qZA()}if(2&t){const e=a.oxw();a.Q6J("horizontal",e.legendOptions&&e.legendOptions.position===e.LegendPosition.Below)("data",e.legendOptions.domain)("title",e.legendOptions.title)("colors",e.legendOptions.colors)("height",e.view[1])("width",e.legendWidth)("activeEntries",e.activeEntries)}}const nl=["*"],Su=["ngx-charts-axis-label",""],sl=["ticksel"],ku=["ngx-charts-x-axis-ticks",""];function Au(t,n){1&t&&(a.O4$(),a.GkF(0))}function Lu(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"tspan",10),a._uU(1),a.qZA()),2&t){const e=n.$implicit;a.uIk("y",12*n.index),a.xp6(1),a.hij(" ",e," ")}}function Eu(t,n){if(1&t&&(a.O4$(),a.ynx(0),a.YNc(1,Lu,2,2,"tspan",9),a.BQk()),2&t){const e=n.ngIf;a.xp6(1),a.Q6J("ngForOf",e)}}function Du(t,n){if(1&t&&(a.O4$(),a.YNc(0,Eu,2,1,"ng-container",4)),2&t){const e=a.oxw(2).$implicit,i=a.oxw();a.Q6J("ngIf",i.tickChunks(e))}}function Mu(t,n){if(1&t&&(a.O4$(),a._uU(0)),2&t){const e=a.oxw().ngIf,i=a.oxw(2);a.hij(" ",i.tickTrim(e)," ")}}function Fu(t,n){if(1&t&&(a.O4$(),a.ynx(0),a.TgZ(1,"title"),a._uU(2),a.qZA(),a.TgZ(3,"text",5),a.YNc(4,Au,1,0,"ng-container",6),a.qZA(),a.YNc(5,Du,1,1,"ng-template",null,7,a.W1O),a.YNc(7,Mu,1,1,"ng-template",null,8,a.W1O),a.BQk()),2&t){const e=n.ngIf,i=a.MAs(6),s=a.MAs(8),r=a.oxw(2);a.xp6(2),a.Oqu(e),a.xp6(1),a.uIk("text-anchor",r.textAnchor)("transform",r.textTransform),a.xp6(1),a.Q6J("ngIf",r.isWrapTicksSupported)("ngIfThen",i)("ngIfElse",s)}}function Iu(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g",3),a.YNc(1,Fu,9,6,"ng-container",4),a.qZA()),2&t){const e=n.$implicit,i=a.oxw();a.uIk("transform",i.tickTransform(e)),a.xp6(1),a.Q6J("ngIf",i.tickFormat(e))}}function Ou(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g"),a._UZ(1,"line",11),a.qZA()),2&t){const e=a.oxw(2);a.uIk("transform",e.gridLineTransform()),a.xp6(1),a.uIk("y1",-e.gridLineHeight)}}function Pu(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g"),a.YNc(1,Ou,2,2,"g",4),a.qZA()),2&t){const e=n.$implicit,i=a.oxw();a.uIk("transform",i.tickTransform(e)),a.xp6(1),a.Q6J("ngIf",i.showGridLines)}}const Ru=["ngx-charts-x-axis",""];function Bu(t,n){if(1&t){const e=a.EpF();a.O4$(),a.TgZ(0,"g",2),a.NdJ("dimensionsChanged",function(s){a.CHM(e);const r=a.oxw();return a.KtG(r.emitTicksHeight(s))}),a.qZA()}if(2&t){const e=a.oxw();a.Q6J("trimTicks",e.trimTicks)("rotateTicks",e.rotateTicks)("maxTickLength",e.maxTickLength)("tickFormatting",e.tickFormatting)("tickArguments",e.tickArguments)("tickStroke",e.tickStroke)("scale",e.xScale)("orient",e.xOrient)("showGridLines",e.showGridLines)("gridLineHeight",e.dims.height)("width",e.dims.width)("tickValues",e.ticks)("wrapTicks",e.wrapTicks)}}function Nu(t,n){if(1&t&&(a.O4$(),a._UZ(0,"g",3)),2&t){const e=a.oxw();a.Q6J("label",e.labelText)("offset",e.labelOffset)("orient",e.orientation.Bottom)("height",e.dims.height)("width",e.dims.width)}}const Vu=["ngx-charts-y-axis-ticks",""];function $u(t,n){1&t&&(a.O4$(),a.GkF(0))}function Hu(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"tspan",12),a._uU(1),a.qZA()),2&t){const e=n.$implicit,i=n.index,s=a.oxw(6);a.uIk("y",i*(8+s.tickSpacing)),a.xp6(1),a.hij(" ",e," ")}}function Gu(t,n){if(1&t&&(a.O4$(),a.ynx(0),a.YNc(1,Hu,2,2,"tspan",11),a.BQk()),2&t){const e=a.oxw().ngIf;a.xp6(1),a.Q6J("ngForOf",e)}}function zu(t,n){if(1&t&&(a.O4$(),a.ynx(0),a.YNc(1,Gu,2,1,"ng-container",10),a.BQk()),2&t){const e=n.ngIf;a.oxw(2);const i=a.MAs(8);a.xp6(1),a.Q6J("ngIf",e.length>1)("ngIfElse",i)}}function Yu(t,n){if(1&t&&(a.O4$(),a.YNc(0,zu,2,2,"ng-container",5)),2&t){const e=a.oxw(2).$implicit,i=a.oxw();a.Q6J("ngIf",i.tickChunks(e))}}function Uu(t,n){if(1&t&&(a.O4$(),a._uU(0)),2&t){const e=a.oxw().ngIf,i=a.oxw(2);a.hij(" ",i.tickTrim(e)," ")}}function Xu(t,n){if(1&t&&(a.O4$(),a.ynx(0),a.TgZ(1,"title"),a._uU(2),a.qZA(),a.TgZ(3,"text",6),a.YNc(4,$u,1,0,"ng-container",7),a.qZA(),a.YNc(5,Yu,1,1,"ng-template",null,8,a.W1O),a.YNc(7,Uu,1,1,"ng-template",null,9,a.W1O),a.BQk()),2&t){const e=n.ngIf,i=a.MAs(6),s=a.MAs(8),r=a.oxw(2);a.xp6(2),a.Oqu(e),a.xp6(1),a.Udp("font-size","12px"),a.uIk("dy",r.dy)("x",r.x1)("y",r.y1)("text-anchor",r.textAnchor),a.xp6(1),a.Q6J("ngIf",r.wrapTicks)("ngIfThen",i)("ngIfElse",s)}}function ju(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g",4),a.YNc(1,Xu,9,10,"ng-container",5),a.qZA()),2&t){const e=n.$implicit,i=a.oxw();a.uIk("transform",i.transform(e)),a.xp6(1),a.Q6J("ngIf",i.tickFormat(e))}}function Wu(t,n){if(1&t&&(a.O4$(),a._UZ(0,"path",13)),2&t){const e=a.oxw();a.uIk("d",e.referenceAreaPath)("transform",e.gridLineTransform())}}function Zu(t,n){if(1&t&&(a.O4$(),a._UZ(0,"line",15)),2&t){const e=a.oxw(3);a.uIk("x2",e.gridLineWidth)}}function qu(t,n){if(1&t&&(a.O4$(),a._UZ(0,"line",15)),2&t){const e=a.oxw(3);a.uIk("x2",-e.gridLineWidth)}}function Ju(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g"),a.YNc(1,Zu,1,1,"line",14),a.YNc(2,qu,1,1,"line",14),a.qZA()),2&t){const e=a.oxw(2);a.uIk("transform",e.gridLineTransform()),a.xp6(1),a.Q6J("ngIf",e.orient===e.Orientation.Left),a.xp6(1),a.Q6J("ngIf",e.orient===e.Orientation.Right)}}function Qu(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g"),a.YNc(1,Ju,3,3,"g",5),a.qZA()),2&t){const e=n.$implicit,i=a.oxw();a.uIk("transform",i.transform(e)),a.xp6(1),a.Q6J("ngIf",i.showGridLines)}}function Ku(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g")(1,"title"),a._uU(2),a.qZA(),a.TgZ(3,"text",17),a._uU(4),a.qZA()()),2&t){const e=a.oxw(2).$implicit,i=a.oxw();a.xp6(2),a.Oqu(i.tickTrim(i.tickFormat(e.value))),a.xp6(1),a.uIk("dy",i.dy)("y",-6)("x",i.gridLineWidth)("text-anchor",i.textAnchor),a.xp6(1),a.hij(" ",e.name," ")}}function em(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g"),a._UZ(1,"line",16),a.YNc(2,Ku,5,6,"g",5),a.qZA()),2&t){const e=a.oxw().$implicit,i=a.oxw();a.uIk("transform",i.transform(e.value)),a.xp6(1),a.uIk("x2",i.gridLineWidth)("transform",i.gridLineTransform()),a.xp6(1),a.Q6J("ngIf",i.showRefLabels)}}function tm(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g"),a.YNc(1,em,3,4,"g",5),a.qZA()),2&t){const e=a.oxw();a.xp6(1),a.Q6J("ngIf",e.showRefLines)}}const im=["ngx-charts-y-axis",""];function nm(t,n){if(1&t){const e=a.EpF();a.O4$(),a.TgZ(0,"g",2),a.NdJ("dimensionsChanged",function(s){a.CHM(e);const r=a.oxw();return a.KtG(r.emitTicksWidth(s))}),a.qZA()}if(2&t){const e=a.oxw();a.Q6J("trimTicks",e.trimTicks)("maxTickLength",e.maxTickLength)("tickFormatting",e.tickFormatting)("tickArguments",e.tickArguments)("tickValues",e.ticks)("tickStroke",e.tickStroke)("scale",e.yScale)("orient",e.yOrient)("showGridLines",e.showGridLines)("gridLineWidth",e.dims.width)("referenceLines",e.referenceLines)("showRefLines",e.showRefLines)("showRefLabels",e.showRefLabels)("height",e.dims.height)("wrapTicks",e.wrapTicks)}}function sm(t,n){if(1&t&&(a.O4$(),a._UZ(0,"g",3)),2&t){const e=a.oxw();a.Q6J("label",e.labelText)("offset",e.labelOffset)("orient",e.yOrient)("height",e.dims.height)("width",e.dims.width)}}const am=["ngx-charts-svg-linear-gradient",""];function rm(t,n){if(1&t&&(a.O4$(),a._UZ(0,"stop")),2&t){const e=n.$implicit;a.Udp("stop-color",e.color)("stop-opacity",e.opacity),a.uIk("offset",e.offset+"%")}}const om=["ngx-charts-circle",""],lm=["ngx-charts-circle-series",""];function cm(t,n){if(1&t&&(a.O4$(),a._UZ(0,"rect",4)),2&t){const e=a.oxw(2);a.Q6J("@animationState","active"),a.uIk("x",e.circle.cx-e.circle.radius)("y",e.circle.cy)("width",2*e.circle.radius)("height",e.circle.height)("fill",e.gradientFill)}}function dm(t,n){if(1&t&&(a.O4$(),a._UZ(0,"rect",4)),2&t){const e=a.oxw(2);a.uIk("x",e.circle.cx-e.circle.radius)("y",e.circle.cy)("width",2*e.circle.radius)("height",e.circle.height)("fill",e.gradientFill)}}const hm=function(t){return{name:t}};function um(t,n){if(1&t){const e=a.EpF();a.O4$(),a.TgZ(0,"g")(1,"defs"),a._UZ(2,"g",1),a.qZA(),a.YNc(3,cm,1,6,"rect",2),a.YNc(4,dm,1,5,"rect",2),a.TgZ(5,"g",3),a.NdJ("select",function(){a.CHM(e);const s=a.oxw();return a.KtG(s.onClick(s.circle.data))})("activate",function(){a.CHM(e);const s=a.oxw();return a.KtG(s.activateCircle())})("deactivate",function(){a.CHM(e);const s=a.oxw();return a.KtG(s.deactivateCircle())}),a.qZA()()}if(2&t){const e=a.oxw();a.xp6(2),a.Q6J("orientation",e.barOrientation.Vertical)("name",e.gradientId)("stops",e.circle.gradientStops),a.xp6(1),a.Q6J("ngIf",!e.isSSR&&e.barVisible&&"standard"===e.type),a.xp6(1),a.Q6J("ngIf",e.isSSR&&e.barVisible&&"standard"===e.type),a.xp6(1),a.ekj("active",e.isActive(a.VKq(20,hm,e.circle.seriesName))),a.Q6J("cx",e.circle.cx)("cy",e.circle.cy)("r",e.circle.radius)("fill",e.circle.color)("pointerEvents",0===e.circle.value?"none":"all")("data",e.circle.value)("classNames",e.circle.classNames)("tooltipDisabled",e.tooltipDisabled)("tooltipPlacement",e.placementTypes.Top)("tooltipType",e.styleTypes.tooltip)("tooltipTitle",e.tooltipTemplate?void 0:e.getTooltipText(e.circle))("tooltipTemplate",e.tooltipTemplate)("tooltipContext",e.circle.data)}}const xm=["ngx-charts-area",""];function vm(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"defs"),a._UZ(1,"g",2),a.qZA()),2&t){const e=a.oxw();a.xp6(1),a.Q6J("orientation",e.barOrientation.Vertical)("name",e.gradientId)("stops",e.gradientStops)}}const bm=["tooltipAnchor"],Tm=["ngx-charts-tooltip-area",""];function Cm(t,n){if(1&t&&(a.TgZ(0,"div",6),a._UZ(1,"span",7),a._uU(2),a.qZA()),2&t){const e=n.$implicit,i=a.oxw(2);a.xp6(1),a.Udp("background-color",e.color),a.xp6(1),a.hij(" ",i.getToolTipText(e)," ")}}function wm(t,n){if(1&t&&(a.O4$(),a.kcU(),a.TgZ(0,"div",4),a.YNc(1,Cm,3,3,"div",5),a.qZA()),2&t){const e=n.model;a.xp6(1),a.Q6J("ngForOf",e)}}const Sm=["ngx-charts-timeline",""],Im=["tooltipTemplate"],Om=["seriesTooltipTemplate"],ra=function(t,n){return[t,n]},cp=["ngx-charts-line",""];function dp(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g"),a._UZ(1,"path",1),a.qZA()),2&t){const e=a.oxw();a.xp6(1),a.Q6J("@animationState","active"),a.uIk("d",e.initialPath)("fill",e.fill)("stroke",e.stroke)}}function hp(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g"),a._UZ(1,"path",1),a.qZA()),2&t){const e=a.oxw();a.xp6(1),a.uIk("d",e.initialPath)("fill",e.fill)("stroke",e.stroke)}}const up=["ngx-charts-line-series",""];function mp(t,n){if(1&t&&(a.O4$(),a._UZ(0,"g",4)),2&t){const e=a.oxw();a.Q6J("orientation",e.barOrientation.Vertical)("name",e.gradientId)("stops",e.gradientStops)}}function pp(t,n){if(1&t&&(a.O4$(),a._UZ(0,"g",5)),2&t){const e=a.oxw();a.ekj("active",e.isActive(e.data))("inactive",e.isInactive(e.data)),a.Q6J("data",e.data)("path",e.outerPath)("fill",e.hasGradient?e.gradientUrl:e.colors.getColor(e.data.name))("opacity",e.rangeFillOpacity)("animations",e.animations)}}function gp(t,n){if(1&t){const e=a.EpF();a.O4$(),a.TgZ(0,"g",7),a.NdJ("dimensionsChanged",function(s){a.CHM(e);const r=a.oxw();return a.KtG(r.updateXAxisHeight(s))}),a.qZA()}if(2&t){const e=a.oxw();a.Q6J("xScale",e.xScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showXAxisLabel)("labelText",e.xAxisLabel)("trimTicks",e.trimXAxisTicks)("rotateTicks",e.rotateXAxisTicks)("maxTickLength",e.maxXAxisTickLength)("tickFormatting",e.xAxisTickFormatting)("ticks",e.xAxisTicks)("wrapTicks",e.wrapTicks)}}function fp(t,n){if(1&t){const e=a.EpF();a.O4$(),a.TgZ(0,"g",8),a.NdJ("dimensionsChanged",function(s){a.CHM(e);const r=a.oxw();return a.KtG(r.updateYAxisWidth(s))}),a.qZA()}if(2&t){const e=a.oxw();a.Q6J("yScale",e.yScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showYAxisLabel)("labelText",e.yAxisLabel)("trimTicks",e.trimYAxisTicks)("maxTickLength",e.maxYAxisTickLength)("tickFormatting",e.yAxisTickFormatting)("ticks",e.yAxisTicks)("referenceLines",e.referenceLines)("showRefLines",e.showRefLines)("showRefLabels",e.showRefLabels)("wrapTicks",e.wrapTicks)}}function _p(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g"),a._UZ(1,"g",10),a.qZA()),2&t){const e=n.$implicit,i=a.oxw(2);a.Q6J("@animationState","active"),a.xp6(1),a.Q6J("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",e)("activeEntries",i.activeEntries)("scaleType",i.scaleType)("curve",i.curve)("rangeFillOpacity",i.rangeFillOpacity)("hasRange",i.hasRange)("animations",i.animations)}}function xp(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g"),a.YNc(1,_p,2,11,"g",9),a.qZA()),2&t){const e=a.oxw();a.xp6(1),a.Q6J("ngForOf",e.results)("ngForTrackBy",e.trackBy)}}function vp(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g"),a._UZ(1,"g",10),a.qZA()),2&t){const e=n.$implicit,i=a.oxw(2);a.xp6(1),a.Q6J("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",e)("activeEntries",i.activeEntries)("scaleType",i.scaleType)("curve",i.curve)("rangeFillOpacity",i.rangeFillOpacity)("hasRange",i.hasRange)("animations",i.animations)}}function yp(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g"),a.YNc(1,vp,2,10,"g",9),a.qZA()),2&t){const e=a.oxw();a.xp6(1),a.Q6J("ngForOf",e.results)("ngForTrackBy",e.trackBy)}}function bp(t,n){if(1&t){const e=a.EpF();a.O4$(),a.TgZ(0,"g")(1,"g",14),a.NdJ("select",function(s){a.CHM(e);const r=a.oxw(2);return a.KtG(r.onClick(s))})("activate",function(s){a.CHM(e);const r=a.oxw(2);return a.KtG(r.onActivate(s))})("deactivate",function(s){a.CHM(e);const r=a.oxw(2);return a.KtG(r.onDeactivate(s))}),a.qZA()()}if(2&t){const e=n.$implicit,i=a.oxw(2);a.xp6(1),a.Q6J("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",e)("scaleType",i.scaleType)("visibleValue",i.hoveredVertical)("activeEntries",i.activeEntries)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.tooltipTemplate)}}function Tp(t,n){if(1&t){const e=a.EpF();a.O4$(),a.TgZ(0,"g",11),a.NdJ("mouseleave",function(){a.CHM(e);const s=a.oxw();return a.KtG(s.hideCircles())}),a.TgZ(1,"g",12),a.NdJ("hover",function(s){a.CHM(e);const r=a.oxw();return a.KtG(r.updateHoveredVertical(s))}),a.qZA(),a.YNc(2,bp,2,9,"g",13),a.qZA()}if(2&t){const e=a.oxw();a.xp6(1),a.Q6J("dims",e.dims)("xSet",e.xSet)("xScale",e.xScale)("yScale",e.yScale)("results",e.results)("colors",e.colors)("tooltipDisabled",e.tooltipDisabled)("tooltipTemplate",e.seriesTooltipTemplate),a.xp6(1),a.Q6J("ngForOf",e.results)}}function Cp(t,n){if(1&t&&(a.O4$(),a.TgZ(0,"g"),a._UZ(1,"g",16),a.qZA()),2&t){const e=n.$implicit,i=a.oxw(2);a.xp6(1),a.Q6J("xScale",i.timelineXScale)("yScale",i.timelineYScale)("colors",i.colors)("data",e)("scaleType",i.scaleType)("curve",i.curve)("hasRange",i.hasRange)("animations",i.animations)}}function wp(t,n){if(1&t){const e=a.EpF();a.O4$(),a.TgZ(0,"g",15),a.NdJ("onDomainChange",function(s){a.CHM(e);const r=a.oxw();return a.KtG(r.updateDomain(s))}),a.YNc(1,Cp,2,8,"g",9),a.qZA()}if(2&t){const e=a.oxw();a.Q6J("results",e.results)("view",a.WLB(10,ra,e.timelineWidth,e.height))("height",e.timelineHeight)("scheme",e.scheme)("customColors",e.customColors)("scaleType",e.scaleType)("legend",e.legend),a.uIk("transform",e.timelineTransform),a.xp6(1),a.Q6J("ngForOf",e.results)("ngForTrackBy",e.trackBy)}}function Np(t,n,e){e=e||{};let i,s,r,c=null,h=0;function _(){h=!1===e.leading?0:+new Date,c=null,r=t.apply(i,s)}return function(){const f=+new Date;!h&&!1===e.leading&&(h=f);const w=n-(f-h);return i=this,s=arguments,w<=0?(clearTimeout(c),c=null,h=f,r=t.apply(i,s)):!c&&!1!==e.trailing&&(c=setTimeout(_,w)),r}}function Vp(t,n){return function(i,s,r){return{configurable:!0,enumerable:r.enumerable,get:function(){return Object.defineProperty(this,s,{configurable:!0,enumerable:r.enumerable,value:Np(r.value,t,n)}),this[s]}}}}var Oe=(()=>{return(t=Oe||(Oe={})).Top="top",t.Bottom="bottom",t.Left="left",t.Right="right",t.Center="center",Oe;var t})();const Dn=7;function al(t,n,e){return e===Oe.Top?t.top-Dn:e===Oe.Bottom?t.top+t.height-n.height+Dn:e===Oe.Center?t.top+t.height/2-n.height/2:void 0}function rl(t,n,e){return e===Oe.Left?t.left-Dn:e===Oe.Right?t.left+t.width-n.width+Dn:e===Oe.Center?t.left+t.width/2-n.width/2:void 0}class Zt{static calculateVerticalAlignment(n,e,i){let s=al(n,e,i);return s+e.height>window.innerHeight&&(s=window.innerHeight-e.height),s}static calculateVerticalCaret(n,e,i,s){let r;s===Oe.Top&&(r=n.height/2-i.height/2+Dn),s===Oe.Bottom&&(r=e.height-n.height/2-i.height/2-Dn),s===Oe.Center&&(r=e.height/2-i.height/2);const c=al(n,e,s);return c+e.height>window.innerHeight&&(r+=c+e.height-window.innerHeight),r}static calculateHorizontalAlignment(n,e,i){let s=rl(n,e,i);return s+e.width>window.innerWidth&&(s=window.innerWidth-e.width),s}static calculateHorizontalCaret(n,e,i,s){let r;s===Oe.Left&&(r=n.width/2-i.width/2+Dn),s===Oe.Right&&(r=e.width-n.width/2-i.width/2-Dn),s===Oe.Center&&(r=e.width/2-i.width/2);const c=rl(n,e,s);return c+e.width>window.innerWidth&&(r+=c+e.width-window.innerWidth),r}static shouldFlip(n,e,i,s){let r=!1;return i===Oe.Right&&n.left+n.width+e.width+s>window.innerWidth&&(r=!0),i===Oe.Left&&n.left-e.width-s<0&&(r=!0),i===Oe.Top&&n.top-e.height-s<0&&(r=!0),i===Oe.Bottom&&n.top+n.height+e.height+s>window.innerHeight&&(r=!0),r}static positionCaret(n,e,i,s,r){let c=0,h=0;return n===Oe.Right?(h=-7,c=Zt.calculateVerticalCaret(i,e,s,r)):n===Oe.Left?(h=e.width,c=Zt.calculateVerticalCaret(i,e,s,r)):n===Oe.Top?(c=e.height,h=Zt.calculateHorizontalCaret(i,e,s,r)):n===Oe.Bottom&&(c=-7,h=Zt.calculateHorizontalCaret(i,e,s,r)),{top:c,left:h}}static positionContent(n,e,i,s,r){let c=0,h=0;return n===Oe.Right?(h=i.left+i.width+s,c=Zt.calculateVerticalAlignment(i,e,r)):n===Oe.Left?(h=i.left-e.width-s,c=Zt.calculateVerticalAlignment(i,e,r)):n===Oe.Top?(c=i.top-e.height-s,h=Zt.calculateHorizontalAlignment(i,e,r)):n===Oe.Bottom&&(c=i.top+i.height+s,h=Zt.calculateHorizontalAlignment(i,e,r)),{top:c,left:h}}static determinePlacement(n,e,i,s){if(Zt.shouldFlip(i,e,n,s)){if(n===Oe.Right)return Oe.Left;if(n===Oe.Left)return Oe.Right;if(n===Oe.Top)return Oe.Bottom;if(n===Oe.Bottom)return Oe.Top}return n}}let $p=(()=>{class t{constructor(e,i,s){this.element=e,this.renderer=i,this.platformId=s}get cssClasses(){let e="ngx-charts-tooltip-content";return e+=` position-${this.placement}`,e+=` type-${this.type}`,e+=` ${this.cssClass}`,e}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!(0,H.NF)(this.platformId))return;const e=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;const s=e.getBoundingClientRect();this.checkFlip(i,s),this.positionContent(e,i,s),this.showCaret&&this.positionCaret(i,s),setTimeout(()=>this.renderer.addClass(e,"animate"),1)}positionContent(e,i,s){const{top:r,left:c}=Zt.positionContent(this.placement,s,i,this.spacing,this.alignment);this.renderer.setStyle(e,"top",`${r}px`),this.renderer.setStyle(e,"left",`${c}px`)}positionCaret(e,i){const s=this.caretElm.nativeElement,r=s.getBoundingClientRect(),{top:c,left:h}=Zt.positionCaret(this.placement,i,e,r,this.alignment);this.renderer.setStyle(s,"top",`${c}px`),this.renderer.setStyle(s,"left",`${h}px`)}checkFlip(e,i){this.placement=Zt.determinePlacement(this.placement,i,e,this.spacing)}onWindowResize(){this.position()}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.Lbi))},t.\u0275cmp=a.Xpm({type:t,selectors:[["ngx-tooltip-content"]],viewQuery:function(e,i){if(1&e&&a.Gf(fu,5),2&e){let s;a.iGM(s=a.CRH())&&(i.caretElm=s.first)}},hostVars:2,hostBindings:function(e,i){1&e&&a.NdJ("resize",function(){return i.onWindowResize()},!1,a.Jf7),2&e&&a.Tol(i.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(e,i){1&e&&(a.TgZ(0,"div"),a._UZ(1,"span",0,1),a.TgZ(3,"div",2),a.YNc(4,vu,2,4,"span",3),a.YNc(5,yu,1,1,"span",4),a.qZA()()),2&e&&(a.xp6(1),a.Gre("tooltip-caret position-",i.placement,""),a.Q6J("hidden",!i.showCaret),a.xp6(3),a.Q6J("ngIf",!i.title),a.xp6(1),a.Q6J("ngIf",i.title))},dependencies:[H.O5,H.tP],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\n"],encapsulation:2}),(0,ne.gn)([Vp(100)],t.prototype,"onWindowResize",null),t})();class Hp{constructor(n){this.injectionService=n,this.defaults={},this.components=new Map}getByType(n=this.type){return this.components.get(n)}create(n){return this.createByType(this.type,n)}createByType(n,e){e=this.assignDefaults(e);const i=this.injectComponent(n,e);return this.register(n,i),i}destroy(n){const e=this.components.get(n.componentType);if(e&&e.length){const i=e.indexOf(n);i>-1&&(e[i].destroy(),e.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(n){const e=this.components.get(n);if(e&&e.length){let i=e.length-1;for(;i>=0;)this.destroy(e[i--])}}injectComponent(n,e){return this.injectionService.appendComponent(n,e)}assignDefaults(n){const e={...this.defaults.inputs},i={...this.defaults.outputs};return!n.inputs&&!n.outputs&&(n={inputs:n}),e&&(n.inputs={...e,...n.inputs}),i&&(n.outputs={...i,...n.outputs}),n}register(n,e){this.components.has(n)||this.components.set(n,[]),this.components.get(n).push(e)}}let ol=(()=>{class t{constructor(e,i,s){this.applicationRef=e,this.componentFactoryResolver=i,this.injector=s}static setGlobalRootViewContainer(e){t.globalRootViewContainer=e}getRootViewContainer(){if(this._container)return this._container;if(t.globalRootViewContainer)return t.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(e){this._container=e}getComponentRootNode(e){return function Gp(t){return t.element}(e)?e.element.nativeElement:e.hostView&&e.hostView.rootNodes.length>0?e.hostView.rootNodes[0]:e.location.nativeElement}getRootViewContainerNode(e){return this.getComponentRootNode(e)}projectComponentBindings(e,i){if(i){if(void 0!==i.inputs){const s=Object.getOwnPropertyNames(i.inputs);for(const r of s)e.instance[r]=i.inputs[r]}if(void 0!==i.outputs){const s=Object.getOwnPropertyNames(i.outputs);for(const r of s)e.instance[r]=i.outputs[r]}}return e}appendComponent(e,i={},s){s||(s=this.getRootViewContainer());const r=this.getComponentRootNode(s),c=new qe(r,this.componentFactoryResolver,this.applicationRef,this.injector),h=new K(e),_=c.attach(h);return this.projectComponentBindings(_,i),_}}return t.globalRootViewContainer=null,t.\u0275fac=function(e){return new(e||t)(a.LFG(a.z2F),a.LFG(a._Vd),a.LFG(a.zs3))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac}),t})(),Cr=(()=>{class t extends Hp{constructor(e){super(e),this.type=$p}}return t.\u0275fac=function(e){return new(e||t)(a.LFG(ol))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac}),t})();var rn=(()=>{return(t=rn||(rn={})).Right="right",t.Below="below",rn;var t})(),os=(()=>{return(t=os||(os={})).ScaleLegend="scaleLegend",t.Legend="legend",os;var t})(),de=(()=>{return(t=de||(de={})).Time="time",t.Linear="linear",t.Ordinal="ordinal",t.Quantile="quantile",de;var t})();let ll=(()=>{class t{constructor(){this.horizontal=!1}ngOnChanges(e){const i=this.gradientString(this.colors.range(),this.colors.domain());this.gradient=`linear-gradient(to ${this.horizontal?"right":"bottom"}, ${i})`}gradientString(e,i){i.push(1);const s=[];return e.reverse().forEach((r,c)=>{s.push(`${r} ${Math.round(100*i[c])}%`)}),s.join(", ")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["ngx-charts-scale-legend"]],inputs:{valueRange:"valueRange",colors:"colors",height:"height",width:"width",horizontal:"horizontal"},features:[a.TTD],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0)(1,"div",1)(2,"span"),a._uU(3),a.qZA()(),a._UZ(4,"div",2),a.TgZ(5,"div",1)(6,"span"),a._uU(7),a.qZA()()()),2&e&&(a.Udp("height",i.horizontal?void 0:i.height,"px")("width",i.width,"px"),a.ekj("horizontal-legend",i.horizontal),a.xp6(3),a.Oqu(i.valueRange[1].toLocaleString()),a.xp6(1),a.Udp("background",i.gradient),a.xp6(3),a.Oqu(i.valueRange[0].toLocaleString()))},styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}\n"],encapsulation:2,changeDetection:0}),t})();function wr(t){return t instanceof Date?t.toLocaleDateString():t.toLocaleString()}function cl(t){return t.toLocaleString().replace(/[&'`"<>]/g,n=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"}[n]))}let dl=(()=>{class t{constructor(){this.isActive=!1,this.select=new a.vpe,this.activate=new a.vpe,this.deactivate=new a.vpe,this.toggle=new a.vpe}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(e,i){1&e&&a.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{color:"color",label:"label",formattedLabel:"formattedLabel",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},decls:4,vars:6,consts:[["tabindex","-1",3,"title","click"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(e,i){1&e&&(a.TgZ(0,"span",0),a.NdJ("click",function(){return i.select.emit(i.formattedLabel)}),a.TgZ(1,"span",1),a.NdJ("click",function(){return i.toggle.emit(i.formattedLabel)}),a.qZA(),a.TgZ(2,"span",2),a._uU(3),a.qZA()()),2&e&&(a.ekj("active",i.isActive),a.Q6J("title",i.formattedLabel),a.xp6(1),a.Udp("background-color",i.color),a.xp6(2),a.hij(" ",i.trimmedLabel," "))},encapsulation:2,changeDetection:0}),t})(),hl=(()=>{class t{constructor(e){this.cd=e,this.horizontal=!1,this.labelClick=new a.vpe,this.labelActivate=new a.vpe,this.labelDeactivate=new a.vpe,this.legendEntries=[]}ngOnChanges(e){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){const e=[];for(const i of this.data){const s=wr(i);-1===e.findIndex(c=>c.label===s)&&e.push({label:i,formattedLabel:s,color:this.colors.getColor(i)})}return e}isActive(e){return!!this.activeEntries&&void 0!==this.activeEntries.find(s=>e.label===s.name)}activate(e){this.labelActivate.emit(e)}deactivate(e){this.labelDeactivate.emit(e)}trackBy(e,i){return i.label}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.sBO))},t.\u0275cmp=a.Xpm({type:t,selectors:[["ngx-charts-legend"]],inputs:{data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries",horizontal:"horizontal"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},features:[a.TTD],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"label","formattedLabel","color","isActive","select","activate","deactivate"]],template:function(e,i){1&e&&(a.TgZ(0,"div"),a.YNc(1,bu,3,1,"header",0),a.TgZ(2,"div",1)(3,"ul",2),a.YNc(4,Tu,2,4,"li",3),a.qZA()()()),2&e&&(a.Udp("width",i.width,"px"),a.xp6(1),a.Q6J("ngIf",(null==i.title?null:i.title.length)>0),a.xp6(2),a.Udp("max-height",i.height-45,"px"),a.ekj("horizontal-legend",i.horizontal),a.xp6(1),a.Q6J("ngForOf",i.legendEntries)("ngForTrackBy",i.trackBy))},dependencies:[dl,H.O5,H.sg],styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend ul,.chart-legend li{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:rgba(0,0,0,.05)}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),t})(),ul=(()=>{class t{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new a.vpe,this.legendLabelActivate=new a.vpe,this.legendLabelDeactivate=new a.vpe,this.LegendPosition=rn,this.LegendType=os}ngOnChanges(e){this.update()}update(){let e=0;this.showLegend&&(this.legendType=this.getLegendType(),(!this.legendOptions||this.legendOptions.position===rn.Right)&&(e=this.legendType===os.ScaleLegend?1:2)),this.chartWidth=Math.floor(this.view[0]*(12-e)/12),this.legendWidth=this.legendOptions&&this.legendOptions.position!==rn.Right?this.chartWidth:Math.floor(this.view[0]*e/12)}getLegendType(){return this.legendOptions.scaleType===de.Linear?os.ScaleLegend:os.Legend}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["ngx-charts-chart"]],inputs:{view:"view",showLegend:"showLegend",legendOptions:"legendOptions",legendType:"legendType",activeEntries:"activeEntries",animations:"animations"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},features:[a._Bn([Cr]),a.TTD],ngContentSelectors:nl,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate"]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"div",0),a.O4$(),a.TgZ(1,"svg",1),a.Hsn(2),a.qZA(),a.YNc(3,Cu,1,5,"ngx-charts-scale-legend",2),a.YNc(4,wu,1,7,"ngx-charts-legend",3),a.qZA()),2&e&&(a.Udp("width",i.view[0],"px")("height",i.view[1],"px"),a.xp6(1),a.uIk("width",i.chartWidth)("height",i.view[1]),a.xp6(2),a.Q6J("ngIf",i.showLegend&&i.legendType===i.LegendType.ScaleLegend),a.xp6(1),a.Q6J("ngIf",i.showLegend&&i.legendType===i.LegendType.Legend))},dependencies:[ll,hl,H.O5],encapsulation:2,changeDetection:0}),t})(),zp=(()=>{class t{constructor(e,i){this.element=e,this.zone=i,this.visible=new a.vpe,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const e=()=>{if(!this.element)return;const{offsetHeight:i,offsetWidth:s}=this.element.nativeElement;i&&s?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e())})}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq),a.Y36(a.R0b))},t.\u0275dir=a.lG2({type:t,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),t})();function ml(t){return"[object Date]"===toString.call(t)}let pl=(()=>{class t{constructor(e,i,s,r){this.chartElement=e,this.zone=i,this.cd=s,this.platformId=r,this.scheme="cool",this.schemeType=de.Ordinal,this.animations=!0,this.select=new a.vpe}ngOnInit(){(0,H.PM)(this.platformId)&&(this.animations=!1)}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new zp(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(e){this.update()}update(){if(this.results=this.results?this.cloneData(this.results):[],this.view)this.width=this.view[0],this.height=this.view[1];else{const e=this.getContainerDims();e&&(this.width=e.width,this.height=e.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let e,i;const s=this.chartElement.nativeElement;if((0,H.NF)(this.platformId)&&null!==s.parentNode){const r=s.parentNode.getBoundingClientRect();e=r.width,i=r.height}return e&&i?{width:e,height:i}:null}formatDates(){for(let e=0;e<this.results.length;e++){const i=this.results[e];if(i.label=i.name,ml(i.label)&&(i.label=i.label.toLocaleDateString()),i.series)for(let s=0;s<i.series.length;s++){const r=i.series[s];r.label=r.name,ml(r.label)&&(r.label=r.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){if(!(0,H.NF)(this.platformId))return;const i=(0,Ue.R)(window,"resize").pipe((0,at.b)(200)).subscribe(s=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=i}cloneData(e){const i=[];for(const s of e){const r={};if(void 0!==s.name&&(r.name=s.name),void 0!==s.value&&(r.value=s.value),void 0!==s.series){r.series=[];for(const c of s.series){const h=Object.assign({},c);r.series.push(h)}}void 0!==s.extra&&(r.extra=JSON.parse(JSON.stringify(s.extra))),void 0!==s.source&&(r.source=s.source),void 0!==s.target&&(r.target=s.target),i.push(r)}return i}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(a.sBO),a.Y36(a.Lbi))},t.\u0275cmp=a.Xpm({type:t,selectors:[["base-chart"]],inputs:{results:"results",view:"view",scheme:"scheme",schemeType:"schemeType",customColors:"customColors",animations:"animations"},outputs:{select:"select"},features:[a.TTD],decls:1,vars:0,template:function(e,i){1&e&&a._UZ(0,"div")},encapsulation:2}),t})();var _t=(()=>{return(t=_t||(_t={})).Top="top",t.Bottom="bottom",t.Left="left",t.Right="right",_t;var t})();let gl=(()=>{class t{constructor(e){this.textHeight=25,this.margin=5,this.element=e.nativeElement}ngOnChanges(e){this.update()}update(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case _t.Top:case _t.Bottom:this.y=this.offset,this.x=this.width/2;break;case _t.Left:this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case _t.Right:this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)"}}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq))},t.\u0275cmp=a.Xpm({type:t,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},features:[a.TTD],attrs:Su,decls:2,vars:6,template:function(e,i){1&e&&(a.O4$(),a.TgZ(0,"text"),a._uU(1),a.qZA()),2&e&&(a.uIk("stroke-width",i.strokeWidth)("x",i.x)("y",i.y)("text-anchor",i.textAnchor)("transform",i.transform),a.xp6(1),a.hij(" ",i.label," "))},encapsulation:2,changeDetection:0}),t})();function Sr(t,n=16){return"string"!=typeof t?"number"==typeof t?t+"":"":(t=t.trim()).length<=n?t:`${t.slice(0,n)}...`}function fl(t,n){if(t.length>n){const e=[],i=Math.floor(t.length/n);for(let s=0;s<t.length;s++)s%i==0&&e.push(t[s]);t=e}return t}function _l(t,n,e){const i=(t||"").toString();let s=[];if(/\s/.test(i))s=i.split(/\s+/).reduce((r,c)=>{const h=(r.pop()||"")+" ";return h.length+c.length>n?[...r,h.trim(),c.trim()]:[...r,h+c]},[]);else{let r=0;for(;r<i.length;)s.push(i.substring(r,r+n)),r+=n}return s.length>e&&(s=s.splice(0,e),s[s.length-1]+="..."),s}var ki=(()=>{return(t=ki||(ki={})).Start="start",t.Middle="middle",t.End="end",ki;var t})();let xl=(()=>{class t{constructor(e){this.platformId=e,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.wrapTicks=!1,this.dimensionsChanged=new a.vpe,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor=ki.Middle,this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0,this.approxHeight=10,this.maxPossibleLengthForTickIfWrapped=16}get isWrapTicksSupported(){return this.wrapTicks&&this.scale.step}ngOnChanges(e){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!(0,H.NF)(this.platformId))return void this.dimensionsChanged.emit({height:this.approxHeight});const e=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);e!==this.height&&(this.height=e,this.dimensionsChanged.emit({height:this.height}),setTimeout(()=>this.updateDims()))}update(){const e=this.scale;this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:e.tickFormat?e.tickFormat.apply(e,this.tickArguments):function(s){return"Date"===s.constructor.name?s.toLocaleDateString():s.toLocaleString()};const i=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.adjustedScale=this.scale.bandwidth?function(s){return this.scale(s)+.5*this.scale.bandwidth()}:this.scale,this.textTransform="",i&&0!==i?(this.textTransform=`rotate(${i})`,this.textAnchor=ki.End,this.verticalSpacing=10):this.textAnchor=ki.Middle,setTimeout(()=>this.updateDims())}getRotationAngle(e){let i=0;this.maxTicksLength=0;for(let T=0;T<e.length;T++){const D=this.tickFormat(e[T]).toString();let $=D.length;this.trimTicks&&($=this.tickTrim(D).length),$>this.maxTicksLength&&(this.maxTicksLength=$)}const c=7*Math.min(this.maxTicksLength,this.maxAllowedLength);let h=c;const _=Math.floor(this.width/e.length);for(;h>_&&i>-90;)i-=30,h=Math.cos(i*(Math.PI/180))*c;let f=14;if(this.isWrapTicksSupported){const T=this.ticks.reduce(($,W)=>W.length>$.length?W:$,"");f=14*(this.tickChunks(T).length||1),this.maxPossibleLengthForTickIfWrapped=this.getMaxPossibleLengthForTick(T)}const w=0!==i?Math.max(Math.abs(Math.sin(i*Math.PI/180))*this.maxTickLength*7,10):f;return this.approxHeight=Math.min(w,200),i}getTicks(){let e;const i=this.getMaxTicks(20),s=this.getMaxTicks(100);return this.tickValues?e=this.tickValues:this.scale.ticks?e=this.scale.ticks.apply(this.scale,[s]):(e=this.scale.domain(),e=fl(e,i)),e}getMaxTicks(e){return Math.floor(this.width/e)}tickTransform(e){return"translate("+this.adjustedScale(e)+","+this.verticalSpacing+")"}gridLineTransform(){return`translate(0,${-this.verticalSpacing-5})`}tickTrim(e){return this.trimTicks?Sr(e,this.maxTickLength):e}getMaxPossibleLengthForTick(e){if(this.scale.bandwidth){const s=Math.floor(this.scale.bandwidth()/7),r=e.slice(0,s);return Math.max(r.length,this.maxTickLength)}return this.maxTickLength}tickChunks(e){if(e.toString().length>this.maxTickLength&&this.scale.bandwidth){let s=this.rotateTicks?Math.floor(this.scale.step()/14):5;if(s<=1)return[this.tickTrim(e)];let r=Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength);return(0,H.NF)(this.platformId)||(r=Math.floor(Math.min(this.approxHeight/5,Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength)))),s=Math.min(s,5),_l(e,r,s<1?1:s)}return[this.tickTrim(e)]}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.Lbi))},t.\u0275cmp=a.Xpm({type:t,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(e,i){if(1&e&&a.Gf(sl,5),2&e){let s;a.iGM(s=a.CRH())&&(i.ticksElement=s.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineHeight:"gridLineHeight",width:"width",rotateTicks:"rotateTicks",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[a.TTD],attrs:ku,decls:4,vars:2,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01","font-size","12px"],[4,"ngIf","ngIfThen","ngIfElse"],["tmplMultilineTick",""],["tmplSinglelineTick",""],["x","0",4,"ngFor","ngForOf"],["x","0"],["y2","0",1,"gridline-path","gridline-path-vertical"]],template:function(e,i){1&e&&(a.O4$(),a.TgZ(0,"g",null,0),a.YNc(2,Iu,2,2,"g",1),a.qZA(),a.YNc(3,Pu,2,2,"g",2)),2&e&&(a.xp6(2),a.Q6J("ngForOf",i.ticks),a.xp6(1),a.Q6J("ngForOf",i.ticks))},dependencies:[H.sg,H.O5],encapsulation:2,changeDetection:0}),t})(),Yp=(()=>{class t{constructor(){this.rotateTicks=!0,this.showGridLines=!1,this.xOrient=_t.Bottom,this.xAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new a.vpe,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5,this.orientation=_t}ngOnChanges(e){this.update()}update(){this.transform=`translate(0,${this.xAxisOffset+this.padding+this.dims.height})`,typeof this.xAxisTickCount<"u"&&(this.tickArguments=[this.xAxisTickCount])}emitTicksHeight({height:e}){const i=e+25+5;i!==this.labelOffset&&(this.labelOffset=i,setTimeout(()=>{this.dimensionsChanged.emit({height:e})},0))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(e,i){if(1&e&&a.Gf(xl,5),2&e){let s;a.iGM(s=a.CRH())&&(i.ticksComponent=s.first)}},inputs:{xScale:"xScale",dims:"dims",trimTicks:"trimTicks",rotateTicks:"rotateTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickCount:"xAxisTickCount",xOrient:"xOrient",xAxisOffset:"xAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[a.TTD],attrs:Ru,decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(e,i){1&e&&(a.O4$(),a.TgZ(0,"g"),a.YNc(1,Bu,1,13,"g",0),a.YNc(2,Nu,1,5,"g",1),a.qZA()),2&e&&(a.uIk("class",i.xAxisClassName)("transform",i.transform),a.xp6(1),a.Q6J("ngIf",i.xScale),a.xp6(1),a.Q6J("ngIf",i.showLabel))},dependencies:[xl,gl,H.O5],encapsulation:2,changeDetection:0}),t})(),vl=(()=>{class t{constructor(e){this.platformId=e,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.wrapTicks=!1,this.dimensionsChanged=new a.vpe,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor=ki.Middle,this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0,this.Orientation=_t}ngOnChanges(e){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!(0,H.NF)(this.platformId))return this.width=this.getApproximateAxisWidth(),void this.dimensionsChanged.emit({width:this.width});const e=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);e!==this.width&&(this.width=e,this.dimensionsChanged.emit({width:e}),setTimeout(()=>this.updateDims()))}update(){const e=this.scale,i=this.orient===_t.Top||this.orient===_t.Right?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:e.tickFormat?e.tickFormat.apply(e,this.tickArguments):function(s){return"Date"===s.constructor.name?s.toLocaleDateString():s.toLocaleString()},this.adjustedScale=e.bandwidth?s=>{const r=e(s)+.5*e.bandwidth();if(this.wrapTicks&&s.toString().length>this.maxTickLength){const c=this.tickChunks(s).length;if(1===c)return r;const f=.5*e.bandwidth()-8*c*.5;return e(s)+f}return r}:e,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case _t.Top:case _t.Bottom:this.transform=function(s){return"translate("+this.adjustedScale(s)+",0)"},this.textAnchor=ki.Middle,this.y2=this.innerTickSize*i,this.y1=this.tickSpacing*i,this.dy=i<0?"0em":".71em";break;case _t.Left:this.transform=function(s){return"translate(0,"+this.adjustedScale(s)+")"},this.textAnchor=ki.End,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em";break;case _t.Right:this.transform=function(s){return"translate(0,"+this.adjustedScale(s)+")"},this.textAnchor=ki.Start,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em"}setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(e=>e.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(e=>e.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=function Up(t,n,e,i,s,[r,c,h,_]){let f="";return f=`M${[t+s,n]}`,f+="h"+((e=0===(e=Math.floor(e))?1:e)-2*s),f+=c?`a${[s,s]} 0 0 1 ${[s,s]}`:`h${s}v${s}`,f+="v"+((i=0===(i=Math.floor(i))?1:i)-2*s),f+=_?`a${[s,s]} 0 0 1 ${[-s,s]}`:`v${s}h${-s}`,f+="h"+(2*s-e),f+=h?`a${[s,s]} 0 0 1 ${[-s,-s]}`:`h${-s}v${-s}`,f+="v"+(2*s-i),f+=r?`a${[s,s]} 0 0 1 ${[s,-s]}`:`v${-s}h${s}`,f+="z",f}(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])}getTicks(){let e;const i=this.getMaxTicks(20),s=this.getMaxTicks(50);return this.tickValues?e=this.tickValues:this.scale.ticks?e=this.scale.ticks.apply(this.scale,[s]):(e=this.scale.domain(),e=fl(e,i)),e}getMaxTicks(e){return Math.floor(this.height/e)}tickTransform(e){return`translate(${this.adjustedScale(e)},${this.verticalSpacing})`}gridLineTransform(){return"translate(5,0)"}tickTrim(e){return this.trimTicks?Sr(e,this.maxTickLength):e}getApproximateAxisWidth(){return 7*Math.max(...this.ticks.map(s=>this.tickTrim(this.tickFormat(s)).length))}tickChunks(e){if(e.toString().length>this.maxTickLength&&this.scale.bandwidth){const i=this.maxTickLength,s=Math.floor(this.scale.bandwidth()/15);return s<=1?[this.tickTrim(e)]:_l(e,i,Math.min(s,5))}return[this.tickFormat(e)]}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.Lbi))},t.\u0275cmp=a.Xpm({type:t,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(e,i){if(1&e&&a.Gf(sl,5),2&e){let s;a.iGM(s=a.CRH())&&(i.ticksElement=s.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[a.TTD],attrs:Vu,decls:6,vars:4,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01"],[4,"ngIf","ngIfThen","ngIfElse"],["tmplMultilineTick",""],["tmplSinglelineTick",""],[4,"ngIf","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],[1,"reference-area"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(e,i){1&e&&(a.O4$(),a.TgZ(0,"g",null,0),a.YNc(2,ju,2,2,"g",1),a.qZA(),a.YNc(3,Wu,1,2,"path",2),a.YNc(4,Qu,2,2,"g",3),a.YNc(5,tm,2,1,"g",3)),2&e&&(a.xp6(2),a.Q6J("ngForOf",i.ticks),a.xp6(1),a.Q6J("ngIf",i.referenceLineLength>1&&i.refMax&&i.refMin&&i.showRefLines),a.xp6(1),a.Q6J("ngForOf",i.ticks),a.xp6(1),a.Q6J("ngForOf",i.referenceLines))},dependencies:[H.sg,H.O5],encapsulation:2,changeDetection:0}),t})(),Xp=(()=>{class t{constructor(){this.showGridLines=!1,this.yOrient=_t.Left,this.yAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new a.vpe,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}ngOnChanges(e){this.update()}update(){this.offset=-(this.yAxisOffset+this.padding),this.yOrient===_t.Right?(this.labelOffset=65,this.transform=`translate(${this.offset+this.dims.width} , 0)`):this.transform=`translate(${this.offset} , 0)`,void 0!==this.yAxisTickCount&&(this.tickArguments=[this.yAxisTickCount])}emitTicksWidth({width:e}){e!==this.labelOffset&&this.yOrient===_t.Right?(this.labelOffset=e+this.labelOffset,setTimeout(()=>{this.dimensionsChanged.emit({width:e})},0)):e!==this.labelOffset&&(this.labelOffset=e,setTimeout(()=>{this.dimensionsChanged.emit({width:e})},0))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(e,i){if(1&e&&a.Gf(vl,5),2&e){let s;a.iGM(s=a.CRH())&&(i.ticksComponent=s.first)}},inputs:{yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",yAxisTickCount:"yAxisTickCount",yOrient:"yOrient",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels",yAxisOffset:"yAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[a.TTD],attrs:im,decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(e,i){1&e&&(a.O4$(),a.TgZ(0,"g"),a.YNc(1,nm,1,15,"g",0),a.YNc(2,sm,1,5,"g",1),a.qZA()),2&e&&(a.uIk("class",i.yAxisClassName)("transform",i.transform),a.xp6(1),a.Q6J("ngIf",i.yScale),a.xp6(1),a.Q6J("ngIf",i.showLabel))},dependencies:[vl,gl,H.O5],encapsulation:2,changeDetection:0}),t})(),yl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[H.ez]]}),t})();var ks=(()=>{return(t=ks||(ks={})).popover="popover",t.tooltip="tooltip",ks;var t})(),Mn=(()=>{return(t=Mn||(Mn={}))[t.all="all"]="all",t[t.focus="focus"]="focus",t[t.mouseover="mouseover"]="mouseover",Mn;var t})();let bl=(()=>{class t{constructor(e,i,s){this.tooltipService=e,this.viewContainerRef=i,this.renderer=s,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=Oe.Top,this.tooltipAlignment=Oe.Center,this.tooltipType=ks.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=Mn.all,this.tooltipImmediateExit=!1,this.show=new a.vpe,this.hide=new a.vpe}get listensForFocus(){return this.tooltipShowEvent===Mn.all||this.tooltipShowEvent===Mn.focus}get listensForHover(){return this.tooltipShowEvent===Mn.all||this.tooltipShowEvent===Mn.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(e){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(e))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(e){if(this.component||this.tooltipDisabled)return;const i=e?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?400:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();const s=this.createBoundOptions();this.component=this.tooltipService.create(s),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},i)}addHideListeners(e){this.mouseEnterContentEvent=this.renderer.listen(e,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(e,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",i=>{e.contains(i.target)||this.hideTooltip()}))}hideTooltip(e=!1){if(!this.component)return;const i=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),e?i():this.timeout=setTimeout(i,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(Cr),a.Y36(a.s_b),a.Y36(a.Qsj))},t.\u0275dir=a.lG2({type:t,selectors:[["","ngx-tooltip",""]],hostBindings:function(e,i){1&e&&a.NdJ("focusin",function(){return i.onFocus()})("blur",function(){return i.onBlur()})("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(r){return i.onMouseLeave(r.target)})("click",function(){return i.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"}}),t})(),Tl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({providers:[ol,Cr],imports:[[H.ez]]}),t})();const Cl={};function As(){let t=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return t=`a${t}`,Cl[t]?As():(Cl[t]=!0,t)}var Ai=(()=>{return(t=Ai||(Ai={})).Vertical="vertical",t.Horizontal="horizontal",Ai;var t})();let Ia=(()=>{class t{constructor(){this.orientation=Ai.Vertical}ngOnChanges(e){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%",this.orientation===Ai.Horizontal?this.x2="100%":this.orientation===Ai.Vertical&&(this.y1="100%")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},features:[a.TTD],attrs:am,decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(a.O4$(),a.TgZ(0,"linearGradient",0),a.YNc(1,rm,1,5,"stop",1),a.qZA()),2&e&&(a.Q6J("id",i.name),a.uIk("x1",i.x1)("y1",i.y1)("x2",i.x2)("y2",i.y2),a.xp6(1),a.Q6J("ngForOf",i.stops))},dependencies:[H.sg],encapsulation:2,changeDetection:0}),t})(),wl=(()=>{class t{constructor(){this.select=new a.vpe,this.activate=new a.vpe,this.deactivate=new a.vpe}onClick(){this.select.emit(this.data)}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}ngOnChanges(e){this.classNames=Array.isArray(this.classNames)?this.classNames.join(" "):"",this.classNames+="circle"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["g","ngx-charts-circle",""]],hostBindings:function(e,i){1&e&&a.NdJ("click",function(){return i.onClick()})("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{cx:"cx",cy:"cy",r:"r",fill:"fill",stroke:"stroke",data:"data",classNames:"classNames",circleOpacity:"circleOpacity",pointerEvents:"pointerEvents"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[a.TTD],attrs:om,decls:1,vars:8,template:function(e,i){1&e&&(a.O4$(),a._UZ(0,"circle")),2&e&&a.uIk("cx",i.cx)("cy",i.cy)("r",i.r)("fill",i.fill)("stroke",i.stroke)("opacity",i.circleOpacity)("class",i.classNames)("pointer-events",i.pointerEvents)},encapsulation:2,changeDetection:0}),t})();var Ls=(()=>{return(t=Ls||(Ls={})).Standard="standard",t.Stacked="stacked",Ls;var t})();let kr,Sl=(()=>{class t{constructor(e){this.platformId=e,this.type=Ls.Standard,this.tooltipDisabled=!1,this.select=new a.vpe,this.activate=new a.vpe,this.deactivate=new a.vpe,this.barVisible=!1,this.barOrientation=Ai,this.placementTypes=Oe,this.styleTypes=ks,this.isSSR=!1}ngOnInit(){this.gradientId="grad"+As().toString(),this.gradientFill=`url(#${this.gradientId})`,(0,H.PM)(this.platformId)&&(this.isSSR=!0)}ngOnChanges(){this.update()}update(){this.circle=this.getActiveCircle()}getActiveCircle(){const e=this.data.series.findIndex(i=>{const s=i.name;return s&&this.visibleValue&&s.toString()===this.visibleValue.toString()&&void 0!==i.value});if(-1!==e)return this.mapDataPointToCircle(this.data.series[e],e)}mapDataPointToCircle(e,i){const s=this.data.name,r=e.value,c=e.name,h=wr(c);let _;_=this.xScale(this.scaleType===de.Time?c:this.scaleType===de.Linear?Number(c):c);const f=this.yScale(this.type===Ls.Standard?r:e.d1),T=this.yScale.range()[0]-f;let $;return $=this.colors.getColor(this.colors.scaleType===de.Linear?this.type===Ls.Standard?r:e.d1:s),{classNames:[`circle-data-${i}`],value:r,label:c,data:Object.assign({},e,{series:s,value:r,name:c}),cx:_,cy:f,radius:5,height:T,tooltipLabel:h,color:$,opacity:1,seriesName:s,gradientStops:this.getGradientStops($),min:e.min,max:e.max}}getTooltipText({tooltipLabel:e,value:i,seriesName:s,min:r,max:c}){return`\n      <span class="tooltip-label">${cl(s)} \u2022 ${cl(e)}</span>\n      <span class="tooltip-val">${i.toLocaleString()}${this.getTooltipMinMaxText(r,c)}</span>\n    `}getTooltipMinMaxText(e,i){if(void 0!==e||void 0!==i){let s=" (";return void 0!==e?(void 0===i&&(s+="\u2265"),s+=e.toLocaleString(),void 0!==i&&(s+=" - ")):void 0!==i&&(s+="\u2264"),void 0!==i&&(s+=i.toLocaleString()),s+=")",s}return""}getGradientStops(e){return[{offset:0,color:e,opacity:.2},{offset:100,color:e,opacity:1}]}onClick(e){this.select.emit(e)}isActive(e){return!!this.activeEntries&&void 0!==this.activeEntries.find(s=>e.name===s.name)}activateCircle(){this.barVisible=!0,this.activate.emit({name:this.data.name})}deactivateCircle(){this.barVisible=!1,this.circle.opacity=0,this.deactivate.emit({name:this.data.name})}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.Lbi))},t.\u0275cmp=a.Xpm({type:t,selectors:[["g","ngx-charts-circle-series",""]],inputs:{data:"data",type:"type",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",visibleValue:"visibleValue",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[a.TTD],attrs:lm,decls:1,vars:1,consts:[[4,"ngIf"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"],["class","tooltip-bar",4,"ngIf"],["ngx-charts-circle","","ngx-tooltip","",1,"circle",3,"cx","cy","r","fill","pointerEvents","data","classNames","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","select","activate","deactivate"],[1,"tooltip-bar"]],template:function(e,i){1&e&&a.YNc(0,um,6,22,"g",0),2&e&&a.Q6J("ngIf",i.circle)},dependencies:[Ia,wl,H.O5,bl],encapsulation:2,data:{animation:[(0,Be.X$)("animationState",[(0,Be.eR)(":enter",[(0,Be.oB)({opacity:0}),(0,Be.jt)(250,(0,Be.oB)({opacity:1}))])])]},changeDetection:0}),t})(),Al=(()=>{class t{constructor(e){this.opacity=1,this.startOpacity=.5,this.endOpacity=1,this.gradient=!1,this.animations=!0,this.select=new a.vpe,this.animationsLoaded=!1,this.hasGradient=!1,this.barOrientation=Ai,this.element=e.nativeElement}ngOnChanges(){this.update(),this.animationsLoaded||(this.loadAnimation(),this.animationsLoaded=!0)}update(){this.gradientId="grad"+As().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl()}loadAnimation(){this.areaPath=this.startingPath,setTimeout(this.updatePathEl.bind(this),100)}updatePathEl(){const e=nt(this.element).select(".area");this.animations?e.transition().duration(750).attr("d",this.path):e.attr("d",this.path)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.startOpacity},{offset:100,color:this.fill,opacity:this.endOpacity}]}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq))},t.\u0275cmp=a.Xpm({type:t,selectors:[["g","ngx-charts-area",""]],inputs:{data:"data",path:"path",startingPath:"startingPath",fill:"fill",opacity:"opacity",startOpacity:"startOpacity",endOpacity:"endOpacity",gradient:"gradient",stops:"stops",animations:"animations"},outputs:{select:"select"},features:[a.TTD],attrs:xm,decls:2,vars:5,consts:[[4,"ngIf"],[1,"area"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(e,i){1&e&&(a.YNc(0,vm,2,3,"defs",0),a.O4$(),a._UZ(1,"path",1)),2&e&&(a.Q6J("ngIf",i.gradient),a.xp6(1),a.Udp("opacity",i.opacity),a.uIk("d",i.areaPath)("fill",i.gradient?i.gradientFill:i.fill))},dependencies:[Ia,H.O5],encapsulation:2,changeDetection:0}),t})();typeof window<"u"?kr=window:typeof global<"u"&&(kr=global);const Dl=kr.MouseEvent;function Ar(t,n=!1,e=!0){if("function"==typeof Dl)return new Dl(t,{bubbles:n,cancelable:e});{const i=document.createEvent("MouseEvent");return i.initEvent(t,n,e),i}}let Ml=(()=>{class t{constructor(e){this.platformId=e,this.anchorOpacity=0,this.anchorPos=-1,this.anchorValues=[],this.placementTypes=Oe,this.styleTypes=ks,this.showPercentage=!1,this.tooltipDisabled=!1,this.hover=new a.vpe}getValues(e){const i=[];for(const s of this.results){const r=s.series.find(h=>h.name.toString()===e.toString());let c=s.name;if(c instanceof Date&&(c=c.toLocaleDateString()),r){const h=r.name;let f,_=r.value;if(this.showPercentage&&(_=(r.d1-r.d0).toFixed(2)+"%"),this.colors.scaleType===de.Linear){let T=_;r.d1&&(T=r.d1),f=this.colors.getColor(T)}else f=this.colors.getColor(s.name);const w=Object.assign({},r,{value:_,name:h,series:c,min:r.min,max:r.max,color:f});i.push(w)}}return i}mouseMove(e){if(!(0,H.NF)(this.platformId))return;const i=e.pageX-e.target.getBoundingClientRect().left,s=this.findClosestPointIndex(i),r=this.xSet[s];if(this.anchorPos=this.xScale(r),this.anchorPos=Math.max(0,this.anchorPos),this.anchorPos=Math.min(this.dims.width,this.anchorPos),this.anchorValues=this.getValues(r),this.anchorPos!==this.lastAnchorPos){const c=Ar("mouseleave");this.tooltipAnchor.nativeElement.dispatchEvent(c),this.anchorOpacity=.7,this.hover.emit({value:r}),this.showTooltip(),this.lastAnchorPos=this.anchorPos}}findClosestPointIndex(e){let i=0,s=this.xSet.length-1,r=Number.MAX_VALUE,c=0;for(;i<=s;){const h=(i+s)/2|0,_=this.xScale(this.xSet[h]),f=Math.abs(_-e);if(f<r&&(r=f,c=h),_<e)i=h+1;else{if(!(_>e)){r=0,c=h;break}s=h-1}}return c}showTooltip(){const e=Ar("mouseenter");this.tooltipAnchor.nativeElement.dispatchEvent(e)}hideTooltip(){const e=Ar("mouseleave");this.tooltipAnchor.nativeElement.dispatchEvent(e),this.anchorOpacity=0,this.lastAnchorPos=-1}getToolTipText(e){let i="";return i+=void 0!==e.series?e.series:"???",i+=": ",void 0!==e.value&&(i+=e.value.toLocaleString()),(void 0!==e.min||void 0!==e.max)&&(i+=" (",void 0!==e.min?(void 0===e.max&&(i+="\u2265"),i+=e.min.toLocaleString(),void 0!==e.max&&(i+=" - ")):void 0!==e.max&&(i+="\u2264"),void 0!==e.max&&(i+=e.max.toLocaleString()),i+=")"),i}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.Lbi))},t.\u0275cmp=a.Xpm({type:t,selectors:[["g","ngx-charts-tooltip-area",""]],viewQuery:function(e,i){if(1&e&&a.Gf(bm,5),2&e){let s;a.iGM(s=a.CRH())&&(i.tooltipAnchor=s.first)}},inputs:{dims:"dims",xSet:"xSet",xScale:"xScale",yScale:"yScale",results:"results",colors:"colors",showPercentage:"showPercentage",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate"},outputs:{hover:"hover"},attrs:Tm,decls:6,vars:18,consts:[["y","0",1,"tooltip-area",2,"opacity","0","cursor","'auto'",3,"mousemove","mouseleave"],["defaultTooltipTemplate",""],["y","0","ngx-tooltip","",1,"tooltip-anchor",3,"tooltipDisabled","tooltipPlacement","tooltipType","tooltipSpacing","tooltipTemplate","tooltipContext","tooltipImmediateExit"],["tooltipAnchor",""],[1,"area-tooltip-container"],["class","tooltip-item",4,"ngFor","ngForOf"],[1,"tooltip-item"],[1,"tooltip-item-color"]],template:function(e,i){if(1&e&&(a.O4$(),a.TgZ(0,"g")(1,"rect",0),a.NdJ("mousemove",function(r){return i.mouseMove(r)})("mouseleave",function(){return i.hideTooltip()}),a.qZA(),a.YNc(2,wm,2,1,"ng-template",null,1,a.W1O),a._UZ(4,"rect",2,3),a.qZA()),2&e){const s=a.MAs(3);a.xp6(1),a.uIk("x",0)("width",i.dims.width)("height",i.dims.height),a.xp6(3),a.Udp("opacity",i.anchorOpacity)("pointer-events","none"),a.Q6J("@animationState",0!==i.anchorOpacity?"active":"inactive")("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.placementTypes.Right)("tooltipType",i.styleTypes.tooltip)("tooltipSpacing",15)("tooltipTemplate",i.tooltipTemplate?i.tooltipTemplate:s)("tooltipContext",i.anchorValues)("tooltipImmediateExit",!0),a.uIk("x",i.anchorPos)("width",1)("height",i.dims.height)}},dependencies:[H.sg,bl],encapsulation:2,data:{animation:[(0,Be.X$)("animationState",[(0,Be.eR)("inactive => active",[(0,Be.oB)({opacity:0}),(0,Be.jt)(250,(0,Be.oB)({opacity:.7}))]),(0,Be.eR)("active => inactive",[(0,Be.oB)({opacity:.7}),(0,Be.jt)(250,(0,Be.oB)({opacity:0}))])])]},changeDetection:0}),t})(),Fl=(()=>{class t{constructor(e,i){this.cd=i,this.height=50,this.select=new a.vpe,this.onDomainChange=new a.vpe,this.initialized=!1,this.element=e.nativeElement}ngOnChanges(e){this.update(),this.initialized||(this.addBrush(),this.initialized=!0)}update(){this.dims=this.getDims(),this.height=this.dims.height;const e=this.view[1]-this.height;this.xDomain=this.getXDomain(),this.xScale=this.getXScale(),this.brush&&this.updateBrush(),this.transform=`translate(0 , ${e})`,this.filterId="filter"+As().toString(),this.filter=`url(#${this.filterId})`,this.cd.markForCheck()}getXDomain(){let e=[];for(const s of this.results)for(const r of s.series)e.includes(r.name)||e.push(r.name);let i=[];return this.scaleType===de.Time?i=[Math.min(...e),Math.max(...e)]:this.scaleType===de.Linear?(e=e.map(c=>Number(c)),i=[Math.min(...e),Math.max(...e)]):i=e,i}getXScale(){let e;return this.scaleType===de.Time?e=Mo().range([0,this.dims.width]).domain(this.xDomain):this.scaleType===de.Linear?e=as().range([0,this.dims.width]).domain(this.xDomain):this.scaleType===de.Ordinal&&(e=jo().range([0,this.dims.width]).padding(.1).domain(this.xDomain)),e}addBrush(){if(this.brush)return;const e=this.height,i=this.view[0];this.brush=function ld(){return function Wa(t){var h,n=ad,e=sd,i=rd,s=!0,r=Un("start","brush","end"),c=6;function _(R){var re=R.property("__brush",me).selectAll(".overlay").data([Js("overlay")]);re.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",en.overlay).merge(re).each(function(){var ie=ja(this).extent;nt(this).attr("x",ie[0][0]).attr("y",ie[0][1]).attr("width",ie[1][0]-ie[0][0]).attr("height",ie[1][1]-ie[0][1])}),R.selectAll(".selection").data([Js("selection")]).enter().append("rect").attr("class","selection").attr("cursor",en.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var pe=R.selectAll(".handle").data(t.handles,function(ie){return ie.type});pe.exit().remove(),pe.enter().append("rect").attr("class",function(ie){return"handle handle--"+ie.type}).attr("cursor",function(ie){return en[ie.type]}),R.each(f).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",D).filter(i).on("touchstart.brush",D).on("touchmove.brush",$).on("touchend.brush touchcancel.brush",W).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(){var R=nt(this),re=ja(this).selection;re?(R.selectAll(".selection").style("display",null).attr("x",re[0][0]).attr("y",re[0][1]).attr("width",re[1][0]-re[0][0]).attr("height",re[1][1]-re[0][1]),R.selectAll(".handle").style("display",null).attr("x",function(pe){return"e"===pe.type[pe.type.length-1]?re[1][0]-c/2:re[0][0]-c/2}).attr("y",function(pe){return"s"===pe.type[0]?re[1][1]-c/2:re[0][1]-c/2}).attr("width",function(pe){return"n"===pe.type||"s"===pe.type?re[1][0]-re[0][0]+c:c}).attr("height",function(pe){return"e"===pe.type||"w"===pe.type?re[1][1]-re[0][1]+c:c})):R.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function w(R,re,pe){var ie=R.__brush.emitter;return!ie||pe&&ie.clean?new T(R,re,pe):ie}function T(R,re,pe){this.that=R,this.args=re,this.state=R.__brush,this.active=0,this.clean=pe}function D(R){if((!h||R.touches)&&e.apply(this,arguments)){var Ke,Te,Ge,Ze,et,tt,ze,xt,oa,Ms,Fs,re=this,pe=R.target.__data__.type,ie="selection"===(s&&R.metaKey?pe="overlay":pe)?zr:s&&R.altKey?vs:xs,ve=t===Ca?null:id[pe],we=t===Ta?null:nd[pe],ge=ja(re),je=ge.extent,We=ge.selection,Bt=je[0][0],wt=je[0][1],Jt=je[1][0],Nt=je[1][1],dt=0,ht=0,Ds=ve&&we&&s&&R.shiftKey,It=Array.from(R.touches||[R],Se=>{const lt=Se.identifier;return(Se=oe(Se,re)).point0=Se.slice(),Se.identifier=lt,Se});$a(re);var ls=w(re,arguments,!0).beforestart();if("overlay"===pe){We&&(oa=!0);const Se=[It[0],It[1]||It[0]];ge.selection=We=[[Ke=t===Ca?Bt:Ft(Se[0][0],Se[1][0]),Ge=t===Ta?wt:Ft(Se[0][1],Se[1][1])],[et=t===Ca?Jt:Mt(Se[0][0],Se[1][0]),ze=t===Ta?Nt:Mt(Se[0][1],Se[1][1])]],It.length>1&&ot(R)}else Ke=We[0][0],Ge=We[0][1],et=We[1][0],ze=We[1][1];Te=Ke,Ze=Ge,tt=et,xt=ze;var he=nt(re).attr("pointer-events","none"),Me=he.selectAll(".overlay").attr("cursor",en[pe]);if(R.touches)ls.moved=q,ls.ended=Ye;else{var Re=nt(R.view).on("mousemove.brush",q,!0).on("mouseup.brush",Ye,!0);s&&Re.on("keydown.brush",function Vt(Se){switch(Se.keyCode){case 16:Ds=ve&&we;break;case 18:ie===xs&&(ve&&(et=tt-dt*ve,Ke=Te+dt*ve),we&&(ze=xt-ht*we,Ge=Ze+ht*we),ie=vs,ot(Se));break;case 32:(ie===xs||ie===vs)&&(ve<0?et=tt-dt:ve>0&&(Ke=Te-dt),we<0?ze=xt-ht:we>0&&(Ge=Ze-ht),ie=Ua,Me.attr("cursor",en.selection),ot(Se));break;default:return}Ya(Se)},!0).on("keyup.brush",function $t(Se){switch(Se.keyCode){case 16:Ds&&(Ms=Fs=Ds=!1,ot(Se));break;case 18:ie===vs&&(ve<0?et=tt:ve>0&&(Ke=Te),we<0?ze=xt:we>0&&(Ge=Ze),ie=xs,ot(Se));break;case 32:ie===Ua&&(Se.altKey?(ve&&(et=tt-dt*ve,Ke=Te+dt*ve),we&&(ze=xt-ht*we,Ge=Ze+ht*we),ie=vs):(ve<0?et=tt:ve>0&&(Ke=Te),we<0?ze=xt:we>0&&(Ge=Ze),ie=xs),Me.attr("cursor",en[pe]),ot(Se));break;default:return}Ya(Se)},!0),function $s(t){var n=t.document.documentElement,e=nt(t).on("dragstart.drag",Xn,kn);"onselectstart"in n?e.on("selectstart.drag",Xn,kn):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}(R.view)}f.call(re),ls.start(R,ie.name)}function q(Se){for(const lt of Se.changedTouches||[Se])for(const la of It)la.identifier===lt.identifier&&(la.cur=oe(lt,re));if(Ds&&!Ms&&!Fs&&1===It.length){const lt=It[0];Yr(lt.cur[0]-lt[0])>Yr(lt.cur[1]-lt[1])?Fs=!0:Ms=!0}for(const lt of It)lt.cur&&(lt[0]=lt.cur[0],lt[1]=lt.cur[1]);oa=!0,Ya(Se),ot(Se)}function ot(Se){const lt=It[0],la=lt.point0;var Fn;switch(dt=lt[0]-la[0],ht=lt[1]-la[1],ie){case Ua:case zr:ve&&(dt=Mt(Bt-Ke,Ft(Jt-et,dt)),Te=Ke+dt,tt=et+dt),we&&(ht=Mt(wt-Ge,Ft(Nt-ze,ht)),Ze=Ge+ht,xt=ze+ht);break;case xs:It[1]?(ve&&(Te=Mt(Bt,Ft(Jt,It[0][0])),tt=Mt(Bt,Ft(Jt,It[1][0])),ve=1),we&&(Ze=Mt(wt,Ft(Nt,It[0][1])),xt=Mt(wt,Ft(Nt,It[1][1])),we=1)):(ve<0?(dt=Mt(Bt-Ke,Ft(Jt-Ke,dt)),Te=Ke+dt,tt=et):ve>0&&(dt=Mt(Bt-et,Ft(Jt-et,dt)),Te=Ke,tt=et+dt),we<0?(ht=Mt(wt-Ge,Ft(Nt-Ge,ht)),Ze=Ge+ht,xt=ze):we>0&&(ht=Mt(wt-ze,Ft(Nt-ze,ht)),Ze=Ge,xt=ze+ht));break;case vs:ve&&(Te=Mt(Bt,Ft(Jt,Ke-dt*ve)),tt=Mt(Bt,Ft(Jt,et+dt*ve))),we&&(Ze=Mt(wt,Ft(Nt,Ge-ht*we)),xt=Mt(wt,Ft(Nt,ze+ht*we)))}tt<Te&&(ve*=-1,Fn=Ke,Ke=et,et=Fn,Fn=Te,Te=tt,tt=Fn,pe in Xr&&Me.attr("cursor",en[pe=Xr[pe]])),xt<Ze&&(we*=-1,Fn=Ge,Ge=ze,ze=Fn,Fn=Ze,Ze=xt,xt=Fn,pe in jr&&Me.attr("cursor",en[pe=jr[pe]])),ge.selection&&(We=ge.selection),Ms&&(Te=We[0][0],tt=We[1][0]),Fs&&(Ze=We[0][1],xt=We[1][1]),(We[0][0]!==Te||We[0][1]!==Ze||We[1][0]!==tt||We[1][1]!==xt)&&(ge.selection=[[Te,Ze],[tt,xt]],f.call(re),ls.brush(Se,ie.name))}function Ye(Se){if(function ed(t){t.stopImmediatePropagation()}(Se),Se.touches){if(Se.touches.length)return;h&&clearTimeout(h),h=setTimeout(function(){h=null},500)}else(function Hs(t,n){var e=t.document.documentElement,i=nt(t).on("dragstart.drag",null);n&&(i.on("click.drag",Xn,kn),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in e?i.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)})(Se.view,oa),Re.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);he.attr("pointer-events","all"),Me.attr("cursor",en.overlay),ge.selection&&(We=ge.selection),function od(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}(We)&&(ge.selection=null,f.call(re)),ls.end(Se,ie.name)}}function $(R){w(this,arguments).moved(R)}function W(R){w(this,arguments).ended(R)}function me(){var R=this.__brush||{selection:null};return R.extent=Xa(n.apply(this,arguments)),R.dim=t,R}return _.move=function(R,re,pe){R.tween?R.on("start.brush",function(ie){w(this,arguments).beforestart().start(ie)}).on("interrupt.brush end.brush",function(ie){w(this,arguments).end(ie)}).tween("brush",function(){var ie=this,ve=ie.__brush,we=w(ie,arguments),ge=ve.selection,je=t.input("function"==typeof re?re.apply(this,arguments):re,ve.extent),We=I(ge,je);function Bt(Ke){ve.selection=1===Ke&&null===je?null:We(Ke),f.call(ie),we.brush()}return null!==ge&&null!==je?Bt:Bt(1)}):R.each(function(){var ie=this,ve=arguments,we=ie.__brush,ge=t.input("function"==typeof re?re.apply(ie,ve):re,we.extent),je=w(ie,ve).beforestart();$a(ie),we.selection=null===ge?null:ge,f.call(ie),je.start(pe).brush(pe).end(pe)})},_.clear=function(R,re){_.move(R,null,re)},T.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(R,re){return this.starting?(this.starting=!1,this.emit("start",R,re)):this.emit("brush",R),this},brush:function(R,re){return this.emit("brush",R,re),this},end:function(R,re){return 0==--this.active&&(delete this.state.emitter,this.emit("end",R,re)),this},emit:function(R,re,pe){var ie=nt(this.that).datum();r.call(R,this.that,new Kc(R,{sourceEvent:re,target:_,selection:t.output(this.state.selection),mode:pe,dispatch:r}),ie)}},_.extent=function(R){return arguments.length?(n="function"==typeof R?R:za(Xa(R)),_):n},_.filter=function(R){return arguments.length?(e="function"==typeof R?R:za(!!R),_):e},_.touchable=function(R){return arguments.length?(i="function"==typeof R?R:za(!!R),_):i},_.handleSize=function(R){return arguments.length?(c=+R,_):c},_.keyModifiers=function(R){return arguments.length?(s=!!R,_):s},_.on=function(){var R=r.on.apply(r,arguments);return R===r?_:R},_}(Ta)}().extent([[0,0],[i,e]]).on("brush end",({selection:s})=>{const c=(s||this.xScale.range()).map(this.xScale.invert);this.onDomainChange.emit(c),this.cd.markForCheck()}),nt(this.element).select(".brush").call(this.brush)}updateBrush(){this.brush&&(this.brush.extent([[0,0],[this.view[0],this.height]]),nt(this.element).select(".brush").call(this.brush),nt(this.element).select(".selection").attr("fill",void 0).attr("stroke",void 0).attr("fill-opacity",void 0),this.cd.markForCheck())}getDims(){return{width:this.view[0],height:this.height}}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq),a.Y36(a.sBO))},t.\u0275cmp=a.Xpm({type:t,selectors:[["g","ngx-charts-timeline",""]],inputs:{view:"view",results:"results",scheme:"scheme",customColors:"customColors",legend:"legend",autoScale:"autoScale",scaleType:"scaleType",height:"height"},outputs:{select:"select",onDomainChange:"onDomainChange"},features:[a.TTD],attrs:Sm,ngContentSelectors:nl,decls:7,vars:4,consts:[[1,"timeline"],["in","SourceGraphic","type","matrix","values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"],[1,"embedded-chart"],["x","0","y","0",1,"brush-background"],[1,"brush"]],template:function(e,i){1&e&&(a.F$t(),a.O4$(),a.TgZ(0,"g",0)(1,"filter"),a._UZ(2,"feColorMatrix",1),a.qZA(),a.TgZ(3,"g",2),a.Hsn(4),a.qZA(),a._UZ(5,"rect",3)(6,"g",4),a.qZA()),2&e&&(a.uIk("transform",i.transform),a.xp6(1),a.uIk("id",i.filterId),a.xp6(4),a.uIk("width",i.view[0])("height",i.height))},styles:[".timeline .brush-background{fill:#0000000d}.timeline .brush .selection{fill:#0000001a;stroke-width:1px;stroke:#888}.timeline .brush .handle{fill-opacity:0}.timeline .embedded-chart{opacity:.6}\n"],encapsulation:2,changeDetection:0}),t})(),qt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[H.ez,yl,Tl],H.ez,yl,Tl]}),t})();const Il=[{name:"vivid",selectable:!0,group:de.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:de.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:de.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:de.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:de.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:de.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:de.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:de.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:de.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:de.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:de.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:de.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:de.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:de.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:de.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}];class Qp{constructor(n,e,i,s){"string"==typeof n&&(n=Il.find(r=>r.name===n)),this.colorDomain=n.domain,this.scaleType=e,this.domain=i,this.customColors=s,this.scale=this.generateColorScheme(n,e,this.domain)}generateColorScheme(n,e,i){let s;switch("string"==typeof n&&(n=Il.find(r=>r.name===n)),e){case de.Quantile:s=Wo().range(n.domain).domain(i);break;case de.Ordinal:s=xr().range(n.domain).domain(i);break;case de.Linear:{const r=[...n.domain];1===r.length&&(r.push(r[0]),this.colorDomain=r);const c=$o(0,1,1/r.length);s=as().range(r).domain(c)}}return s}getColor(n){if(null==n)throw new Error("Value can not be null");if(this.scaleType===de.Linear){const e=as().domain(this.domain).range([0,1]);return this.scale(e(n))}{if("function"==typeof this.customColors)return this.customColors(n);const e=n.toString();let i;return this.customColors&&this.customColors.length>0&&(i=this.customColors.find(s=>s.name.toLowerCase()===e.toLowerCase())),i?i.value:this.scale(n)}}getLinearGradientStops(n,e){void 0===e&&(e=this.domain[0]);const i=as().domain(this.domain).range([0,1]),s=vr().domain(this.colorDomain).range([0,1]),r=this.getColor(n),c=i(e),h=this.getColor(e),_=i(n);let f=1,w=c;const T=[];for(T.push({color:h,offset:c,originalOffset:c,opacity:1});w<_&&f<this.colorDomain.length;){const D=this.colorDomain[f],$=s(D);if($<=c)f++;else{if($.toFixed(4)>=(_-s.bandwidth()).toFixed(4))break;T.push({color:D,offset:$,opacity:1}),w=$,f++}}if(T[T.length-1].offset<100&&T.push({color:r,offset:_,opacity:1}),_===c)T[0].offset=0,T[1].offset=100;else if(100!==T[T.length-1].offset)for(const D of T)D.offset=(D.offset-c)/(_-c)*100;return T}}let ng=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[qt]]}),t})(),Pl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[qt]]}),t})();gu();let sg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[qt]]}),t})(),ag=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[qt]]}),t})(),rg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[qt]]}),t})(),og=(()=>{class t{constructor(e,i){this.element=e,this.platformId=i,this.fill="none",this.animations=!0,this.initialized=!1,this.isSSR=!1}ngOnInit(){(0,H.PM)(this.platformId)&&(this.isSSR=!0)}ngOnChanges(e){this.initialized?this.updatePathEl():(this.initialized=!0,this.initialPath=this.path)}updatePathEl(){const e=nt(this.element.nativeElement).select(".line");this.animations?e.transition().duration(750).attr("d",this.path):e.attr("d",this.path)}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq),a.Y36(a.Lbi))},t.\u0275cmp=a.Xpm({type:t,selectors:[["g","ngx-charts-line",""]],inputs:{path:"path",stroke:"stroke",data:"data",fill:"fill",animations:"animations"},features:[a.TTD],attrs:cp,decls:2,vars:2,consts:[[4,"ngIf"],["stroke-width","1.5px",1,"line"]],template:function(e,i){1&e&&(a.YNc(0,dp,2,4,"g",0),a.YNc(1,hp,2,3,"g",0)),2&e&&(a.Q6J("ngIf",!i.isSSR),a.xp6(1),a.Q6J("ngIf",i.isSSR))},dependencies:[H.O5],encapsulation:2,data:{animation:[(0,Be.X$)("animationState",[(0,Be.eR)(":enter",[(0,Be.oB)({strokeDasharray:2e3,strokeDashoffset:2e3}),(0,Be.jt)(1e3,(0,Be.oB)({strokeDashoffset:0}))])])]},changeDetection:0}),t})(),lg=(()=>{class t{constructor(){this.animations=!0,this.barOrientation=Ai}ngOnChanges(e){this.update()}update(){this.updateGradients();const e=this.sortData(this.data.series),i=this.getLineGenerator();this.path=i(e)||"";const s=this.getAreaGenerator();if(this.areaPath=s(e)||"",this.hasRange){const r=this.getRangeGenerator();this.outerPath=r(e)||""}if(this.hasGradient){this.stroke=this.gradientUrl;const r=this.data.series.map(_=>_.value),c=Math.max(...r);c===Math.min(...r)&&(this.stroke=this.colors.getColor(c))}else this.stroke=this.colors.getColor(this.data.name)}getLineGenerator(){return tl().x(e=>{const i=e.name;let s;return s=this.xScale(this.scaleType===de.Time?i:this.scaleType===de.Linear?Number(i):i),s}).y(e=>this.yScale(e.value)).curve(this.curve)}getRangeGenerator(){return il().x(e=>{const i=e.name;let s;return s=this.xScale(this.scaleType===de.Time?i:this.scaleType===de.Linear?Number(i):i),s}).y0(e=>this.yScale("number"==typeof e.min?e.min:e.value)).y1(e=>this.yScale("number"==typeof e.max?e.max:e.value)).curve(this.curve)}getAreaGenerator(){return il().x(i=>this.xScale(i.name)).y0(()=>this.yScale.range()[0]).y1(i=>this.yScale(i.value)).curve(this.curve)}sortData(e){return e=this.scaleType===de.Linear?function eg(t,n,e="asc"){return t.sort((i,s)=>"asc"===e?i[n]-s[n]:s[n]-i[n])}(e,"name"):this.scaleType===de.Time?function ig(t,n,e="asc"){return t.sort((i,s)=>{const r=i[n].getTime(),c=s[n].getTime();return"asc"===e?r>c?1:c>r?-1:0:r>c?-1:c>r?1:0})}(e,"name"):function tg(t,n,e="asc",i){return t.sort((s,r)=>{const h=r[n],_=i.indexOf(s[n]),f=i.indexOf(h);return"asc"===e?_-f:f-_})}(e,"name","asc",this.xScale.domain()),e}updateGradients(){if(this.colors.scaleType===de.Linear){this.hasGradient=!0,this.gradientId="grad"+As().toString(),this.gradientUrl=`url(#${this.gradientId})`;const e=this.data.series.map(r=>r.value),i=Math.max(...e),s=Math.min(...e);this.gradientStops=this.colors.getLinearGradientStops(i,s),this.areaGradientStops=this.colors.getLinearGradientStops(i)}else this.hasGradient=!1,this.gradientStops=void 0,this.areaGradientStops=void 0}isActive(e){return!!this.activeEntries&&void 0!==this.activeEntries.find(s=>e.name===s.name)}isInactive(e){return!(!this.activeEntries||0===this.activeEntries.length)&&void 0===this.activeEntries.find(s=>e.name===s.name)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["g","ngx-charts-line-series",""]],inputs:{data:"data",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",curve:"curve",activeEntries:"activeEntries",rangeFillOpacity:"rangeFillOpacity",hasRange:"hasRange",animations:"animations"},features:[a.TTD],attrs:up,decls:6,vars:22,consts:[["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops",4,"ngIf"],["ngx-charts-area","",1,"line-highlight",3,"data","path","fill","opacity","startOpacity","gradient","stops","animations"],["ngx-charts-line","",1,"line-series",3,"data","path","stroke","animations"],["ngx-charts-area","","class","line-series-range",3,"data","path","fill","active","inactive","opacity","animations",4,"ngIf"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"],["ngx-charts-area","",1,"line-series-range",3,"data","path","fill","opacity","animations"]],template:function(e,i){1&e&&(a.O4$(),a.TgZ(0,"g")(1,"defs"),a.YNc(2,mp,1,3,"g",0),a.qZA(),a._UZ(3,"g",1)(4,"g",2),a.YNc(5,pp,1,9,"g",3),a.qZA()),2&e&&(a.xp6(2),a.Q6J("ngIf",i.hasGradient),a.xp6(1),a.ekj("active",i.isActive(i.data))("inactive",i.isInactive(i.data)),a.Q6J("data",i.data)("path",i.areaPath)("fill",i.hasGradient?i.gradientUrl:i.colors.getColor(i.data.name))("opacity",.25)("startOpacity",0)("gradient",!0)("stops",i.areaGradientStops)("animations",i.animations),a.xp6(1),a.ekj("active",i.isActive(i.data))("inactive",i.isInactive(i.data)),a.Q6J("data",i.data)("path",i.path)("stroke",i.stroke)("animations",i.animations),a.xp6(1),a.Q6J("ngIf",i.hasRange))},dependencies:[Ia,Al,og,H.O5],encapsulation:2,changeDetection:0}),t})(),cg=(()=>{class t extends pl{constructor(){super(...arguments),this.legendTitle="Legend",this.legendPosition=rn.Right,this.showGridLines=!0,this.curve=yr,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.roundDomains=!1,this.tooltipDisabled=!1,this.showRefLines=!1,this.showRefLabels=!0,this.wrapTicks=!1,this.activate=new a.vpe,this.deactivate=new a.vpe,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.timelineHeight=50,this.timelinePadding=10,this.isSSR=!1}ngOnInit(){(0,H.PM)(this.platformId)&&(this.isSSR=!0)}update(){super.update(),this.dims=function Jp({width:t,height:n,margins:e,showXAxis:i=!1,showYAxis:s=!1,xAxisHeight:r=0,yAxisWidth:c=0,showXLabel:h=!1,showYLabel:_=!1,showLegend:f=!1,legendType:w=de.Ordinal,legendPosition:T=rn.Right,columns:D=12}){let $=e[3],W=t,me=n-e[0]-e[2];return f&&T===rn.Right&&(D-=w===de.Ordinal?2:1),W=W*D/12,W=W-e[1]-e[3],i&&(me-=5,me-=r,h&&(me-=30)),s&&(W-=5,W-=c,$+=c,$+=10,_&&(W-=30,$+=30)),W=Math.max(0,W),me=Math.max(0,me),{width:Math.floor(W),height:Math.floor(me),xOffset:Math.floor($)}}({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.timeline&&(this.dims.height-=this.timelineHeight+this.margin[2]+this.timelinePadding),this.xDomain=this.getXDomain(),this.filteredDomain&&(this.xDomain=this.filteredDomain),this.yDomain=this.getYDomain(),this.seriesDomain=this.getSeriesDomain(),this.xScale=this.getXScale(this.xDomain,this.dims.width),this.yScale=this.getYScale(this.yDomain,this.dims.height),this.updateTimeline(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`,this.clipPathId="clip"+As().toString(),this.clipPath=`url(#${this.clipPathId})`}updateTimeline(){this.timeline&&(this.timelineWidth=this.dims.width,this.timelineXDomain=this.getXDomain(),this.timelineXScale=this.getXScale(this.timelineXDomain,this.timelineWidth),this.timelineYScale=this.getYScale(this.yDomain,this.timelineHeight),this.timelineTransform=`translate(${this.dims.xOffset}, ${-this.margin[2]})`)}getXDomain(){let e=function Kp(t){const n=new Set;for(const e of t)for(const i of e.series)n.add(i.name);return Array.from(n)}(this.results);this.scaleType=function Ol(t,n=!0){return n&&t.every(s=>s instanceof Date)?de.Time:t.every(i=>"number"==typeof i)?de.Linear:de.Ordinal}(e);let s,r,i=[];return this.scaleType===de.Linear&&(e=e.map(c=>Number(c))),(this.scaleType===de.Time||this.scaleType===de.Linear)&&(s=this.xScaleMin?this.xScaleMin:Math.min(...e),r=this.xScaleMax?this.xScaleMax:Math.max(...e)),this.scaleType===de.Time?(i=[new Date(s),new Date(r)],this.xSet=[...e].sort((c,h)=>{const _=c.getTime(),f=h.getTime();return _>f?1:f>_?-1:0})):this.scaleType===de.Linear?(i=[s,r],this.xSet=[...e].sort((c,h)=>c-h)):(i=e,this.xSet=e),i}getYDomain(){const e=[];for(const c of this.results)for(const h of c.series)e.indexOf(h.value)<0&&e.push(h.value),void 0!==h.min&&(this.hasRange=!0,e.indexOf(h.min)<0&&e.push(h.min)),void 0!==h.max&&(this.hasRange=!0,e.indexOf(h.max)<0&&e.push(h.max));const i=[...e];return this.autoScale||i.push(0),[this.yScaleMin?this.yScaleMin:Math.min(...i),this.yScaleMax?this.yScaleMax:Math.max(...i)]}getSeriesDomain(){return this.results.map(e=>e.name)}getXScale(e,i){let s;return this.scaleType===de.Time?s=Mo().range([0,i]).domain(e):this.scaleType===de.Linear?(s=as().range([0,i]).domain(e),this.roundDomains&&(s=s.nice())):this.scaleType===de.Ordinal&&(s=jo().range([0,i]).padding(.1).domain(e)),s}getYScale(e,i){const s=as().range([i,0]).domain(e);return this.roundDomains?s.nice():s}updateDomain(e){this.filteredDomain=e,this.xDomain=this.filteredDomain,this.xScale=this.getXScale(this.xDomain,this.dims.width)}updateHoveredVertical(e){this.hoveredVertical=e.value,this.deactivateAll()}hideCircles(){this.hoveredVertical=null,this.deactivateAll()}onClick(e){this.select.emit(e)}trackBy(e,i){return`${i.name}`}setColors(){let e;e=this.schemeType===de.Ordinal?this.seriesDomain:this.yDomain,this.colors=new Qp(this.scheme,this.schemeType,e,this.customColors)}getLegendOptions(){const e={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return e.scaleType===de.Ordinal?(e.domain=this.seriesDomain,e.colors=this.colors,e.title=this.legendTitle):(e.domain=this.yDomain,e.colors=this.colors.scale),e}updateYAxisWidth({width:e}){this.yAxisWidth=e,this.update()}updateXAxisHeight({height:e}){this.xAxisHeight=e,this.update()}onActivate(e){this.deactivateAll(),!(this.activeEntries.findIndex(s=>s.name===e.name&&s.value===e.value)>-1)&&(this.activeEntries=[e],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e){const i=this.activeEntries.findIndex(s=>s.name===e.name&&s.value===e.value);this.activeEntries.splice(i,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}deactivateAll(){this.activeEntries=[...this.activeEntries];for(const e of this.activeEntries)this.deactivate.emit({value:e,entries:[]});this.activeEntries=[]}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=a.n5z(t)))(i||t)}}(),t.\u0275cmp=a.Xpm({type:t,selectors:[["ngx-charts-line-chart"]],contentQueries:function(e,i,s){if(1&e&&(a.Suo(s,Im,5),a.Suo(s,Om,5)),2&e){let r;a.iGM(r=a.CRH())&&(i.tooltipTemplate=r.first),a.iGM(r=a.CRH())&&(i.seriesTooltipTemplate=r.first)}},hostBindings:function(e,i){1&e&&a.NdJ("mouseleave",function(){return i.hideCircles()})},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",autoScale:"autoScale",timeline:"timeline",gradient:"gradient",showGridLines:"showGridLines",curve:"curve",activeEntries:"activeEntries",schemeType:"schemeType",rangeFillOpacity:"rangeFillOpacity",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",roundDomains:"roundDomains",tooltipDisabled:"tooltipDisabled",showRefLines:"showRefLines",referenceLines:"referenceLines",showRefLabels:"showRefLabels",xScaleMin:"xScaleMin",xScaleMax:"xScaleMax",yScaleMin:"yScaleMin",yScaleMax:"yScaleMax",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[a.qOj],decls:12,vars:20,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"line-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","wrapTicks","dimensionsChanged",4,"ngIf"],[4,"ngIf"],[3,"mouseleave",4,"ngIf"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","scaleType","legend","onDomainChange",4,"ngIf"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","wrapTicks","dimensionsChanged"],[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-line-series","",3,"xScale","yScale","colors","data","activeEntries","scaleType","curve","rangeFillOpacity","hasRange","animations"],[3,"mouseleave"],["ngx-charts-tooltip-area","",3,"dims","xSet","xScale","yScale","results","colors","tooltipDisabled","tooltipTemplate","hover"],[4,"ngFor","ngForOf"],["ngx-charts-circle-series","",3,"xScale","yScale","colors","data","scaleType","visibleValue","activeEntries","tooltipDisabled","tooltipTemplate","select","activate","deactivate"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","scaleType","legend","onDomainChange"],["ngx-charts-line-series","",3,"xScale","yScale","colors","data","scaleType","curve","hasRange","animations"]],template:function(e,i){1&e&&(a.TgZ(0,"ngx-charts-chart",0),a.NdJ("legendLabelClick",function(r){return i.onClick(r)})("legendLabelActivate",function(r){return i.onActivate(r)})("legendLabelDeactivate",function(r){return i.onDeactivate(r)}),a.O4$(),a.TgZ(1,"defs")(2,"clipPath"),a._UZ(3,"rect"),a.qZA()(),a.TgZ(4,"g",1),a.YNc(5,gp,1,11,"g",2),a.YNc(6,fp,1,13,"g",3),a.TgZ(7,"g"),a.YNc(8,xp,2,2,"g",4),a.YNc(9,yp,2,2,"g",4),a.YNc(10,Tp,3,9,"g",5),a.qZA()(),a.YNc(11,wp,2,13,"g",6),a.qZA()),2&e&&(a.Q6J("view",a.WLB(17,ra,i.width,i.height))("showLegend",i.legend)("legendOptions",i.legendOptions)("activeEntries",i.activeEntries)("animations",i.animations),a.xp6(2),a.uIk("id",i.clipPathId),a.xp6(1),a.uIk("width",i.dims.width+10)("height",i.dims.height+10)("transform","translate(-5, -5)"),a.xp6(1),a.uIk("transform",i.transform),a.xp6(1),a.Q6J("ngIf",i.xAxis),a.xp6(1),a.Q6J("ngIf",i.yAxis),a.xp6(1),a.uIk("clip-path",i.clipPath),a.xp6(1),a.Q6J("ngIf",!i.isSSR),a.xp6(1),a.Q6J("ngIf",i.isSSR),a.xp6(1),a.Q6J("ngIf",!i.tooltipDisabled),a.xp6(1),a.Q6J("ngIf",i.timeline&&"ordinal"!=i.scaleType))},dependencies:[ul,Yp,Xp,lg,Ml,Sl,Fl,H.O5,H.sg],styles:[".ngx-charts-outer{animation:chartFadeIn linear .6s}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .node,.ngx-charts .link,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .node.active,.ngx-charts .node:hover,.ngx-charts .link.active,.ngx-charts .link:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .node:focus,.ngx-charts .link:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .node.hidden,.ngx-charts .link.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}\n"],encapsulation:2,data:{animation:[(0,Be.X$)("animationState",[(0,Be.eR)(":leave",[(0,Be.oB)({opacity:1}),(0,Be.jt)(500,(0,Be.oB)({opacity:0}))])])]},changeDetection:0}),t})(),Rl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[qt]]}),t})();Math;let Lr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[qt]]}),t})(),ug=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[qt,Lr,Rl]]}),t})(),pg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[qt]]}),t})(),gg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[qt]]}),t})(),fg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[qt,Lr,Pl]]}),t})(),xg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[qt]]}),t})(),vg=(()=>{class t{constructor(){!function _g(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[qt,ng,Pl,sg,ag,rg,xg,Rl,ug,pg,Lr,gg,fg]}),t})()},5861:(vt,Fe,V)=>{function a(ne,xe,le,j,Q,X,B){try{var ee=ne[X](B),K=ee.value}catch(se){return void le(se)}ee.done?xe(K):Promise.resolve(K).then(j,Q)}function H(ne){return function(){var xe=this,le=arguments;return new Promise(function(j,Q){var X=ne.apply(xe,le);function B(K){a(X,j,Q,B,ee,"next",K)}function ee(K){a(X,j,Q,B,ee,"throw",K)}B(void 0)})}}V.d(Fe,{Z:()=>H})}}]);