"use strict";(self.webpackChunkInvestment_News_Aggregator_and_Analysis_Tool_project=self.webpackChunkInvestment_News_Aggregator_and_Analysis_Tool_project||[]).push([[897],{6425:(Pt,We,z)=>{z.d(We,{T:()=>ha});var r=z(5861);class oe extends Error{constructor(h,o="FunctionsError",l){super(h),this.name=o,this.context=l}}class De extends oe{constructor(h){super("Failed to send a request to the Edge Function","FunctionsFetchError",h)}}class $ extends oe{constructor(h){super("Relay Error invoking the Edge Function","FunctionsRelayError",h)}}class ne extends oe{constructor(h){super("Edge Function returned a non-2xx status code","FunctionsHttpError",h)}}class ie{constructor(h,{headers:o={},customFetch:l}={}){this.url=h,this.headers=o,this.fetch=(g=>{let h;return h=g||(typeof fetch>"u"?(...o)=>Promise.resolve().then(z.bind(z,6397)).then(({default:l})=>l(...o)):fetch),(...o)=>h(...o)})(l)}setAuth(h){this.headers.Authorization=`Bearer ${h}`}invoke(h,o={}){var l;return function(g,h,o,l){return new(o||(o=Promise))(function(m,p){function y(F){try{M(l.next(F))}catch(re){p(re)}}function L(F){try{M(l.throw(F))}catch(re){p(re)}}function M(F){F.done?m(F.value):function u(m){return m instanceof o?m:new o(function(p){p(m)})}(F.value).then(y,L)}M((l=l.apply(g,h||[])).next())})}(this,void 0,void 0,function*(){try{const{headers:u,method:m,body:p}=o;let L,y={};p&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",L=p):"string"==typeof p?(y["Content-Type"]="text/plain",L=p):typeof FormData<"u"&&p instanceof FormData?L=p:(y["Content-Type"]="application/json",L=JSON.stringify(p)));const M=yield this.fetch(`${this.url}/${h}`,{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),u),body:L}).catch(Ie=>{throw new De(Ie)}),F=M.headers.get("x-relay-error");if(F&&"true"===F)throw new $(M);if(!M.ok)throw new ne(M);let Te,re=(null!==(l=M.headers.get("Content-Type"))&&void 0!==l?l:"text/plain").split(";")[0].trim();return Te="application/json"===re?yield M.json():"application/octet-stream"===re?yield M.blob():"multipart/form-data"===re?yield M.formData():yield M.text(),{data:Te,error:null}}catch(u){return{data:null,error:u}}})}}var X=z(6397);class fe extends Error{constructor(h){super(h.message),this.name="PostgrestError",this.details=h.details,this.hint=h.hint,this.code=h.code}}class pe{constructor(h){this.shouldThrowOnError=!1,this.method=h.method,this.url=h.url,this.headers=h.headers,this.schema=h.schema,this.body=h.body,this.shouldThrowOnError=h.shouldThrowOnError,this.signal=h.signal,this.isMaybeSingle=h.isMaybeSingle,this.fetch=h.fetch?h.fetch:typeof fetch>"u"?X.default:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(h,o){var l=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let m=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var p=(0,r.Z)(function*(y){var L,M,F;let re=null,Te=null,Ie=null,we=y.status,et=y.statusText;if(y.ok){if("HEAD"!==l.method){const _i=yield y.text();""===_i||(Te="text/csv"===l.headers.Accept||l.headers.Accept&&l.headers.Accept.includes("application/vnd.pgrst.plan+text")?_i:JSON.parse(_i))}const Ct=null===(L=l.headers.Prefer)||void 0===L?void 0:L.match(/count=(exact|planned|estimated)/),Gt=null===(M=y.headers.get("content-range"))||void 0===M?void 0:M.split("/");Ct&&Gt&&Gt.length>1&&(Ie=parseInt(Gt[1])),l.isMaybeSingle&&"GET"===l.method&&Array.isArray(Te)&&(Te.length>1?(re={code:"PGRST116",details:`Results contain ${Te.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},Te=null,Ie=null,we=406,et="Not Acceptable"):Te=1===Te.length?Te[0]:null)}else{const Ct=yield y.text();try{re=JSON.parse(Ct),Array.isArray(re)&&404===y.status&&(Te=[],re=null,we=200,et="OK")}catch{404===y.status&&""===Ct?(we=204,et="No Content"):re={message:Ct}}if(re&&l.isMaybeSingle&&!(null===(F=re?.details)||void 0===F)&&F.includes("0 rows")&&(re=null,we=200,et="OK"),re&&l.shouldThrowOnError)throw new fe(re)}return{error:re,data:Te,count:Ie,status:we,statusText:et}});return function(y){return p.apply(this,arguments)}}());return this.shouldThrowOnError||(m=m.catch(p=>{var y,L,M;return{error:{message:`${null!==(y=p?.name)&&void 0!==y?y:"FetchError"}: ${p?.message}`,details:`${null!==(L=p?.stack)&&void 0!==L?L:""}`,hint:"",code:`${null!==(M=p?.code)&&void 0!==M?M:""}`},data:null,count:null,status:0,statusText:""}})),m.then(h,o)}}class ve extends pe{select(h){let o=!1;const l=(h??"*").split("").map(u=>/\s/.test(u)&&!o?"":('"'===u&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(h,{ascending:o=!0,nullsFirst:l,foreignTable:u,referencedTable:m=u}={}){const p=m?`${m}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${h}.${o?"asc":"desc"}${void 0===l?"":l?".nullsfirst":".nullslast"}`),this}limit(h,{foreignTable:o,referencedTable:l=o}={}){return this.url.searchParams.set(typeof l>"u"?"limit":`${l}.limit`,`${h}`),this}range(h,o,{foreignTable:l,referencedTable:u=l}={}){const p=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(typeof u>"u"?"offset":`${u}.offset`,`${h}`),this.url.searchParams.set(p,""+(o-h+1)),this}abortSignal(h){return this.signal=h,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="GET"===this.method?"application/json":"application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:h=!1,verbose:o=!1,settings:l=!1,buffers:u=!1,wal:m=!1,format:p="text"}={}){var y;const L=[h?"analyze":null,o?"verbose":null,l?"settings":null,u?"buffers":null,m?"wal":null].filter(Boolean).join("|"),M=null!==(y=this.headers.Accept)&&void 0!==y?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${p}; for="${M}"; options=${L};`,this}rollback(){var h;return(null!==(h=this.headers.Prefer)&&void 0!==h?h:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Me extends ve{eq(h,o){return this.url.searchParams.append(h,`eq.${o}`),this}neq(h,o){return this.url.searchParams.append(h,`neq.${o}`),this}gt(h,o){return this.url.searchParams.append(h,`gt.${o}`),this}gte(h,o){return this.url.searchParams.append(h,`gte.${o}`),this}lt(h,o){return this.url.searchParams.append(h,`lt.${o}`),this}lte(h,o){return this.url.searchParams.append(h,`lte.${o}`),this}like(h,o){return this.url.searchParams.append(h,`like.${o}`),this}likeAllOf(h,o){return this.url.searchParams.append(h,`like(all).{${o.join(",")}}`),this}likeAnyOf(h,o){return this.url.searchParams.append(h,`like(any).{${o.join(",")}}`),this}ilike(h,o){return this.url.searchParams.append(h,`ilike.${o}`),this}ilikeAllOf(h,o){return this.url.searchParams.append(h,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(h,o){return this.url.searchParams.append(h,`ilike(any).{${o.join(",")}}`),this}is(h,o){return this.url.searchParams.append(h,`is.${o}`),this}in(h,o){const l=o.map(u=>"string"==typeof u&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(h,`in.(${l})`),this}contains(h,o){return"string"==typeof o?this.url.searchParams.append(h,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(h,`cs.{${o.join(",")}}`):this.url.searchParams.append(h,`cs.${JSON.stringify(o)}`),this}containedBy(h,o){return"string"==typeof o?this.url.searchParams.append(h,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(h,`cd.{${o.join(",")}}`):this.url.searchParams.append(h,`cd.${JSON.stringify(o)}`),this}rangeGt(h,o){return this.url.searchParams.append(h,`sr.${o}`),this}rangeGte(h,o){return this.url.searchParams.append(h,`nxl.${o}`),this}rangeLt(h,o){return this.url.searchParams.append(h,`sl.${o}`),this}rangeLte(h,o){return this.url.searchParams.append(h,`nxr.${o}`),this}rangeAdjacent(h,o){return this.url.searchParams.append(h,`adj.${o}`),this}overlaps(h,o){return this.url.searchParams.append(h,"string"==typeof o?`ov.${o}`:`ov.{${o.join(",")}}`),this}textSearch(h,o,{config:l,type:u}={}){let m="";return"plain"===u?m="pl":"phrase"===u?m="ph":"websearch"===u&&(m="w"),this.url.searchParams.append(h,`${m}fts${void 0===l?"":`(${l})`}.${o}`),this}match(h){return Object.entries(h).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(h,o,l){return this.url.searchParams.append(h,`not.${o}.${l}`),this}or(h,{foreignTable:o,referencedTable:l=o}={}){return this.url.searchParams.append(l?`${l}.or`:"or",`(${h})`),this}filter(h,o,l){return this.url.searchParams.append(h,`${o}.${l}`),this}}class Ve{constructor(h,{headers:o={},schema:l,fetch:u}){this.url=h,this.headers=o,this.schema=l,this.fetch=u}select(h,{head:o=!1,count:l}={}){const u=o?"HEAD":"GET";let m=!1;const p=(h??"*").split("").map(y=>/\s/.test(y)&&!m?"":('"'===y&&(m=!m),y)).join("");return this.url.searchParams.set("select",p),l&&(this.headers.Prefer=`count=${l}`),new Me({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(h,{count:o,defaultToNull:l=!0}={}){const m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),o&&m.push(`count=${o}`),l||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(h)){const p=h.reduce((y,L)=>y.concat(Object.keys(L)),[]);if(p.length>0){const y=[...new Set(p)].map(L=>`"${L}"`);this.url.searchParams.set("columns",y.join(","))}}return new Me({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:h,fetch:this.fetch,allowEmpty:!1})}upsert(h,{onConflict:o,ignoreDuplicates:l=!1,count:u,defaultToNull:m=!0}={}){const y=[`resolution=${l?"ignore":"merge"}-duplicates`];if(void 0!==o&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&y.push(this.headers.Prefer),u&&y.push(`count=${u}`),m||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(h)){const L=h.reduce((M,F)=>M.concat(Object.keys(F)),[]);if(L.length>0){const M=[...new Set(L)].map(F=>`"${F}"`);this.url.searchParams.set("columns",M.join(","))}}return new Me({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:h,fetch:this.fetch,allowEmpty:!1})}update(h,{count:o}={}){const u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),o&&u.push(`count=${o}`),this.headers.Prefer=u.join(","),new Me({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:h,fetch:this.fetch,allowEmpty:!1})}delete({count:h}={}){const l=[];return h&&l.push(`count=${h}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new Me({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const tt={"X-Client-Info":"postgrest-js/1.9.2"};class it{constructor(h,{headers:o={},schema:l,fetch:u}={}){this.url=h,this.headers=Object.assign(Object.assign({},tt),o),this.schemaName=l,this.fetch=u}from(h){const o=new URL(`${this.url}/${h}`);return new Ve(o,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(h){return new it(this.url,{headers:this.headers,schema:h,fetch:this.fetch})}rpc(h,o={},{head:l=!1,count:u}={}){let m;const p=new URL(`${this.url}/rpc/${h}`);let y;l?(m="HEAD",Object.entries(o).forEach(([M,F])=>{p.searchParams.append(M,`${F}`)})):(m="POST",y=o);const L=Object.assign({},this.headers);return u&&(L.Prefer=`count=${u}`),new Me({method:m,url:p,headers:L,schema:this.schemaName,body:y,fetch:this.fetch,allowEmpty:!1})}}const ti={"X-Client-Info":"realtime-js/2.9.3"};var ae=(()=>{return(g=ae||(ae={}))[g.connecting=0]="connecting",g[g.open=1]="open",g[g.closing=2]="closing",g[g.closed=3]="closed",ae;var g})(),ke=(()=>{return(g=ke||(ke={})).closed="closed",g.errored="errored",g.joined="joined",g.joining="joining",g.leaving="leaving",ke;var g})(),$e=(()=>{return(g=$e||($e={})).close="phx_close",g.error="phx_error",g.join="phx_join",g.reply="phx_reply",g.leave="phx_leave",g.access_token="access_token",$e;var g})(),Je=(()=>((Je||(Je={})).websocket="websocket",Je))(),At=(()=>{return(g=At||(At={})).Connecting="connecting",g.Open="open",g.Closing="closing",g.Closed="closed",At;var g})();class ii{constructor(h,o){this.callback=h,this.timerCalc=o,this.timer=void 0,this.tries=0,this.callback=h,this.timerCalc=o}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class It{constructor(){this.HEADER_LENGTH=1}decode(h,o){return h.constructor===ArrayBuffer?o(this._binaryDecode(h)):o("string"==typeof h?JSON.parse(h):{})}_binaryDecode(h){const o=new DataView(h),l=new TextDecoder;return this._decodeBroadcast(h,o,l)}_decodeBroadcast(h,o,l){const u=o.getUint8(1),m=o.getUint8(2);let p=this.HEADER_LENGTH+2;const y=l.decode(h.slice(p,p+u));p+=u;const L=l.decode(h.slice(p,p+m));return p+=m,{ref:null,topic:y,event:L,payload:JSON.parse(l.decode(h.slice(p,h.byteLength)))}}}class Mt{constructor(h,o,l={},u=1e4){this.channel=h,this.event=o,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(h){this.timeout=h,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(h){this.payload=Object.assign(Object.assign({},this.payload),h)}receive(h,o){var l;return this._hasReceived(h)&&o(null===(l=this.receivedResp)||void 0===l?void 0:l.response),this.recHooks.push({status:h,callback:o}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},o=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=o,this._matchReceive(o)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(h,o){this.refEvent&&this.channel._trigger(this.refEvent,{status:h,response:o})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:h,response:o}){this.recHooks.filter(l=>l.status===h).forEach(l=>l.callback(o))}_hasReceived(h){return this.receivedResp&&this.receivedResp.status===h}}class ni{constructor(h,o){this.channel=h,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=o?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:m,onLeave:p,onSync:y}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ni.syncState(this.state,u,m,p),this.pendingDiffs.forEach(L=>{this.state=ni.syncDiff(this.state,L,m,p)}),this.pendingDiffs=[],y()}),this.channel._on(l.diff,{},u=>{const{onJoin:m,onLeave:p,onSync:y}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=ni.syncDiff(this.state,u,m,p),y())}),this.onJoin((u,m,p)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:m,newPresences:p})}),this.onLeave((u,m,p)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:m,leftPresences:p})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(h,o,l,u){const m=this.cloneDeep(h),p=this.transformState(o),y={},L={};return this.map(m,(M,F)=>{p[M]||(L[M]=F)}),this.map(p,(M,F)=>{const re=m[M];if(re){const Te=F.map(ot=>ot.presence_ref),Ie=re.map(ot=>ot.presence_ref),we=F.filter(ot=>Ie.indexOf(ot.presence_ref)<0),et=re.filter(ot=>Te.indexOf(ot.presence_ref)<0);we.length>0&&(y[M]=we),et.length>0&&(L[M]=et)}else y[M]=F}),this.syncDiff(m,{joins:y,leaves:L},l,u)}static syncDiff(h,o,l,u){const{joins:m,leaves:p}={joins:this.transformState(o.joins),leaves:this.transformState(o.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(m,(y,L)=>{var M;const F=null!==(M=h[y])&&void 0!==M?M:[];if(h[y]=this.cloneDeep(L),F.length>0){const re=h[y].map(Ie=>Ie.presence_ref),Te=F.filter(Ie=>re.indexOf(Ie.presence_ref)<0);h[y].unshift(...Te)}l(y,F,L)}),this.map(p,(y,L)=>{let M=h[y];if(!M)return;const F=L.map(re=>re.presence_ref);M=M.filter(re=>F.indexOf(re.presence_ref)<0),h[y]=M,u(y,M,L),0===M.length&&delete h[y]}),h}static map(h,o){return Object.getOwnPropertyNames(h).map(l=>o(l,h[l]))}static transformState(h){return h=this.cloneDeep(h),Object.getOwnPropertyNames(h).reduce((o,l)=>{const u=h[l];return o[l]="metas"in u?u.metas.map(m=>(m.presence_ref=m.phx_ref,delete m.phx_ref,delete m.phx_ref_prev,m)):u,o},{})}static cloneDeep(h){return JSON.parse(JSON.stringify(h))}onJoin(h){this.caller.onJoin=h}onLeave(h){this.caller.onLeave=h}onSync(h){this.caller.onSync=h}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var nt=(()=>{return(g=nt||(nt={})).abstime="abstime",g.bool="bool",g.date="date",g.daterange="daterange",g.float4="float4",g.float8="float8",g.int2="int2",g.int4="int4",g.int4range="int4range",g.int8="int8",g.int8range="int8range",g.json="json",g.jsonb="jsonb",g.money="money",g.numeric="numeric",g.oid="oid",g.reltime="reltime",g.text="text",g.time="time",g.timestamp="timestamp",g.timestamptz="timestamptz",g.timetz="timetz",g.tsrange="tsrange",g.tstzrange="tstzrange",nt;var g})();const Rt=(g,h,o={})=>{var l;const u=null!==(l=o.skipTypes)&&void 0!==l?l:[];return Object.keys(h).reduce((m,p)=>(m[p]=zi(p,g,h,u),m),{})},zi=(g,h,o,l)=>{const m=h.find(y=>y.name===g)?.type,p=o[g];return m&&!l.includes(m)?vi(m,p):xi(p)},vi=(g,h)=>{if("_"===g.charAt(0)){const o=g.slice(1,g.length);return Pi(h,o)}switch(g){case nt.bool:return wi(h);case nt.float4:case nt.float8:case nt.int2:case nt.int4:case nt.int8:case nt.numeric:case nt.oid:return Ut(h);case nt.json:case nt.jsonb:return St(h);case nt.timestamp:return $t(h);default:return xi(h)}},xi=g=>g,wi=g=>{switch(g){case"t":return!0;case"f":return!1;default:return g}},Ut=g=>{if("string"==typeof g){const h=parseFloat(g);if(!Number.isNaN(h))return h}return g},St=g=>{if("string"==typeof g)try{return JSON.parse(g)}catch(h){return console.log(`JSON parse error: ${h}`),g}return g},Pi=(g,h)=>{if("string"!=typeof g)return g;const o=g.length-1;if("{"===g[0]&&"}"===g[o]){let m;const p=g.slice(1,o);try{m=JSON.parse("["+p+"]")}catch{m=p?p.split(","):[]}return m.map(y=>vi(h,y))}return g},$t=g=>"string"==typeof g?g.replace(" ","T"):g;class Ai{constructor(h,o={config:{}},l){this.topic=h,this.params=o,this.socket=l,this.bindings={},this.state=ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=h.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},o.config),this.timeout=this.socket.timeout,this.joinPush=new Mt(this,$e.join,this.params,this.timeout),this.rejoinTimer=new ii(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ke.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on($e.reply,{},(u,m)=>{this._trigger(this._replyEventName(m),u)}),this.presence=new ni(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(h,o=this.timeout){var l,u;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:m,presence:p}}=this.params;this._onError(M=>h&&h("CHANNEL_ERROR",M)),this._onClose(()=>h&&h("CLOSED"));const y={},L={broadcast:m,presence:p,postgres_changes:null!==(u=null===(l=this.bindings.postgres_changes)||void 0===l?void 0:l.map(M=>M.filter))&&void 0!==u?u:[]};this.socket.accessToken&&(y.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:L},y)),this.joinedOnce=!0,this._rejoin(o),this.joinPush.receive("ok",({postgres_changes:M})=>{var F;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0!==M){const re=this.bindings.postgres_changes,Te=null!==(F=re?.length)&&void 0!==F?F:0,Ie=[];for(let we=0;we<Te;we++){const et=re[we],{filter:{event:ot,schema:Ct,table:Gt,filter:_i}}=et,ei=M&&M[we];if(!ei||ei.event!==ot||ei.schema!==Ct||ei.table!==Gt||ei.filter!==_i)return this.unsubscribe(),void(h&&h("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes")));Ie.push(Object.assign(Object.assign({},et),{id:ei.id}))}return this.bindings.postgres_changes=Ie,void(h&&h("SUBSCRIBED"))}h&&h("SUBSCRIBED")}).receive("error",M=>{h&&h("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(M).join(", ")||"error")))}).receive("timeout",()=>{h&&h("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(h,o={}){var l=this;return(0,r.Z)(function*(){return yield l.send({type:"presence",event:"track",payload:h},o.timeout||l.timeout)})()}untrack(h={}){var o=this;return(0,r.Z)(function*(){return yield o.send({type:"presence",event:"untrack"},h)})()}on(h,o,l){return this._on(h,o,l)}send(h,o={}){var l=this;return(0,r.Z)(function*(){var u,m;if(l._canPush()||"broadcast"!==h.type)return new Promise(p=>{var y,L,M;const F=l._push(h.type,h,o.timeout||l.timeout);"broadcast"===h.type&&!(null!==(M=null===(L=null===(y=l.params)||void 0===y?void 0:y.config)||void 0===L?void 0:L.broadcast)&&void 0!==M&&M.ack)&&p("ok"),F.receive("ok",()=>p("ok")),F.receive("timeout",()=>p("timed out"))});{const{event:p,payload:y}=h,L={method:"POST",headers:{apikey:null!==(u=l.socket.apiKey)&&void 0!==u?u:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:l.subTopic,event:p,payload:y}]})};try{return(yield l._fetchWithTimeout(l.broadcastEndpointURL,L,null!==(m=o.timeout)&&void 0!==m?m:l.timeout)).ok?"ok":"error"}catch(M){return"AbortError"===M.name?"timed out":"error"}}})()}updateJoinPayload(h){this.joinPush.updatePayload(h)}unsubscribe(h=this.timeout){this.state=ke.leaving;const o=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($e.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(l=>{const u=new Mt(this,$e.leave,{},h);u.receive("ok",()=>{o(),l("ok")}).receive("timeout",()=>{o(),l("timed out")}).receive("error",()=>{l("error")}),u.send(),this._canPush()||u.trigger("ok",{})})}_broadcastEndpointURL(){let h=this.socket.endPoint;return h=h.replace(/^ws/i,"http"),h=h.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),h.replace(/\/+$/,"")+"/api/broadcast"}_fetchWithTimeout(h,o,l){var u=this;return(0,r.Z)(function*(){const m=new AbortController,p=setTimeout(()=>m.abort(),l),y=yield u.socket.fetch(h,Object.assign(Object.assign({},o),{signal:m.signal}));return clearTimeout(p),y})()}_push(h,o,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${h}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Mt(this,h,o,l);return this._canPush()?u.send():(u.startTimeout(),this.pushBuffer.push(u)),u}_onMessage(h,o,l){return o}_isMember(h){return this.topic===h}_joinRef(){return this.joinPush.ref}_trigger(h,o,l){var u,m;const p=h.toLocaleLowerCase(),{close:y,error:L,leave:M,join:F}=$e;if(l&&[y,L,M,F].indexOf(p)>=0&&l!==this._joinRef())return;let Te=this._onMessage(p,o,l);if(o&&!Te)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(p)?null===(u=this.bindings.postgres_changes)||void 0===u||u.filter(Ie=>{var we,et,ot;return"*"===(null===(we=Ie.filter)||void 0===we?void 0:we.event)||(null===(ot=null===(et=Ie.filter)||void 0===et?void 0:et.event)||void 0===ot?void 0:ot.toLocaleLowerCase())===p}).map(Ie=>Ie.callback(Te,l)):null===(m=this.bindings[p])||void 0===m||m.filter(Ie=>{var we,et,ot,Ct,Gt,_i;if(["broadcast","presence","postgres_changes"].includes(p)){if("id"in Ie){const ei=Ie.id,Wi=null===(we=Ie.filter)||void 0===we?void 0:we.event;return ei&&(null===(et=o.ids)||void 0===et?void 0:et.includes(ei))&&("*"===Wi||Wi?.toLocaleLowerCase()===(null===(ot=o.data)||void 0===ot?void 0:ot.type.toLocaleLowerCase()))}{const ei=null===(Gt=null===(Ct=Ie?.filter)||void 0===Ct?void 0:Ct.event)||void 0===Gt?void 0:Gt.toLocaleLowerCase();return"*"===ei||ei===(null===(_i=o?.event)||void 0===_i?void 0:_i.toLocaleLowerCase())}}return Ie.type.toLocaleLowerCase()===p}).map(Ie=>{if("object"==typeof Te&&"ids"in Te){const we=Te.data,{schema:et,table:ot,commit_timestamp:Ct,type:Gt,errors:_i}=we;Te=Object.assign(Object.assign({},{schema:et,table:ot,commit_timestamp:Ct,eventType:Gt,new:{},old:{},errors:_i}),this._getPayloadRecords(we))}Ie.callback(Te,l)})}_isClosed(){return this.state===ke.closed}_isJoined(){return this.state===ke.joined}_isJoining(){return this.state===ke.joining}_isLeaving(){return this.state===ke.leaving}_replyEventName(h){return`chan_reply_${h}`}_on(h,o,l){const u=h.toLocaleLowerCase(),m={type:u,filter:o,callback:l};return this.bindings[u]?this.bindings[u].push(m):this.bindings[u]=[m],this}_off(h,o){const l=h.toLocaleLowerCase();return this.bindings[l]=this.bindings[l].filter(u=>{var m;return!((null===(m=u.type)||void 0===m?void 0:m.toLocaleLowerCase())===l&&Ai.isEqual(u.filter,o))}),this}static isEqual(h,o){if(Object.keys(h).length!==Object.keys(o).length)return!1;for(const l in h)if(h[l]!==o[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(h){this._on($e.close,{},h)}_onError(h){this._on($e.error,{},o=>h(o))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(h=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ke.joining,this.joinPush.resend(h))}_getPayloadRecords(h){const o={new:{},old:{}};return("INSERT"===h.type||"UPDATE"===h.type)&&(o.new=Rt(h.columns,h.record)),("UPDATE"===h.type||"DELETE"===h.type)&&(o.old=Rt(h.columns,h.old_record)),o}}const Zt=()=>{},Li=typeof WebSocket<"u";class qt{constructor(h,o){var u,l=this;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=ti,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Zt,this.conn=null,this.sendBuffer=[],this.serializer=new It,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=p=>{let y;return y=p||(typeof fetch>"u"?(...L)=>Promise.resolve().then(z.bind(z,6397)).then(({default:M})=>M(...L)):fetch),(...L)=>y(...L)},this.endPoint=`${h}/${Je.websocket}`,this.transport=o?.transport?o.transport:null,o?.params&&(this.params=o.params),o?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),o.headers)),o?.timeout&&(this.timeout=o.timeout),o?.logger&&(this.logger=o.logger),o?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=o.heartbeatIntervalMs);const m=null===(u=o?.params)||void 0===u?void 0:u.apikey;m&&(this.accessToken=m,this.apiKey=m),this.reconnectAfterMs=o?.reconnectAfterMs?o.reconnectAfterMs:p=>[1e3,2e3,5e3,1e4][p-1]||1e4,this.encode=o?.encode?o.encode:(p,y)=>y(JSON.stringify(p)),this.decode=o?.decode?o.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ii((0,r.Z)(function*(){l.disconnect(),l.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(o?.fetch)}connect(){if(!this.conn){if(this.transport)return void(this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers}));if(Li)return this.conn=new WebSocket(this._endPointURL()),void this.setupConnection();this.conn=new Gi(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),z.e(144).then(z.t.bind(z,3144,23)).then(({default:h})=>{this.conn=new h(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(h,o){this.conn&&(this.conn.onclose=function(){},h?this.conn.close(h,o??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(h){var o=this;return(0,r.Z)(function*(){const l=yield h.unsubscribe();return 0===o.channels.length&&o.disconnect(),l})()}removeAllChannels(){var h=this;return(0,r.Z)(function*(){const o=yield Promise.all(h.channels.map(l=>l.unsubscribe()));return h.disconnect(),o})()}log(h,o,l){this.logger(h,o,l)}connectionState(){switch(this.conn&&this.conn.readyState){case ae.connecting:return At.Connecting;case ae.open:return At.Open;case ae.closing:return At.Closing;default:return At.Closed}}isConnected(){return this.connectionState()===At.Open}channel(h,o={config:{}}){const l=new Ai(`realtime:${h}`,o,this);return this.channels.push(l),l}push(h){const{topic:o,event:l,payload:u,ref:m}=h,p=()=>{this.encode(h,y=>{var L;null===(L=this.conn)||void 0===L||L.send(y)})};this.log("push",`${o} ${l} (${m})`,u),this.isConnected()?p():this.sendBuffer.push(p)}setAuth(h){this.accessToken=h,this.channels.forEach(o=>{h&&o.updateJoinPayload({access_token:h}),o.joinedOnce&&o._isJoined()&&o._push($e.access_token,{access_token:h})})}_makeRef(){let h=this.ref+1;return this.ref=h===this.ref?0:h,this.ref.toString()}_leaveOpenTopic(h){let o=this.channels.find(l=>l.topic===h&&(l._isJoined()||l._isJoining()));o&&(this.log("transport",`leaving duplicate topic "${h}"`),o.unsubscribe())}_remove(h){this.channels=this.channels.filter(o=>o._joinRef()!==h._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=h=>this._onConnError(h),this.conn.onmessage=h=>this._onConnMessage(h),this.conn.onclose=h=>this._onConnClose(h))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(h){this.decode(h.data,o=>{let{topic:l,event:u,payload:m,ref:p}=o;(p&&p===this.pendingHeartbeatRef||u===m?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${m.status||""} ${l} ${u} ${p&&"("+p+")"||""}`,m),this.channels.filter(y=>y._isMember(l)).forEach(y=>y._trigger(u,m,p)),this.stateChangeCallbacks.message.forEach(y=>y(o))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(h=>h())}_onConnClose(h){this.log("transport","close",h),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(o=>o(h))}_onConnError(h){this.log("transport",h.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(o=>o(h))}_triggerChanError(){this.channels.forEach(h=>h._trigger($e.error))}_appendParams(h,o){if(0===Object.keys(o).length)return h;const l=h.match(/\?/)?"&":"?";return`${h}${l}${new URLSearchParams(o)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(h=>h()),this.sendBuffer=[])}_sendHeartbeat(){var h;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(h=this.conn)||void 0===h||h.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class Gi{constructor(h,o,l){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ae.connecting,this.send=()=>{},this.url=null,this.url=h,this.close=l.close}}class Ri extends Error{constructor(h){super(h),this.__isStorageError=!0,this.name="StorageError"}}function vt(g){return"object"==typeof g&&null!==g&&"__isStorageError"in g}class hi extends Ri{constructor(h,o){super(h),this.name="StorageApiError",this.status=o}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class si extends Ri{constructor(h,o){super(h),this.name="StorageUnknownError",this.originalError=o}}const Bt=g=>{let h;return h=g||(typeof fetch>"u"?(...o)=>Promise.resolve().then(z.bind(z,6397)).then(({default:l})=>l(...o)):fetch),(...o)=>h(...o)};var pi=function(g,h,o,l){return new(o||(o=Promise))(function(m,p){function y(F){try{M(l.next(F))}catch(re){p(re)}}function L(F){try{M(l.throw(F))}catch(re){p(re)}}function M(F){F.done?m(F.value):function u(m){return m instanceof o?m:new o(function(p){p(m)})}(F.value).then(y,L)}M((l=l.apply(g,h||[])).next())})};const Vi=g=>g.msg||g.message||g.error_description||g.error||JSON.stringify(g),un=(g,h)=>pi(void 0,void 0,void 0,function*(){const o=yield function(g,h,o,l){return new(o||(o=Promise))(function(m,p){function y(F){try{M(l.next(F))}catch(re){p(re)}}function L(F){try{M(l.throw(F))}catch(re){p(re)}}function M(F){F.done?m(F.value):function u(m){return m instanceof o?m:new o(function(p){p(m)})}(F.value).then(y,L)}M((l=l.apply(g,h||[])).next())})}(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(z.bind(z,6397))).Response:Response});g instanceof o?g.json().then(l=>{h(new hi(Vi(l),g.status||500))}).catch(l=>{h(new si(Vi(l),l))}):h(new si(Vi(g),g))}),Ki=(g,h,o,l)=>{const u={method:g,headers:h?.headers||{}};return"GET"===g?u:(u.headers=Object.assign({"Content-Type":"application/json"},h?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),o))};function Vt(g,h,o,l,u,m){return pi(this,void 0,void 0,function*(){return new Promise((p,y)=>{g(o,Ki(h,l,u,m)).then(L=>{if(!L.ok)throw L;return l?.noResolveJson?L:L.json()}).then(L=>p(L)).catch(L=>un(L,y))})})}function Ni(g,h,o,l){return pi(this,void 0,void 0,function*(){return Vt(g,"GET",h,o,l)})}function le(g,h,o,l,u){return pi(this,void 0,void 0,function*(){return Vt(g,"POST",h,l,u,o)})}function Q(g,h,o,l,u){return pi(this,void 0,void 0,function*(){return Vt(g,"PUT",h,l,u,o)})}function w(g,h,o,l,u){return pi(this,void 0,void 0,function*(){return Vt(g,"DELETE",h,l,u,o)})}var G=function(g,h,o,l){return new(o||(o=Promise))(function(m,p){function y(F){try{M(l.next(F))}catch(re){p(re)}}function L(F){try{M(l.throw(F))}catch(re){p(re)}}function M(F){F.done?m(F.value):function u(m){return m instanceof o?m:new o(function(p){p(m)})}(F.value).then(y,L)}M((l=l.apply(g,h||[])).next())})};const ce={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ge={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class qe{constructor(h,o={},l,u){this.url=h,this.headers=o,this.bucketId=l,this.fetch=Bt(u)}uploadOrUpdate(h,o,l,u){return G(this,void 0,void 0,function*(){try{let m;const p=Object.assign(Object.assign({},ge),u),y=Object.assign(Object.assign({},this.headers),"POST"===h&&{"x-upsert":String(p.upsert)});typeof Blob<"u"&&l instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",l)):typeof FormData<"u"&&l instanceof FormData?(m=l,m.append("cacheControl",p.cacheControl)):(m=l,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const L=this._removeEmptyFolders(o),M=this._getFinalPath(L),F=yield this.fetch(`${this.url}/object/${M}`,Object.assign({method:h,body:m,headers:y},p?.duplex?{duplex:p.duplex}:{})),re=yield F.json();return F.ok?{data:{path:L,id:re.Id,fullPath:re.Key},error:null}:{data:null,error:re}}catch(m){if(vt(m))return{data:null,error:m};throw m}})}upload(h,o,l){return G(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",h,o,l)})}uploadToSignedUrl(h,o,l,u){return G(this,void 0,void 0,function*(){const m=this._removeEmptyFolders(h),p=this._getFinalPath(m),y=new URL(this.url+`/object/upload/sign/${p}`);y.searchParams.set("token",o);try{let L;const M=Object.assign({upsert:ge.upsert},u),F=Object.assign(Object.assign({},this.headers),{"x-upsert":String(M.upsert)});typeof Blob<"u"&&l instanceof Blob?(L=new FormData,L.append("cacheControl",M.cacheControl),L.append("",l)):typeof FormData<"u"&&l instanceof FormData?(L=l,L.append("cacheControl",M.cacheControl)):(L=l,F["cache-control"]=`max-age=${M.cacheControl}`,F["content-type"]=M.contentType);const re=yield this.fetch(y.toString(),{method:"PUT",body:L,headers:F}),Te=yield re.json();return re.ok?{data:{path:m,fullPath:Te.Key},error:null}:{data:null,error:Te}}catch(L){if(vt(L))return{data:null,error:L};throw L}})}createSignedUploadUrl(h){return G(this,void 0,void 0,function*(){try{let o=this._getFinalPath(h);const l=yield le(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:this.headers}),u=new URL(this.url+l.url),m=u.searchParams.get("token");if(!m)throw new Ri("No token returned by API");return{data:{signedUrl:u.toString(),path:h,token:m},error:null}}catch(o){if(vt(o))return{data:null,error:o};throw o}})}update(h,o,l){return G(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",h,o,l)})}move(h,o){return G(this,void 0,void 0,function*(){try{return{data:yield le(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:h,destinationKey:o},{headers:this.headers}),error:null}}catch(l){if(vt(l))return{data:null,error:l};throw l}})}copy(h,o){return G(this,void 0,void 0,function*(){try{return{data:{path:(yield le(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:h,destinationKey:o},{headers:this.headers})).Key},error:null}}catch(l){if(vt(l))return{data:null,error:l};throw l}})}createSignedUrl(h,o,l){return G(this,void 0,void 0,function*(){try{let u=this._getFinalPath(h),m=yield le(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:o},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const p=l?.download?`&download=${!0===l.download?"":l.download}`:"";return m={signedUrl:encodeURI(`${this.url}${m.signedURL}${p}`)},{data:m,error:null}}catch(u){if(vt(u))return{data:null,error:u};throw u}})}createSignedUrls(h,o,l){return G(this,void 0,void 0,function*(){try{const u=yield le(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:o,paths:h},{headers:this.headers}),m=l?.download?`&download=${!0===l.download?"":l.download}`:"";return{data:u.map(p=>Object.assign(Object.assign({},p),{signedUrl:p.signedURL?encodeURI(`${this.url}${p.signedURL}${m}`):null})),error:null}}catch(u){if(vt(u))return{data:null,error:u};throw u}})}download(h,o){return G(this,void 0,void 0,function*(){const u=typeof o?.transform<"u"?"render/image/authenticated":"object",m=this.transformOptsToQueryString(o?.transform||{}),p=m?`?${m}`:"";try{const y=this._getFinalPath(h);return{data:yield(yield Ni(this.fetch,`${this.url}/${u}/${y}${p}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(y){if(vt(y))return{data:null,error:y};throw y}})}getPublicUrl(h,o){const l=this._getFinalPath(h),u=[],m=o?.download?`download=${!0===o.download?"":o.download}`:"";""!==m&&u.push(m);const y=typeof o?.transform<"u"?"render/image":"object",L=this.transformOptsToQueryString(o?.transform||{});""!==L&&u.push(L);let M=u.join("&");return""!==M&&(M=`?${M}`),{data:{publicUrl:encodeURI(`${this.url}/${y}/public/${l}${M}`)}}}remove(h){return G(this,void 0,void 0,function*(){try{return{data:yield w(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:h},{headers:this.headers}),error:null}}catch(o){if(vt(o))return{data:null,error:o};throw o}})}list(h,o,l){return G(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},ce),o),{prefix:h||""});return{data:yield le(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},l),error:null}}catch(u){if(vt(u))return{data:null,error:u};throw u}})}_getFinalPath(h){return`${this.bucketId}/${h}`}_removeEmptyFolders(h){return h.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(h){const o=[];return h.width&&o.push(`width=${h.width}`),h.height&&o.push(`height=${h.height}`),h.resize&&o.push(`resize=${h.resize}`),h.format&&o.push(`format=${h.format}`),h.quality&&o.push(`quality=${h.quality}`),o.join("&")}}const ut={"X-Client-Info":"storage-js/2.5.5"};var mt=function(g,h,o,l){return new(o||(o=Promise))(function(m,p){function y(F){try{M(l.next(F))}catch(re){p(re)}}function L(F){try{M(l.throw(F))}catch(re){p(re)}}function M(F){F.done?m(F.value):function u(m){return m instanceof o?m:new o(function(p){p(m)})}(F.value).then(y,L)}M((l=l.apply(g,h||[])).next())})};class ue{constructor(h,o={},l){this.url=h,this.headers=Object.assign(Object.assign({},ut),o),this.fetch=Bt(l)}listBuckets(){return mt(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(h){if(vt(h))return{data:null,error:h};throw h}})}getBucket(h){return mt(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/bucket/${h}`,{headers:this.headers}),error:null}}catch(o){if(vt(o))return{data:null,error:o};throw o}})}createBucket(h,o={public:!1}){return mt(this,void 0,void 0,function*(){try{return{data:yield le(this.fetch,`${this.url}/bucket`,{id:h,name:h,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(vt(l))return{data:null,error:l};throw l}})}updateBucket(h,o){return mt(this,void 0,void 0,function*(){try{return{data:yield Q(this.fetch,`${this.url}/bucket/${h}`,{id:h,name:h,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(vt(l))return{data:null,error:l};throw l}})}emptyBucket(h){return mt(this,void 0,void 0,function*(){try{return{data:yield le(this.fetch,`${this.url}/bucket/${h}/empty`,{},{headers:this.headers}),error:null}}catch(o){if(vt(o))return{data:null,error:o};throw o}})}deleteBucket(h){return mt(this,void 0,void 0,function*(){try{return{data:yield w(this.fetch,`${this.url}/bucket/${h}`,{},{headers:this.headers}),error:null}}catch(o){if(vt(o))return{data:null,error:o};throw o}})}}class P extends ue{constructor(h,o={},l){super(h,o,l)}from(h){return new qe(this.url,this.headers,h,this.fetch)}}let te="";te=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const st={headers:{"X-Client-Info":`supabase-js-${te}/2.39.7`}},Y={schema:"public"},x={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},f={};const he=(g,h,o)=>{const l=(g=>{let h;return h=g||(typeof fetch>"u"?X.default:fetch),(...o)=>h(...o)})(o),u=typeof Headers>"u"?X.Headers:Headers;return(m,p)=>function(g,h,o,l){return new(o||(o=Promise))(function(m,p){function y(F){try{M(l.next(F))}catch(re){p(re)}}function L(F){try{M(l.throw(F))}catch(re){p(re)}}function M(F){F.done?m(F.value):function u(m){return m instanceof o?m:new o(function(p){p(m)})}(F.value).then(y,L)}M((l=l.apply(g,h||[])).next())})}(void 0,void 0,void 0,function*(){var y;const L=null!==(y=yield h())&&void 0!==y?y:g;let M=new u(p?.headers);return M.has("apikey")||M.set("apikey",g),M.has("Authorization")||M.set("Authorization",`Bearer ${L}`),l(m,Object.assign(Object.assign({},p),{headers:M}))})},ct=()=>typeof document<"u",H={tested:!1,writable:!1},E=()=>{if(!ct())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(H.tested)return H.writable;const g=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(g,g),globalThis.localStorage.removeItem(g),H.tested=!0,H.writable=!0}catch{H.tested=!0,H.writable=!1}return H.writable};function C(g){const h={},o=new URL(g);if(o.hash&&"#"===o.hash[0])try{new URLSearchParams(o.hash.substring(1)).forEach((u,m)=>{h[m]=u})}catch{}return o.searchParams.forEach((l,u)=>{h[u]=l}),h}const N=g=>{let h;return h=g||(typeof fetch>"u"?(...o)=>Promise.resolve().then(z.bind(z,6397)).then(({default:l})=>l(...o)):fetch),(...o)=>h(...o)},U=g=>"object"==typeof g&&null!==g&&"status"in g&&"ok"in g&&"json"in g&&"function"==typeof g.json,de=function(){var g=(0,r.Z)(function*(h,o,l){yield h.setItem(o,JSON.stringify(l))});return function(o,l,u){return g.apply(this,arguments)}}(),Fe=function(){var g=(0,r.Z)(function*(h,o){const l=yield h.getItem(o);if(!l)return null;try{return JSON.parse(l)}catch{return l}});return function(o,l){return g.apply(this,arguments)}}(),ht=function(){var g=(0,r.Z)(function*(h,o){yield h.removeItem(o)});return function(o,l){return g.apply(this,arguments)}}();class Jt{constructor(){this.promise=new Jt.promiseConstructor((h,o)=>{this.resolve=h,this.reject=o})}}function An(g){const o=g.split(".");if(3!==o.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(o[1]))throw new Error("JWT is not valid: payload is not in base64url format");return JSON.parse(function zt(g){const h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let l,u,m,p,y,L,M,o="",F=0;for(g=g.replace("-","+").replace("_","/");F<g.length;)p=h.indexOf(g.charAt(F++)),y=h.indexOf(g.charAt(F++)),L=h.indexOf(g.charAt(F++)),M=h.indexOf(g.charAt(F++)),l=p<<2|y>>4,u=(15&y)<<4|L>>2,m=(3&L)<<6|M,o+=String.fromCharCode(l),64!=L&&0!=u&&(o+=String.fromCharCode(u)),64!=M&&0!=m&&(o+=String.fromCharCode(m));return o}(o[1]))}function en(){return(en=(0,r.Z)(function*(g){return yield new Promise(h=>{setTimeout(()=>h(null),g)})})).apply(this,arguments)}function Yn(g){return("0"+g.toString(16)).substr(-2)}function tn(){const h=new Uint32Array(56);if(typeof crypto>"u"){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=o.length;let u="";for(let m=0;m<56;m++)u+=o.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(h),Array.from(h,Yn).join("")}function Qt(){return(Qt=(0,r.Z)(function*(g){const o=(new TextEncoder).encode(g),l=yield crypto.subtle.digest("SHA-256",o),u=new Uint8Array(l);return Array.from(u).map(m=>String.fromCharCode(m)).join("")})).apply(this,arguments)}function qi(g){return Ji.apply(this,arguments)}function Ji(){return Ji=(0,r.Z)(function*(g){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),g;const o=yield function En(g){return Qt.apply(this,arguments)}(g);return function Dn(g){return btoa(g).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}(o)}),Ji.apply(this,arguments)}Jt.promiseConstructor=Promise;class ri extends Error{constructor(h,o){super(h),this.__isAuthError=!0,this.name="AuthError",this.status=o}}function rt(g){return"object"==typeof g&&null!==g&&"__isAuthError"in g}class Mn extends ri{constructor(h,o){super(h,o),this.name="AuthApiError",this.status=o}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class S extends ri{constructor(h,o){super(h),this.name="AuthUnknownError",this.originalError=o}}class b extends ri{constructor(h,o,l){super(h),this.name=o,this.status=l}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class O extends b{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class j extends b{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class se extends b{constructor(h){super(h,"AuthInvalidCredentialsError",400)}}class ye extends b{constructor(h,o=null){super(h,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ue extends b{constructor(h,o=null){super(h,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xe extends b{constructor(h,o){super(h,"AuthRetryableFetchError",o)}}function Et(g){return rt(g)&&"AuthRetryableFetchError"===g.name}class gi extends b{constructor(h,o,l){super(h,"AuthWeakPasswordError",o),this.reasons=l}}var yi=function(g,h){var o={};for(var l in g)Object.prototype.hasOwnProperty.call(g,l)&&h.indexOf(l)<0&&(o[l]=g[l]);if(null!=g&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(l=Object.getOwnPropertySymbols(g);u<l.length;u++)h.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(g,l[u])&&(o[l[u]]=g[l[u]])}return o};const Kt=g=>g.msg||g.message||g.error_description||g.error||JSON.stringify(g),Yi=[502,503,504];function on(g){return nn.apply(this,arguments)}function nn(){return(nn=(0,r.Z)(function*(g){if(!U(g))throw new Xe(Kt(g),0);if(Yi.includes(g.status))throw new Xe(Kt(g),g.status);let h;try{h=yield g.json()}catch(o){throw new S(Kt(o),o)}throw"object"==typeof h&&h&&"object"==typeof h.weak_password&&h.weak_password&&Array.isArray(h.weak_password.reasons)&&h.weak_password.reasons.length&&h.weak_password.reasons.reduce((o,l)=>o&&"string"==typeof l,!0)?new gi(Kt(h),g.status,h.weak_password.reasons):new Mn(Kt(h),g.status||500)})).apply(this,arguments)}const Cn=(g,h,o,l)=>{const u={method:g,headers:h?.headers||{}};return"GET"===g?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},h?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),o))};function Qe(g,h,o,l){return Xn.apply(this,arguments)}function Xn(){return Xn=(0,r.Z)(function*(g,h,o,l){var u;const m=Object.assign({},l?.headers);l?.jwt&&(m.Authorization=`Bearer ${l.jwt}`);const p=null!==(u=l?.query)&&void 0!==u?u:{};l?.redirectTo&&(p.redirect_to=l.redirectTo);const y=Object.keys(p).length?"?"+new URLSearchParams(p).toString():"",L=yield function Es(g,h,o,l,u,m){return ms.apply(this,arguments)}(g,h,o+y,{headers:m,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(L):{data:Object.assign({},L),error:null}}),Xn.apply(this,arguments)}function ms(){return(ms=(0,r.Z)(function*(g,h,o,l,u,m){const p=Cn(h,l,u,m);let y;try{y=yield g(o,p)}catch(L){throw console.error(L),new Xe(Kt(L),0)}if(y.ok||(yield on(y)),l?.noResolveJson)return y;try{return yield y.json()}catch(L){yield on(L)}})).apply(this,arguments)}function mn(g){var h;let o=null;return function rr(g){return g.access_token&&g.refresh_token&&g.expires_in}(g)&&(o=Object.assign({},g),g.expires_at||(o.expires_at=function Ke(g){return Math.round(Date.now()/1e3)+g}(g.expires_in))),{data:{session:o,user:null!==(h=g.user)&&void 0!==h?h:g},error:null}}function Ds(g){const h=mn(g);return!h.error&&g.weak_password&&"object"==typeof g.weak_password&&Array.isArray(g.weak_password.reasons)&&g.weak_password.reasons.length&&g.weak_password.message&&"string"==typeof g.weak_password.message&&g.weak_password.reasons.reduce((o,l)=>o&&"string"==typeof l,!0)&&(h.data.weak_password=g.weak_password),h}function ln(g){var h;return{data:{user:null!==(h=g.user)&&void 0!==h?h:g},error:null}}function sr(g){return{data:g,error:null}}function Ms(g){const{action_link:h,email_otp:o,hashed_token:l,redirect_to:u,verification_type:m}=g,p=yi(g,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:h,email_otp:o,hashed_token:l,redirect_to:u,verification_type:m},user:Object.assign({},p)},error:null}}function Os(g){return g}class Fs{constructor({url:h="",headers:o={},fetch:l}){this.url=h,this.headers=o,this.fetch=N(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(h,o="global"){var l=this;return(0,r.Z)(function*(){try{return yield Qe(l.fetch,"POST",`${l.url}/logout?scope=${o}`,{headers:l.headers,jwt:h,noResolveJson:!0}),{data:null,error:null}}catch(u){if(rt(u))return{data:null,error:u};throw u}})()}inviteUserByEmail(h,o={}){var l=this;return(0,r.Z)(function*(){try{return yield Qe(l.fetch,"POST",`${l.url}/invite`,{body:{email:h,data:o.data},headers:l.headers,redirectTo:o.redirectTo,xform:ln})}catch(u){if(rt(u))return{data:{user:null},error:u};throw u}})()}generateLink(h){var o=this;return(0,r.Z)(function*(){try{const{options:l}=h,u=function(g,h){var o={};for(var l in g)Object.prototype.hasOwnProperty.call(g,l)&&h.indexOf(l)<0&&(o[l]=g[l]);if(null!=g&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(l=Object.getOwnPropertySymbols(g);u<l.length;u++)h.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(g,l[u])&&(o[l[u]]=g[l[u]])}return o}(h,["options"]),m=Object.assign(Object.assign({},u),l);return"newEmail"in u&&(m.new_email=u?.newEmail,delete m.newEmail),yield Qe(o.fetch,"POST",`${o.url}/admin/generate_link`,{body:m,headers:o.headers,xform:Ms,redirectTo:l?.redirectTo})}catch(l){if(rt(l))return{data:{properties:null,user:null},error:l};throw l}})()}createUser(h){var o=this;return(0,r.Z)(function*(){try{return yield Qe(o.fetch,"POST",`${o.url}/admin/users`,{body:h,headers:o.headers,xform:ln})}catch(l){if(rt(l))return{data:{user:null},error:l};throw l}})()}listUsers(h){var o=this;return(0,r.Z)(function*(){var l,u,m,p,y,L,M;try{const F={nextPage:null,lastPage:0,total:0},re=yield Qe(o.fetch,"GET",`${o.url}/admin/users`,{headers:o.headers,noResolveJson:!0,query:{page:null!==(u=null===(l=h?.page)||void 0===l?void 0:l.toString())&&void 0!==u?u:"",per_page:null!==(p=null===(m=h?.perPage)||void 0===m?void 0:m.toString())&&void 0!==p?p:""},xform:Os});if(re.error)throw re.error;const Te=yield re.json(),Ie=null!==(y=re.headers.get("x-total-count"))&&void 0!==y?y:0,we=null!==(M=null===(L=re.headers.get("link"))||void 0===L?void 0:L.split(","))&&void 0!==M?M:[];return we.length>0&&(we.forEach(et=>{const ot=parseInt(et.split(";")[0].split("=")[1].substring(0,1)),Ct=JSON.parse(et.split(";")[1].split("=")[1]);F[`${Ct}Page`]=ot}),F.total=parseInt(Ie)),{data:Object.assign(Object.assign({},Te),F),error:null}}catch(F){if(rt(F))return{data:{users:[]},error:F};throw F}})()}getUserById(h){var o=this;return(0,r.Z)(function*(){try{return yield Qe(o.fetch,"GET",`${o.url}/admin/users/${h}`,{headers:o.headers,xform:ln})}catch(l){if(rt(l))return{data:{user:null},error:l};throw l}})()}updateUserById(h,o){var l=this;return(0,r.Z)(function*(){try{return yield Qe(l.fetch,"PUT",`${l.url}/admin/users/${h}`,{body:o,headers:l.headers,xform:ln})}catch(u){if(rt(u))return{data:{user:null},error:u};throw u}})()}deleteUser(h,o=!1){var l=this;return(0,r.Z)(function*(){try{return yield Qe(l.fetch,"DELETE",`${l.url}/admin/users/${h}`,{headers:l.headers,body:{should_soft_delete:o},xform:ln})}catch(u){if(rt(u))return{data:{user:null},error:u};throw u}})()}_listFactors(h){var o=this;return(0,r.Z)(function*(){try{const{data:l,error:u}=yield Qe(o.fetch,"GET",`${o.url}/admin/users/${h.userId}/factors`,{headers:o.headers,xform:m=>({data:{factors:m},error:null})});return{data:l,error:u}}catch(l){if(rt(l))return{data:null,error:l};throw l}})()}_deleteFactor(h){var o=this;return(0,r.Z)(function*(){try{return{data:yield Qe(o.fetch,"DELETE",`${o.url}/admin/users/${h.userId}/factors/${h.id}`,{headers:o.headers}),error:null}}catch(l){if(rt(l))return{data:null,error:l};throw l}})()}}const lr={getItem:g=>E()?globalThis.localStorage.getItem(g):null,setItem:(g,h)=>{E()&&globalThis.localStorage.setItem(g,h)},removeItem:g=>{E()&&globalThis.localStorage.removeItem(g)}};function ps(g={}){return{getItem:h=>g[h]||null,setItem:(h,o)=>{g[h]=o},removeItem:h=>{delete g[h]}}}const $i={debug:!!(globalThis&&E()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class hn extends Error{constructor(h){super(h),this.isAcquireTimeout=!0}}class Ps extends hn{}function Rs(g,h,o){return gs.apply(this,arguments)}function gs(){return gs=(0,r.Z)(function*(g,h,o){$i.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",g,h);const l=new globalThis.AbortController;return h>0&&setTimeout(()=>{l.abort(),$i.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",g)},h),yield globalThis.navigator.locks.request(g,0===h?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},function(){var u=(0,r.Z)(function*(m){if(!m){if(0===h)throw $i.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",g),new Ps(`Acquiring an exclusive Navigator LockManager lock "${g}" immediately failed`);if($i.debug)try{const p=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(p,null,"  "))}catch(p){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",p)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield o()}$i.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",g,m.name);try{return yield o()}finally{$i.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",g,m.name)}});return function(m){return u.apply(this,arguments)}}())}),gs.apply(this,arguments)}!function Un(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const Xi={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/0.0.0"},flowType:"implicit",debug:!1},Tn=3e4;function Zn(g,h,o){return qn.apply(this,arguments)}function qn(){return(qn=(0,r.Z)(function*(g,h,o){return yield o()})).apply(this,arguments)}let cr=(()=>{class g{constructor(o){var u,m,l=this;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=g.nextInstanceID,g.nextInstanceID+=1,this.instanceID>0&&ct()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const p=Object.assign(Object.assign({},Xi),o);if(this.logDebugMessages=!!p.debug,"function"==typeof p.debug&&(this.logger=p.debug),this.persistSession=p.persistSession,this.storageKey=p.storageKey,this.autoRefreshToken=p.autoRefreshToken,this.admin=new Fs({url:p.url,headers:p.headers,fetch:p.fetch}),this.url=p.url,this.headers=p.headers,this.fetch=N(p.fetch),this.lock=p.lock||Zn,this.detectSessionInUrl=p.detectSessionInUrl,this.flowType=p.flowType,this.lock=p.lock?p.lock:ct()&&null!==(u=globalThis?.navigator)&&void 0!==u&&u.locks?Rs:Zn,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?p.storage?this.storage=p.storage:E()?this.storage=lr:(this.memoryStorage={},this.storage=ps(this.memoryStorage)):(this.memoryStorage={},this.storage=ps(this.memoryStorage)),ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(y){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",y)}null===(m=this.broadcastChannel)||void 0===m||m.addEventListener("message",function(){var y=(0,r.Z)(function*(L){l._debug("received broadcast notification from other tab or client",L),yield l._notifyAllSubscribers(L.data.event,L.data.session,!1)});return function(L){return y.apply(this,arguments)}}())}this.initialize()}_debug(...o){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (0.0.0) ${(new Date).toISOString()}`,...o),this}initialize(){var o=this;return(0,r.Z)(function*(){return o.initializePromise||(o.initializePromise=(0,r.Z)(function*(){return yield o._acquireLock(-1,(0,r.Z)(function*(){return yield o._initialize()}))})()),yield o.initializePromise})()}_initialize(){var o=this;return(0,r.Z)(function*(){try{const l=!!ct()&&(yield o._isPKCEFlow());if(o._debug("#_initialize()","begin","is PKCE flow",l),l||o.detectSessionInUrl&&o._isImplicitGrantFlow()){const{data:u,error:m}=yield o._getSessionFromURL(l);if(m)return o._debug("#_initialize()","error detecting session from URL",m),"Identity is already linked"===m?.message||"Identity is already linked to another user"===m?.message||(yield o._removeSession()),{error:m};const{session:p,redirectType:y}=u;return o._debug("#_initialize()","detected session in URL",p,"redirect type",y),yield o._saveSession(p),setTimeout((0,r.Z)(function*(){"recovery"===y?yield o._notifyAllSubscribers("PASSWORD_RECOVERY",p):yield o._notifyAllSubscribers("SIGNED_IN",p)}),0),{error:null}}return yield o._recoverAndRefresh(),{error:null}}catch(l){return rt(l)?{error:l}:{error:new S("Unexpected error during initialization",l)}}finally{yield o._handleVisibilityChange(),o._debug("#_initialize()","end")}})()}signUp(o){var l=this;return(0,r.Z)(function*(){var u,m,p;try{let y;if(yield l._removeSession(),"email"in o){const{email:Te,password:Ie,options:we}=o;let et=null,ot=null;if("pkce"===l.flowType){const Ct=tn();yield de(l.storage,`${l.storageKey}-code-verifier`,Ct),et=yield qi(Ct),ot=Ct===et?"plain":"s256"}y=yield Qe(l.fetch,"POST",`${l.url}/signup`,{headers:l.headers,redirectTo:we?.emailRedirectTo,body:{email:Te,password:Ie,data:null!==(u=we?.data)&&void 0!==u?u:{},gotrue_meta_security:{captcha_token:we?.captchaToken},code_challenge:et,code_challenge_method:ot},xform:mn})}else{if(!("phone"in o))throw new se("You must provide either an email or phone number and a password");{const{phone:Te,password:Ie,options:we}=o;y=yield Qe(l.fetch,"POST",`${l.url}/signup`,{headers:l.headers,body:{phone:Te,password:Ie,data:null!==(m=we?.data)&&void 0!==m?m:{},channel:null!==(p=we?.channel)&&void 0!==p?p:"sms",gotrue_meta_security:{captcha_token:we?.captchaToken}},xform:mn})}}const{data:L,error:M}=y;if(M||!L)return{data:{user:null,session:null},error:M};const F=L.session,re=L.user;return L.session&&(yield l._saveSession(L.session),yield l._notifyAllSubscribers("SIGNED_IN",F)),{data:{user:re,session:F},error:null}}catch(y){if(rt(y))return{data:{user:null,session:null},error:y};throw y}})()}signInWithPassword(o){var l=this;return(0,r.Z)(function*(){try{let u;if(yield l._removeSession(),"email"in o){const{email:y,password:L,options:M}=o;u=yield Qe(l.fetch,"POST",`${l.url}/token?grant_type=password`,{headers:l.headers,body:{email:y,password:L,gotrue_meta_security:{captcha_token:M?.captchaToken}},xform:Ds})}else{if(!("phone"in o))throw new se("You must provide either an email or phone number and a password");{const{phone:y,password:L,options:M}=o;u=yield Qe(l.fetch,"POST",`${l.url}/token?grant_type=password`,{headers:l.headers,body:{phone:y,password:L,gotrue_meta_security:{captcha_token:M?.captchaToken}},xform:Ds})}}const{data:m,error:p}=u;return p?{data:{user:null,session:null},error:p}:m&&m.session&&m.user?(m.session&&(yield l._saveSession(m.session),yield l._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({user:m.user,session:m.session},m.weak_password?{weakPassword:m.weak_password}:null),error:p}):{data:{user:null,session:null},error:new j}}catch(u){if(rt(u))return{data:{user:null,session:null},error:u};throw u}})()}signInWithOAuth(o){var l=this;return(0,r.Z)(function*(){var u,m,p,y;return yield l._removeSession(),yield l._handleProviderSignIn(o.provider,{redirectTo:null===(u=o.options)||void 0===u?void 0:u.redirectTo,scopes:null===(m=o.options)||void 0===m?void 0:m.scopes,queryParams:null===(p=o.options)||void 0===p?void 0:p.queryParams,skipBrowserRedirect:null===(y=o.options)||void 0===y?void 0:y.skipBrowserRedirect})})()}exchangeCodeForSession(o){var l=this;return(0,r.Z)(function*(){return yield l.initializePromise,l._acquireLock(-1,(0,r.Z)(function*(){return l._exchangeCodeForSession(o)}))})()}_exchangeCodeForSession(o){var l=this;return(0,r.Z)(function*(){const u=yield Fe(l.storage,`${l.storageKey}-code-verifier`),[m,p]=(u??"").split("/"),{data:y,error:L}=yield Qe(l.fetch,"POST",`${l.url}/token?grant_type=pkce`,{headers:l.headers,body:{auth_code:o,code_verifier:m},xform:mn});return yield ht(l.storage,`${l.storageKey}-code-verifier`),L?{data:{user:null,session:null,redirectType:null},error:L}:y&&y.session&&y.user?(y.session&&(yield l._saveSession(y.session),yield l._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign(Object.assign({},y),{redirectType:p??null}),error:L}):{data:{user:null,session:null,redirectType:null},error:new j}})()}signInWithIdToken(o){var l=this;return(0,r.Z)(function*(){yield l._removeSession();try{const{options:u,provider:m,token:p,access_token:y,nonce:L}=o,M=yield Qe(l.fetch,"POST",`${l.url}/token?grant_type=id_token`,{headers:l.headers,body:{provider:m,id_token:p,access_token:y,nonce:L,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:mn}),{data:F,error:re}=M;return re?{data:{user:null,session:null},error:re}:F&&F.session&&F.user?(F.session&&(yield l._saveSession(F.session),yield l._notifyAllSubscribers("SIGNED_IN",F.session)),{data:F,error:re}):{data:{user:null,session:null},error:new j}}catch(u){if(rt(u))return{data:{user:null,session:null},error:u};throw u}})()}signInWithOtp(o){var l=this;return(0,r.Z)(function*(){var u,m,p,y,L;try{if(yield l._removeSession(),"email"in o){const{email:M,options:F}=o;let re=null,Te=null;if("pkce"===l.flowType){const we=tn();yield de(l.storage,`${l.storageKey}-code-verifier`,we),re=yield qi(we),Te=we===re?"plain":"s256"}const{error:Ie}=yield Qe(l.fetch,"POST",`${l.url}/otp`,{headers:l.headers,body:{email:M,data:null!==(u=F?.data)&&void 0!==u?u:{},create_user:null===(m=F?.shouldCreateUser)||void 0===m||m,gotrue_meta_security:{captcha_token:F?.captchaToken},code_challenge:re,code_challenge_method:Te},redirectTo:F?.emailRedirectTo});return{data:{user:null,session:null},error:Ie}}if("phone"in o){const{phone:M,options:F}=o,{data:re,error:Te}=yield Qe(l.fetch,"POST",`${l.url}/otp`,{headers:l.headers,body:{phone:M,data:null!==(p=F?.data)&&void 0!==p?p:{},create_user:null===(y=F?.shouldCreateUser)||void 0===y||y,gotrue_meta_security:{captcha_token:F?.captchaToken},channel:null!==(L=F?.channel)&&void 0!==L?L:"sms"}});return{data:{user:null,session:null,messageId:re?.message_id},error:Te}}throw new se("You must provide either an email or phone number.")}catch(M){if(rt(M))return{data:{user:null,session:null},error:M};throw M}})()}verifyOtp(o){var l=this;return(0,r.Z)(function*(){var u,m;try{let p,y;"email_change"!==o.type&&"phone_change"!==o.type&&(yield l._removeSession()),"options"in o&&(p=null===(u=o.options)||void 0===u?void 0:u.redirectTo,y=null===(m=o.options)||void 0===m?void 0:m.captchaToken);const{data:L,error:M}=yield Qe(l.fetch,"POST",`${l.url}/verify`,{headers:l.headers,body:Object.assign(Object.assign({},o),{gotrue_meta_security:{captcha_token:y}}),redirectTo:p,xform:mn});if(M)throw M;if(!L)throw new Error("An error occurred on token verification.");const F=L.session,re=L.user;return F?.access_token&&(yield l._saveSession(F),yield l._notifyAllSubscribers("recovery"==o.type?"PASSWORD_RECOVERY":"SIGNED_IN",F)),{data:{user:re,session:F},error:null}}catch(p){if(rt(p))return{data:{user:null,session:null},error:p};throw p}})()}signInWithSSO(o){var l=this;return(0,r.Z)(function*(){var u,m,p;try{yield l._removeSession();let y=null,L=null;if("pkce"===l.flowType){const M=tn();yield de(l.storage,`${l.storageKey}-code-verifier`,M),y=yield qi(M),L=M===y?"plain":"s256"}return yield Qe(l.fetch,"POST",`${l.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in o?{provider_id:o.providerId}:null),"domain"in o?{domain:o.domain}:null),{redirect_to:null!==(m=null===(u=o.options)||void 0===u?void 0:u.redirectTo)&&void 0!==m?m:void 0}),null!==(p=o?.options)&&void 0!==p&&p.captchaToken?{gotrue_meta_security:{captcha_token:o.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:y,code_challenge_method:L}),headers:l.headers,xform:sr})}catch(y){if(rt(y))return{data:null,error:y};throw y}})()}reauthenticate(){var o=this;return(0,r.Z)(function*(){return yield o.initializePromise,yield o._acquireLock(-1,(0,r.Z)(function*(){return yield o._reauthenticate()}))})()}_reauthenticate(){var o=this;return(0,r.Z)(function*(){try{return yield o._useSession(function(){var l=(0,r.Z)(function*(u){const{data:{session:m},error:p}=u;if(p)throw p;if(!m)throw new O;const{error:y}=yield Qe(o.fetch,"GET",`${o.url}/reauthenticate`,{headers:o.headers,jwt:m.access_token});return{data:{user:null,session:null},error:y}});return function(u){return l.apply(this,arguments)}}())}catch(l){if(rt(l))return{data:{user:null,session:null},error:l};throw l}})()}resend(o){var l=this;return(0,r.Z)(function*(){try{"email_change"!=o.type&&"phone_change"!=o.type&&(yield l._removeSession());const u=`${l.url}/resend`;if("email"in o){const{email:m,type:p,options:y}=o,{error:L}=yield Qe(l.fetch,"POST",u,{headers:l.headers,body:{email:m,type:p,gotrue_meta_security:{captcha_token:y?.captchaToken}},redirectTo:y?.emailRedirectTo});return{data:{user:null,session:null},error:L}}if("phone"in o){const{phone:m,type:p,options:y}=o,{data:L,error:M}=yield Qe(l.fetch,"POST",u,{headers:l.headers,body:{phone:m,type:p,gotrue_meta_security:{captcha_token:y?.captchaToken}}});return{data:{user:null,session:null,messageId:L?.message_id},error:M}}throw new se("You must provide either an email or phone number and a type")}catch(u){if(rt(u))return{data:{user:null,session:null},error:u};throw u}})()}getSession(){var o=this;return(0,r.Z)(function*(){return yield o.initializePromise,o._acquireLock(-1,(0,r.Z)(function*(){return o._useSession(function(){var l=(0,r.Z)(function*(u){return u});return function(u){return l.apply(this,arguments)}}())}))})()}_acquireLock(o,l){var u=this;return(0,r.Z)(function*(){u._debug("#_acquireLock","begin",o);try{if(u.lockAcquired){const m=u.pendingInLock.length?u.pendingInLock[u.pendingInLock.length-1]:Promise.resolve(),p=(0,r.Z)(function*(){return yield m,yield l()})();return u.pendingInLock.push((0,r.Z)(function*(){try{yield p}catch{}})()),p}return yield u.lock(`lock:${u.storageKey}`,o,(0,r.Z)(function*(){u._debug("#_acquireLock","lock acquired for storage key",u.storageKey);try{u.lockAcquired=!0;const m=l();for(u.pendingInLock.push((0,r.Z)(function*(){try{yield m}catch{}})()),yield m;u.pendingInLock.length;){const p=[...u.pendingInLock];yield Promise.all(p),u.pendingInLock.splice(0,p.length)}return yield m}finally{u._debug("#_acquireLock","lock released for storage key",u.storageKey),u.lockAcquired=!1}}))}finally{u._debug("#_acquireLock","end")}})()}_useSession(o){var l=this;return(0,r.Z)(function*(){l._debug("#_useSession","begin");try{const u=yield l.__loadSession();return yield o(u)}finally{l._debug("#_useSession","end")}})()}__loadSession(){var o=this;return(0,r.Z)(function*(){o._debug("#__loadSession()","begin"),o.lockAcquired||o._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let l=null;const u=yield Fe(o.storage,o.storageKey);if(o._debug("#getSession()","session from storage",u),null!==u&&(o._isValidSession(u)?l=u:(o._debug("#getSession()","session from storage is not valid"),yield o._removeSession())),!l)return{data:{session:null},error:null};const m=!!l.expires_at&&l.expires_at<=Date.now()/1e3;if(o._debug("#__loadSession()",`session has${m?"":" not"} expired`,"expires_at",l.expires_at),!m)return{data:{session:l},error:null};const{session:p,error:y}=yield o._callRefreshToken(l.refresh_token);return y?{data:{session:null},error:y}:{data:{session:p},error:null}}finally{o._debug("#__loadSession()","end")}})()}getUser(o){var l=this;return(0,r.Z)(function*(){return o?yield l._getUser(o):(yield l.initializePromise,l._acquireLock(-1,(0,r.Z)(function*(){return yield l._getUser()})))})()}_getUser(o){var l=this;return(0,r.Z)(function*(){try{return o?yield Qe(l.fetch,"GET",`${l.url}/user`,{headers:l.headers,jwt:o,xform:ln}):yield l._useSession(function(){var u=(0,r.Z)(function*(m){var p,y;const{data:L,error:M}=m;if(M)throw M;return yield Qe(l.fetch,"GET",`${l.url}/user`,{headers:l.headers,jwt:null!==(y=null===(p=L.session)||void 0===p?void 0:p.access_token)&&void 0!==y?y:void 0,xform:ln})});return function(m){return u.apply(this,arguments)}}())}catch(u){if(rt(u))return{data:{user:null},error:u};throw u}})()}updateUser(o,l={}){var u=this;return(0,r.Z)(function*(){return yield u.initializePromise,yield u._acquireLock(-1,(0,r.Z)(function*(){return yield u._updateUser(o,l)}))})()}_updateUser(o,l={}){var u=this;return(0,r.Z)(function*(){try{return yield u._useSession(function(){var m=(0,r.Z)(function*(p){const{data:y,error:L}=p;if(L)throw L;if(!y.session)throw new O;const M=y.session;let F=null,re=null;if("pkce"===u.flowType&&null!=o.email){const we=tn();yield de(u.storage,`${u.storageKey}-code-verifier`,we),F=yield qi(we),re=we===F?"plain":"s256"}const{data:Te,error:Ie}=yield Qe(u.fetch,"PUT",`${u.url}/user`,{headers:u.headers,redirectTo:l?.emailRedirectTo,body:Object.assign(Object.assign({},o),{code_challenge:F,code_challenge_method:re}),jwt:M.access_token,xform:ln});if(Ie)throw Ie;return M.user=Te.user,yield u._saveSession(M),yield u._notifyAllSubscribers("USER_UPDATED",M),{data:{user:M.user},error:null}});return function(p){return m.apply(this,arguments)}}())}catch(m){if(rt(m))return{data:{user:null},error:m};throw m}})()}_decodeJWT(o){return An(o)}setSession(o){var l=this;return(0,r.Z)(function*(){return yield l.initializePromise,yield l._acquireLock(-1,(0,r.Z)(function*(){return yield l._setSession(o)}))})()}_setSession(o){var l=this;return(0,r.Z)(function*(){try{if(!o.access_token||!o.refresh_token)throw new O;const u=Date.now()/1e3;let m=u,p=!0,y=null;const L=An(o.access_token);if(L.exp&&(m=L.exp,p=m<=u),p){const{session:M,error:F}=yield l._callRefreshToken(o.refresh_token);if(F)return{data:{user:null,session:null},error:F};if(!M)return{data:{user:null,session:null},error:null};y=M}else{const{data:M,error:F}=yield l._getUser(o.access_token);if(F)throw F;y={access_token:o.access_token,refresh_token:o.refresh_token,user:M.user,token_type:"bearer",expires_in:m-u,expires_at:m},yield l._saveSession(y),yield l._notifyAllSubscribers("SIGNED_IN",y)}return{data:{user:y.user,session:y},error:null}}catch(u){if(rt(u))return{data:{session:null,user:null},error:u};throw u}})()}refreshSession(o){var l=this;return(0,r.Z)(function*(){return yield l.initializePromise,yield l._acquireLock(-1,(0,r.Z)(function*(){return yield l._refreshSession(o)}))})()}_refreshSession(o){var l=this;return(0,r.Z)(function*(){try{return yield l._useSession(function(){var u=(0,r.Z)(function*(m){var p;if(!o){const{data:M,error:F}=m;if(F)throw F;o=null!==(p=M.session)&&void 0!==p?p:void 0}if(!o?.refresh_token)throw new O;const{session:y,error:L}=yield l._callRefreshToken(o.refresh_token);return L?{data:{user:null,session:null},error:L}:y?{data:{user:y.user,session:y},error:null}:{data:{user:null,session:null},error:null}});return function(m){return u.apply(this,arguments)}}())}catch(u){if(rt(u))return{data:{user:null,session:null},error:u};throw u}})()}_getSessionFromURL(o){var l=this;return(0,r.Z)(function*(){try{if(!ct())throw new ye("No browser detected.");if("implicit"===l.flowType&&!l._isImplicitGrantFlow())throw new ye("Not a valid implicit grant flow url.");if("pkce"==l.flowType&&!o)throw new Ue("Not a valid PKCE flow url.");const u=C(window.location.href);if(o){if(!u.code)throw new Ue("No code detected.");const{data:ei,error:Wi}=yield l._exchangeCodeForSession(u.code);if(Wi)throw Wi;const Fn=new URL(window.location.href);return Fn.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Fn.toString()),{data:{session:ei.session,redirectType:null},error:null}}if(u.error||u.error_description||u.error_code)throw new ye(u.error_description||"Error in URL with unspecified error_description",{error:u.error||"unspecified_error",code:u.error_code||"unspecified_code"});const{provider_token:m,provider_refresh_token:p,access_token:y,refresh_token:L,expires_in:M,expires_at:F,token_type:re}=u;if(!(y&&M&&L&&re))throw new ye("No session defined in URL");const Te=Math.round(Date.now()/1e3),Ie=parseInt(M);let we=Te+Ie;F&&(we=parseInt(F));const et=we-Te;1e3*et<=Tn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${et}s, should have been closer to ${Ie}s`);const ot=we-Ie;Te-ot>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",ot,we,Te):Te-ot<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",ot,we,Te);const{data:Ct,error:Gt}=yield l._getUser(y);if(Gt)throw Gt;const _i={provider_token:m,provider_refresh_token:p,access_token:y,expires_in:Ie,expires_at:we,refresh_token:L,token_type:re,user:Ct.user};return window.location.hash="",l._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_i,redirectType:u.type},error:null}}catch(u){if(rt(u))return{data:{session:null,redirectType:null},error:u};throw u}})()}_isImplicitGrantFlow(){const o=C(window.location.href);return!(!ct()||!o.access_token&&!o.error_description)}_isPKCEFlow(){var o=this;return(0,r.Z)(function*(){const l=C(window.location.href),u=yield Fe(o.storage,`${o.storageKey}-code-verifier`);return!(!l.code||!u)})()}signOut(o={scope:"global"}){var l=this;return(0,r.Z)(function*(){return yield l.initializePromise,yield l._acquireLock(-1,(0,r.Z)(function*(){return yield l._signOut(o)}))})()}_signOut({scope:o}={scope:"global"}){var l=this;return(0,r.Z)(function*(){return yield l._useSession(function(){var u=(0,r.Z)(function*(m){var p;const{data:y,error:L}=m;if(L)return{error:L};const M=null===(p=y.session)||void 0===p?void 0:p.access_token;if(M){const{error:F}=yield l.admin.signOut(M,o);if(F&&(!function W(g){return rt(g)&&"AuthApiError"===g.name}(F)||404!==F.status&&401!==F.status))return{error:F}}return"others"!==o&&(yield l._removeSession(),yield ht(l.storage,`${l.storageKey}-code-verifier`),yield l._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}});return function(m){return u.apply(this,arguments)}}())})()}onAuthStateChange(o){var l=this;const u=function pt(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(g){const h=16*Math.random()|0;return("x"==g?h:3&h|8).toString(16)})}(),m={id:u,callback:o,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",u),this.stateChangeEmitters.delete(u)}};return this._debug("#onAuthStateChange()","registered callback with id",u),this.stateChangeEmitters.set(u,m),(0,r.Z)(function*(){yield l.initializePromise,yield l._acquireLock(-1,(0,r.Z)(function*(){l._emitInitialSession(u)}))})(),{data:{subscription:m}}}_emitInitialSession(o){var l=this;return(0,r.Z)(function*(){return yield l._useSession(function(){var u=(0,r.Z)(function*(m){var p,y;try{const{data:{session:L},error:M}=m;if(M)throw M;yield null===(p=l.stateChangeEmitters.get(o))||void 0===p?void 0:p.callback("INITIAL_SESSION",L),l._debug("INITIAL_SESSION","callback id",o,"session",L)}catch(L){yield null===(y=l.stateChangeEmitters.get(o))||void 0===y?void 0:y.callback("INITIAL_SESSION",null),l._debug("INITIAL_SESSION","callback id",o,"error",L),console.error(L)}});return function(m){return u.apply(this,arguments)}}())})()}resetPasswordForEmail(o,l={}){var u=this;return(0,r.Z)(function*(){let m=null,p=null;if("pkce"===u.flowType){const y=tn();yield de(u.storage,`${u.storageKey}-code-verifier`,`${y}/PASSWORD_RECOVERY`),m=yield qi(y),p=y===m?"plain":"s256"}try{return yield Qe(u.fetch,"POST",`${u.url}/recover`,{body:{email:o,code_challenge:m,code_challenge_method:p,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:u.headers,redirectTo:l.redirectTo})}catch(y){if(rt(y))return{data:null,error:y};throw y}})()}getUserIdentities(){var o=this;return(0,r.Z)(function*(){var l;try{const{data:u,error:m}=yield o.getUser();if(m)throw m;return{data:{identities:null!==(l=u.user.identities)&&void 0!==l?l:[]},error:null}}catch(u){if(rt(u))return{data:null,error:u};throw u}})()}linkIdentity(o){var l=this;return(0,r.Z)(function*(){var u;try{const{data:m,error:p}=yield l._useSession(function(){var y=(0,r.Z)(function*(L){var M,F,re,Te,Ie;const{data:we,error:et}=L;if(et)throw et;const ot=yield l._getUrlForProvider(`${l.url}/user/identities/authorize`,o.provider,{redirectTo:null===(M=o.options)||void 0===M?void 0:M.redirectTo,scopes:null===(F=o.options)||void 0===F?void 0:F.scopes,queryParams:null===(re=o.options)||void 0===re?void 0:re.queryParams,skipBrowserRedirect:!0});return yield Qe(l.fetch,"GET",ot,{headers:l.headers,jwt:null!==(Ie=null===(Te=we.session)||void 0===Te?void 0:Te.access_token)&&void 0!==Ie?Ie:void 0})});return function(L){return y.apply(this,arguments)}}());if(p)throw p;return ct()&&!(null!==(u=o.options)&&void 0!==u&&u.skipBrowserRedirect)&&window.location.assign(m?.url),{data:{provider:o.provider,url:m?.url},error:null}}catch(m){if(rt(m))return{data:{provider:o.provider,url:null},error:m};throw m}})()}unlinkIdentity(o){var l=this;return(0,r.Z)(function*(){try{return yield l._useSession(function(){var u=(0,r.Z)(function*(m){var p,y;const{data:L,error:M}=m;if(M)throw M;return yield Qe(l.fetch,"DELETE",`${l.url}/user/identities/${o.identity_id}`,{headers:l.headers,jwt:null!==(y=null===(p=L.session)||void 0===p?void 0:p.access_token)&&void 0!==y?y:void 0})});return function(m){return u.apply(this,arguments)}}())}catch(u){if(rt(u))return{data:null,error:u};throw u}})()}_refreshAccessToken(o){var l=this;return(0,r.Z)(function*(){const u=`#_refreshAccessToken(${o.substring(0,5)}...)`;l._debug(u,"begin");try{const m=Date.now();return yield function Ln(g,h){return new Promise((l,u)=>{(0,r.Z)(function*(){for(let m=0;m<1/0;m++)try{const p=yield g(m);if(!h(m,null,p))return void l(p)}catch(p){if(!h(m,p))return void u(p)}})()})}(function(){var p=(0,r.Z)(function*(y){return yield function Gn(g){return en.apply(this,arguments)}(200*y),l._debug(u,"refreshing attempt",y),yield Qe(l.fetch,"POST",`${l.url}/token?grant_type=refresh_token`,{body:{refresh_token:o},headers:l.headers,xform:mn})});return function(y){return p.apply(this,arguments)}}(),(p,y,L)=>L&&L.error&&Et(L.error)&&Date.now()+200*(p+1)-m<Tn)}catch(m){if(l._debug(u,"error",m),rt(m))return{data:{session:null,user:null},error:m};throw m}finally{l._debug(u,"end")}})()}_isValidSession(o){return"object"==typeof o&&null!==o&&"access_token"in o&&"refresh_token"in o&&"expires_at"in o}_handleProviderSignIn(o,l){var u=this;return(0,r.Z)(function*(){const m=yield u._getUrlForProvider(`${u.url}/authorize`,o,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return u._debug("#_handleProviderSignIn()","provider",o,"options",l,"url",m),ct()&&!l.skipBrowserRedirect&&window.location.assign(m),{data:{provider:o,url:m},error:null}})()}_recoverAndRefresh(){var o=this;return(0,r.Z)(function*(){var l;const u="#_recoverAndRefresh()";o._debug(u,"begin");try{const m=yield Fe(o.storage,o.storageKey);if(o._debug(u,"session from storage",m),!o._isValidSession(m))return o._debug(u,"session is not valid"),void(null!==m&&(yield o._removeSession()));const p=Math.round(Date.now()/1e3),y=(null!==(l=m.expires_at)&&void 0!==l?l:1/0)<p+10;if(o._debug(u,`session has${y?"":" not"} expired with margin of 10s`),y){if(o.autoRefreshToken&&m.refresh_token){const{error:L}=yield o._callRefreshToken(m.refresh_token);L&&(console.error(L),Et(L)||(o._debug(u,"refresh failed with a non-retryable error, removing the session",L),yield o._removeSession()))}}else yield o._notifyAllSubscribers("SIGNED_IN",m)}catch(m){return o._debug(u,"error",m),void console.error(m)}finally{o._debug(u,"end")}})()}_callRefreshToken(o){var l=this;return(0,r.Z)(function*(){var u,m;if(!o)throw new O;if(l.refreshingDeferred)return l.refreshingDeferred.promise;const p=`#_callRefreshToken(${o.substring(0,5)}...)`;l._debug(p,"begin");try{l.refreshingDeferred=new Jt;const{data:y,error:L}=yield l._refreshAccessToken(o);if(L)throw L;if(!y.session)throw new O;yield l._saveSession(y.session),yield l._notifyAllSubscribers("TOKEN_REFRESHED",y.session);const M={session:y.session,error:null};return l.refreshingDeferred.resolve(M),M}catch(y){if(l._debug(p,"error",y),rt(y)){const L={session:null,error:y};return Et(y)||(yield l._removeSession(),yield l._notifyAllSubscribers("SIGNED_OUT",null)),null===(u=l.refreshingDeferred)||void 0===u||u.resolve(L),L}throw null===(m=l.refreshingDeferred)||void 0===m||m.reject(y),y}finally{l.refreshingDeferred=null,l._debug(p,"end")}})()}_notifyAllSubscribers(o,l,u=!0){var m=this;return(0,r.Z)(function*(){const p=`#_notifyAllSubscribers(${o})`;m._debug(p,"begin",l,`broadcast = ${u}`);try{m.broadcastChannel&&u&&m.broadcastChannel.postMessage({event:o,session:l});const y=[],L=Array.from(m.stateChangeEmitters.values()).map(function(){var M=(0,r.Z)(function*(F){try{yield F.callback(o,l)}catch(re){y.push(re)}});return function(F){return M.apply(this,arguments)}}());if(yield Promise.all(L),y.length>0){for(let M=0;M<y.length;M+=1)console.error(y[M]);throw y[0]}}finally{m._debug(p,"end")}})()}_saveSession(o){var l=this;return(0,r.Z)(function*(){l._debug("#_saveSession()",o),yield de(l.storage,l.storageKey,o)})()}_removeSession(){var o=this;return(0,r.Z)(function*(){o._debug("#_removeSession()"),yield ht(o.storage,o.storageKey)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const o=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{o&&ct()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",o)}catch(l){console.error("removing visibilitychange callback failed",l)}}_startAutoRefresh(){var o=this;return(0,r.Z)(function*(){yield o._stopAutoRefresh(),o._debug("#_startAutoRefresh()");const l=setInterval(()=>o._autoRefreshTokenTick(),Tn);o.autoRefreshTicker=l,l&&"object"==typeof l&&"function"==typeof l.unref?l.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(l),setTimeout((0,r.Z)(function*(){yield o.initializePromise,yield o._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var o=this;return(0,r.Z)(function*(){o._debug("#_stopAutoRefresh()");const l=o.autoRefreshTicker;o.autoRefreshTicker=null,l&&clearInterval(l)})()}startAutoRefresh(){var o=this;return(0,r.Z)(function*(){o._removeVisibilityChangedCallback(),yield o._startAutoRefresh()})()}stopAutoRefresh(){var o=this;return(0,r.Z)(function*(){o._removeVisibilityChangedCallback(),yield o._stopAutoRefresh()})()}_autoRefreshTokenTick(){var o=this;return(0,r.Z)(function*(){o._debug("#_autoRefreshTokenTick()","begin");try{yield o._acquireLock(0,(0,r.Z)(function*(){try{const l=Date.now();try{return yield o._useSession(function(){var u=(0,r.Z)(function*(m){const{data:{session:p}}=m;if(!p||!p.refresh_token||!p.expires_at)return void o._debug("#_autoRefreshTokenTick()","no session");const y=Math.floor((1e3*p.expires_at-l)/Tn);o._debug("#_autoRefreshTokenTick()",`access token expires in ${y} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),y<=3&&(yield o._callRefreshToken(p.refresh_token))});return function(m){return u.apply(this,arguments)}}())}catch(u){console.error("Auto refresh tick failed with error. This is likely a transient error.",u)}}finally{o._debug("#_autoRefreshTokenTick()","end")}}))}catch(l){if(!(l.isAcquireTimeout||l instanceof hn))throw l;o._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var o=this;return(0,r.Z)(function*(){if(o._debug("#_handleVisibilityChange()"),!ct()||!window?.addEventListener)return o.autoRefreshToken&&o.startAutoRefresh(),!1;try{o.visibilityChangedCallback=(0,r.Z)(function*(){return yield o._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",o.visibilityChangedCallback),yield o._onVisibilityChanged(!0)}catch(l){console.error("_handleVisibilityChange",l)}})()}_onVisibilityChanged(o){var l=this;return(0,r.Z)(function*(){const u=`#_onVisibilityChanged(${o})`;l._debug(u,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(l.autoRefreshToken&&l._startAutoRefresh(),o||(yield l.initializePromise,yield l._acquireLock(-1,(0,r.Z)(function*(){"visible"===document.visibilityState?yield l._recoverAndRefresh():l._debug(u,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&l.autoRefreshToken&&l._stopAutoRefresh()})()}_getUrlForProvider(o,l,u){var m=this;return(0,r.Z)(function*(){const p=[`provider=${encodeURIComponent(l)}`];if(u?.redirectTo&&p.push(`redirect_to=${encodeURIComponent(u.redirectTo)}`),u?.scopes&&p.push(`scopes=${encodeURIComponent(u.scopes)}`),"pkce"===m.flowType){const y=tn();yield de(m.storage,`${m.storageKey}-code-verifier`,y);const L=yield qi(y),M=y===L?"plain":"s256";m._debug("PKCE","code verifier",`${y.substring(0,5)}...`,"code challenge",L,"method",M);const F=new URLSearchParams({code_challenge:`${encodeURIComponent(L)}`,code_challenge_method:`${encodeURIComponent(M)}`});p.push(F.toString())}if(u?.queryParams){const y=new URLSearchParams(u.queryParams);p.push(y.toString())}return u?.skipBrowserRedirect&&p.push(`skip_http_redirect=${u.skipBrowserRedirect}`),`${o}?${p.join("&")}`})()}_unenroll(o){var l=this;return(0,r.Z)(function*(){try{return yield l._useSession(function(){var u=(0,r.Z)(function*(m){var p;const{data:y,error:L}=m;return L?{data:null,error:L}:yield Qe(l.fetch,"DELETE",`${l.url}/factors/${o.factorId}`,{headers:l.headers,jwt:null===(p=y?.session)||void 0===p?void 0:p.access_token})});return function(m){return u.apply(this,arguments)}}())}catch(u){if(rt(u))return{data:null,error:u};throw u}})()}_enroll(o){var l=this;return(0,r.Z)(function*(){try{return yield l._useSession(function(){var u=(0,r.Z)(function*(m){var p,y;const{data:L,error:M}=m;if(M)return{data:null,error:M};const{data:F,error:re}=yield Qe(l.fetch,"POST",`${l.url}/factors`,{body:{friendly_name:o.friendlyName,factor_type:o.factorType,issuer:o.issuer},headers:l.headers,jwt:null===(p=L?.session)||void 0===p?void 0:p.access_token});return re?{data:null,error:re}:(!(null===(y=F?.totp)||void 0===y)&&y.qr_code&&(F.totp.qr_code=`data:image/svg+xml;utf-8,${F.totp.qr_code}`),{data:F,error:null})});return function(m){return u.apply(this,arguments)}}())}catch(u){if(rt(u))return{data:null,error:u};throw u}})()}_verify(o){var l=this;return(0,r.Z)(function*(){return l._acquireLock(-1,(0,r.Z)(function*(){try{return yield l._useSession(function(){var u=(0,r.Z)(function*(m){var p;const{data:y,error:L}=m;if(L)return{data:null,error:L};const{data:M,error:F}=yield Qe(l.fetch,"POST",`${l.url}/factors/${o.factorId}/verify`,{body:{code:o.code,challenge_id:o.challengeId},headers:l.headers,jwt:null===(p=y?.session)||void 0===p?void 0:p.access_token});return F?{data:null,error:F}:(yield l._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+M.expires_in},M)),yield l._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",M),{data:M,error:F})});return function(m){return u.apply(this,arguments)}}())}catch(u){if(rt(u))return{data:null,error:u};throw u}}))})()}_challenge(o){var l=this;return(0,r.Z)(function*(){return l._acquireLock(-1,(0,r.Z)(function*(){try{return yield l._useSession(function(){var u=(0,r.Z)(function*(m){var p;const{data:y,error:L}=m;return L?{data:null,error:L}:yield Qe(l.fetch,"POST",`${l.url}/factors/${o.factorId}/challenge`,{headers:l.headers,jwt:null===(p=y?.session)||void 0===p?void 0:p.access_token})});return function(m){return u.apply(this,arguments)}}())}catch(u){if(rt(u))return{data:null,error:u};throw u}}))})()}_challengeAndVerify(o){var l=this;return(0,r.Z)(function*(){const{data:u,error:m}=yield l._challenge({factorId:o.factorId});return m?{data:null,error:m}:yield l._verify({factorId:o.factorId,challengeId:u.id,code:o.code})})()}_listFactors(){var o=this;return(0,r.Z)(function*(){const{data:{user:l},error:u}=yield o.getUser();if(u)return{data:null,error:u};const m=l?.factors||[],p=m.filter(y=>"totp"===y.factor_type&&"verified"===y.status);return{data:{all:m,totp:p},error:null}})()}_getAuthenticatorAssuranceLevel(){var o=this;return(0,r.Z)(function*(){return o._acquireLock(-1,(0,r.Z)(function*(){return yield o._useSession(function(){var l=(0,r.Z)(function*(u){var m,p;const{data:{session:y},error:L}=u;if(L)return{data:null,error:L};if(!y)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const M=o._decodeJWT(y.access_token);let F=null;M.aal&&(F=M.aal);let re=F;return(null!==(p=null===(m=y.user.factors)||void 0===m?void 0:m.filter(we=>"verified"===we.status))&&void 0!==p?p:[]).length>0&&(re="aal2"),{data:{currentLevel:F,nextLevel:re,currentAuthenticationMethods:M.amr||[]},error:null}});return function(u){return l.apply(this,arguments)}}())}))})()}}return g.nextInstanceID=0,g})();class ca extends cr{constructor(h){super(h)}}class Vs{constructor(h,o,l){var u,m,p,y,L,M,F,re;if(this.supabaseUrl=h,this.supabaseKey=o,!h)throw new Error("supabaseUrl is required.");if(!o)throw new Error("supabaseKey is required.");const Te=function je(g){return g.replace(/\/$/,"")}(h);this.realtimeUrl=`${Te}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${Te}/auth/v1`,this.storageUrl=`${Te}/storage/v1`,this.functionsUrl=`${Te}/functions/v1`;const Ie=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,et=function Oe(g,h){const{db:o,auth:l,realtime:u,global:m}=g,{db:p,auth:y,realtime:L,global:M}=h;return{db:Object.assign(Object.assign({},p),o),auth:Object.assign(Object.assign({},y),l),realtime:Object.assign(Object.assign({},L),u),global:Object.assign(Object.assign({},M),m)}}(l??{},{db:Y,realtime:f,auth:Object.assign(Object.assign({},x),{storageKey:Ie}),global:st});this.storageKey=null!==(m=null===(u=et.auth)||void 0===u?void 0:u.storageKey)&&void 0!==m?m:"",this.headers=null!==(y=null===(p=et.global)||void 0===p?void 0:p.headers)&&void 0!==y?y:{},this.auth=this._initSupabaseAuthClient(null!==(L=et.auth)&&void 0!==L?L:{},this.headers,null===(M=et.global)||void 0===M?void 0:M.fetch),this.fetch=he(o,this._getAccessToken.bind(this),null===(F=et.global)||void 0===F?void 0:F.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},et.realtime)),this.rest=new it(`${Te}/rest/v1`,{headers:this.headers,schema:null===(re=et.db)||void 0===re?void 0:re.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new ie(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new P(this.storageUrl,this.headers,this.fetch)}from(h){return this.rest.from(h)}schema(h){return this.rest.schema(h)}rpc(h,o={},l={}){return this.rest.rpc(h,o,l)}channel(h,o={config:{}}){return this.realtime.channel(h,o)}getChannels(){return this.realtime.getChannels()}removeChannel(h){return this.realtime.removeChannel(h)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var h,o;return function(g,h,o,l){return new(o||(o=Promise))(function(m,p){function y(F){try{M(l.next(F))}catch(re){p(re)}}function L(F){try{M(l.throw(F))}catch(re){p(re)}}function M(F){F.done?m(F.value):function u(m){return m instanceof o?m:new o(function(p){p(m)})}(F.value).then(y,L)}M((l=l.apply(g,h||[])).next())})}(this,void 0,void 0,function*(){const{data:l}=yield this.auth.getSession();return null!==(o=null===(h=l.session)||void 0===h?void 0:h.access_token)&&void 0!==o?o:null})}_initSupabaseAuthClient({autoRefreshToken:h,persistSession:o,detectSessionInUrl:l,storage:u,storageKey:m,flowType:p,debug:y},L,M){return new ca({url:this.authUrl,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),L),storageKey:m,autoRefreshToken:h,persistSession:o,detectSessionInUrl:l,storage:u,flowType:p,debug:y,fetch:M})}_initRealtimeClient(h){return new qt(this.realtimeUrl,Object.assign(Object.assign({},h),{params:Object.assign({apikey:this.supabaseKey},h?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((o,l)=>{this._handleTokenChanged(o,"CLIENT",l?.access_token)})}_handleTokenChanged(h,o,l){"TOKEN_REFRESHED"!==h&&"SIGNED_IN"!==h||this.changedAccessToken===l?"SIGNED_OUT"===h&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==o&&this.auth.signOut(),this.changedAccessToken=void 0):(this.realtime.setAuth(l??null),this.changedAccessToken=l)}}var Ns=z(4650);let ha=(()=>{class g{constructor(){this.supabase_client=new Vs("https://zlmaryslxtjmktervpuh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpsbWFyeXNseHRqbWt0ZXJ2cHVoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDcyNDIwODcsImV4cCI6MjAyMjgxODA4N30.F8sA2x4pahe8XJfeMgSnesqMkQ1KhyCQvXlUEJ0Ou-c",void 0)}getData(o){var l=this;return(0,r.Z)(function*(){const{data:u,error:m}=yield l.supabase_client.from(o).select();return u?(console.log(u),u):(console.log(m),m)})()}getTop5GoodNews(o){var l=this;return(0,r.Z)(function*(){const{data:u,error:m}=yield l.supabase_client.from(o).select();return u?u.sort((L,M)=>M.polarity-L.polarity).slice(0,5):(console.log(m),m)})()}getTop5BadNews(o){var l=this;return(0,r.Z)(function*(){const{data:u,error:m}=yield l.supabase_client.from(o).select();return u?u.sort((L,M)=>L.polarity-M.polarity).slice(0,5):(console.log(m),m)})()}static#e=this.\u0275fac=function(l){return new(l||g)};static#t=this.\u0275prov=Ns.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},6397:(Pt,We,z)=>{z.r(We),z.d(We,{Headers:()=>$,Request:()=>ne,Response:()=>K,default:()=>De,fetch:()=>oe});var I=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}();const oe=I.fetch,De=I.fetch.bind(I),$=I.Headers,ne=I.Request,K=I.Response},5126:Pt=>{function We(I){return I instanceof Buffer?Buffer.from(I):new I.constructor(I.buffer.slice(),I.byteOffset,I.length)}Pt.exports=function z(I){return(I=I||{}).circles?function r(I){var oe=[],De=[];return I.proto?function K(ie){if("object"!=typeof ie||null===ie)return ie;if(ie instanceof Date)return new Date(ie);if(Array.isArray(ie))return $(ie,K);if(ie instanceof Map)return new Map($(Array.from(ie),K));if(ie instanceof Set)return new Set($(Array.from(ie),K));var X={};for(var fe in oe.push(ie),De.push(X),ie){var pe=ie[fe];if("object"!=typeof pe||null===pe)X[fe]=pe;else if(pe instanceof Date)X[fe]=new Date(pe);else if(pe instanceof Map)X[fe]=new Map($(Array.from(pe),K));else if(pe instanceof Set)X[fe]=new Set($(Array.from(pe),K));else if(ArrayBuffer.isView(pe))X[fe]=We(pe);else{var ve=oe.indexOf(pe);X[fe]=-1!==ve?De[ve]:K(pe)}}return oe.pop(),De.pop(),X}:function ne(ie){if("object"!=typeof ie||null===ie)return ie;if(ie instanceof Date)return new Date(ie);if(Array.isArray(ie))return $(ie,ne);if(ie instanceof Map)return new Map($(Array.from(ie),ne));if(ie instanceof Set)return new Set($(Array.from(ie),ne));var X={};for(var fe in oe.push(ie),De.push(X),ie)if(!1!==Object.hasOwnProperty.call(ie,fe)){var pe=ie[fe];if("object"!=typeof pe||null===pe)X[fe]=pe;else if(pe instanceof Date)X[fe]=new Date(pe);else if(pe instanceof Map)X[fe]=new Map($(Array.from(pe),ne));else if(pe instanceof Set)X[fe]=new Set($(Array.from(pe),ne));else if(ArrayBuffer.isView(pe))X[fe]=We(pe);else{var ve=oe.indexOf(pe);X[fe]=-1!==ve?De[ve]:ne(pe)}}return oe.pop(),De.pop(),X};function $(ie,X){for(var fe=Object.keys(ie),pe=new Array(fe.length),ve=0;ve<fe.length;ve++){var Me=fe[ve],Ve=ie[Me];if("object"!=typeof Ve||null===Ve)pe[Me]=Ve;else if(Ve instanceof Date)pe[Me]=new Date(Ve);else if(ArrayBuffer.isView(Ve))pe[Me]=We(Ve);else{var Ne=oe.indexOf(Ve);pe[Me]=-1!==Ne?De[Ne]:X(Ve)}}return pe}}(I):I.proto?function $(ne){if("object"!=typeof ne||null===ne)return ne;if(ne instanceof Date)return new Date(ne);if(Array.isArray(ne))return oe(ne,$);if(ne instanceof Map)return new Map(oe(Array.from(ne),$));if(ne instanceof Set)return new Set(oe(Array.from(ne),$));var K={};for(var ie in ne){var X=ne[ie];K[ie]="object"!=typeof X||null===X?X:X instanceof Date?new Date(X):X instanceof Map?new Map(oe(Array.from(X),$)):X instanceof Set?new Set(oe(Array.from(X),$)):ArrayBuffer.isView(X)?We(X):$(X)}return K}:function De(ne){if("object"!=typeof ne||null===ne)return ne;if(ne instanceof Date)return new Date(ne);if(Array.isArray(ne))return oe(ne,De);if(ne instanceof Map)return new Map(oe(Array.from(ne),De));if(ne instanceof Set)return new Set(oe(Array.from(ne),De));var K={};for(var ie in ne)if(!1!==Object.hasOwnProperty.call(ne,ie)){var X=ne[ie];K[ie]="object"!=typeof X||null===X?X:X instanceof Date?new Date(X):X instanceof Map?new Map(oe(Array.from(X),De)):X instanceof Set?new Set(oe(Array.from(X),De)):ArrayBuffer.isView(X)?We(X):De(X)}return K};function oe(ne,K){for(var ie=Object.keys(ne),X=new Array(ie.length),fe=0;fe<ie.length;fe++){var pe=ie[fe],ve=ne[pe];X[pe]="object"!=typeof ve||null===ve?ve:ve instanceof Date?new Date(ve):ArrayBuffer.isView(ve)?We(ve):K(ve)}return X}}},4968:(Pt,We,z)=>{z.d(We,{R:()=>fe});var r=z(8421),I=z(9751),oe=z(5577),De=z(1144),$=z(576),ne=z(3268);const K=["addListener","removeListener"],ie=["addEventListener","removeEventListener"],X=["on","off"];function fe(Ne,tt,it,Wt){if((0,$.m)(it)&&(Wt=it,it=void 0),Wt)return fe(Ne,tt,it).pipe((0,ne.Z)(Wt));const[ti,jt]=function Ve(Ne){return(0,$.m)(Ne.addEventListener)&&(0,$.m)(Ne.removeEventListener)}(Ne)?ie.map(bt=>xe=>Ne[bt](tt,xe,it)):function ve(Ne){return(0,$.m)(Ne.addListener)&&(0,$.m)(Ne.removeListener)}(Ne)?K.map(pe(Ne,tt)):function Me(Ne){return(0,$.m)(Ne.on)&&(0,$.m)(Ne.off)}(Ne)?X.map(pe(Ne,tt)):[];if(!ti&&(0,De.z)(Ne))return(0,oe.z)(bt=>fe(bt,tt,it))((0,r.Xf)(Ne));if(!ti)throw new TypeError("Invalid event target");return new I.y(bt=>{const xe=(...ae)=>bt.next(1<ae.length?ae:ae[0]);return ti(xe),()=>jt(xe)})}function pe(Ne,tt){return it=>Wt=>Ne[it](tt,Wt)}},8372:(Pt,We,z)=>{z.d(We,{b:()=>De});var r=z(4986),I=z(4482),oe=z(5403);function De($,ne=r.z){return(0,I.e)((K,ie)=>{let X=null,fe=null,pe=null;const ve=()=>{if(X){X.unsubscribe(),X=null;const Ve=fe;fe=null,ie.next(Ve)}};function Me(){const Ve=pe+$,Ne=ne.now();if(Ne<Ve)return X=this.schedule(void 0,Ve-Ne),void ie.add(X);ve()}K.subscribe((0,oe.x)(ie,Ve=>{fe=Ve,pe=ne.now(),X||(X=ne.schedule(Me,$),ie.add(X))},()=>{ve(),ie.complete()},void 0,()=>{fe=X=null}))})}},2722:(Pt,We,z)=>{z.d(We,{R:()=>$});var r=z(4482),I=z(5403),oe=z(8421),De=z(5032);function $(ne){return(0,r.e)((K,ie)=>{(0,oe.Xf)(ne).subscribe((0,I.x)(ie,()=>ie.complete(),De.Z)),!ie.closed&&K.subscribe(ie)})}},4408:(Pt,We,z)=>{z.d(We,{o:()=>$});var r=z(727);class I extends r.w0{constructor(K,ie){super()}schedule(K,ie=0){return this}}const oe={setInterval(ne,K,...ie){const{delegate:X}=oe;return X?.setInterval?X.setInterval(ne,K,...ie):setInterval(ne,K,...ie)},clearInterval(ne){const{delegate:K}=oe;return(K?.clearInterval||clearInterval)(ne)},delegate:void 0};var De=z(8737);class $ extends I{constructor(K,ie){super(K,ie),this.scheduler=K,this.work=ie,this.pending=!1}schedule(K,ie=0){var X;if(this.closed)return this;this.state=K;const fe=this.id,pe=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(pe,fe,ie)),this.pending=!0,this.delay=ie,this.id=null!==(X=this.id)&&void 0!==X?X:this.requestAsyncId(pe,this.id,ie),this}requestAsyncId(K,ie,X=0){return oe.setInterval(K.flush.bind(K,this),X)}recycleAsyncId(K,ie,X=0){if(null!=X&&this.delay===X&&!1===this.pending)return ie;null!=ie&&oe.clearInterval(ie)}execute(K,ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const X=this._execute(K,ie);if(X)return X;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(K,ie){let fe,X=!1;try{this.work(K)}catch(pe){X=!0,fe=pe||new Error("Scheduled action threw falsy error")}if(X)return this.unsubscribe(),fe}unsubscribe(){if(!this.closed){const{id:K,scheduler:ie}=this,{actions:X}=ie;this.work=this.state=this.scheduler=null,this.pending=!1,(0,De.P)(X,this),null!=K&&(this.id=this.recycleAsyncId(ie,K,null)),this.delay=null,super.unsubscribe()}}}},640:(Pt,We,z)=>{z.d(We,{v:()=>oe});const r={now:()=>(r.delegate||Date).now(),delegate:void 0};class I{constructor($,ne=I.now){this.schedulerActionCtor=$,this.now=ne}schedule($,ne=0,K){return new this.schedulerActionCtor(this,$).schedule(K,ne)}}I.now=r.now;class oe extends I{constructor($,ne=I.now){super($,ne),this.actions=[],this._active=!1}flush($){const{actions:ne}=this;if(this._active)return void ne.push($);let K;this._active=!0;do{if(K=$.execute($.state,$.delay))break}while($=ne.shift());if(this._active=!1,K){for(;$=ne.shift();)$.unsubscribe();throw K}}}},4986:(Pt,We,z)=>{z.d(We,{P:()=>De,z:()=>oe});var r=z(4408);const oe=new(z(640).v)(r.o),De=oe},1518:(Pt,We,z)=>{z.d(We,{rt:()=>ct,$s:()=>ci,tE:()=>Ee,qm:()=>pt,X6:()=>ut,yG:()=>mt});var r=z(6895),I=z(4650),oe=z(3353),De=z(1135),$=z(7579),ne=z(9646),K=z(9521),ie=z(9300);function X(H){return(0,ie.h)((E,C)=>H<=C)}var fe=z(4671),pe=z(4482),ve=z(5403);function Ve(H,E){return H===E}var Ne=z(2722),tt=z(1281);let it=(()=>{class H{create(C){return typeof MutationObserver>"u"?null:new MutationObserver(C)}}return H.\u0275fac=function(C){return new(C||H)},H.\u0275prov=I.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})(),jt=(()=>{class H{}return H.\u0275fac=function(C){return new(C||H)},H.\u0275mod=I.oAB({type:H}),H.\u0275inj=I.cJS({providers:[it]}),H})();var bt=z(9841),xe=z(7272),ae=z(9751),ke=z(5698),$e=z(8372),Je=z(4004),At=z(8675);const It=new Set;let Mt,Ii=(()=>{class H{constructor(C){this._platform=C,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):nt}matchMedia(C){return(this._platform.WEBKIT||this._platform.BLINK)&&function ni(H){if(!It.has(H))try{Mt||(Mt=document.createElement("style"),Mt.setAttribute("type","text/css"),document.head.appendChild(Mt)),Mt.sheet&&(Mt.sheet.insertRule(`@media ${H} {body{ }}`,0),It.add(H))}catch(E){console.error(E)}}(C),this._matchMedia(C)}}return H.\u0275fac=function(C){return new(C||H)(I.LFG(oe.t4))},H.\u0275prov=I.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})();function nt(H){return{matches:"all"===H||""===H,media:H,addListener:()=>{},removeListener:()=>{}}}let Rt=(()=>{class H{constructor(C,N){this._mediaMatcher=C,this._zone=N,this._queries=new Map,this._destroySubject=new $.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(C){return zi((0,tt.Eq)(C)).some(U=>this._registerQuery(U).mql.matches)}observe(C){const U=zi((0,tt.Eq)(C)).map(Fe=>this._registerQuery(Fe).observable);let de=(0,bt.a)(U);return de=(0,xe.z)(de.pipe((0,ke.q)(1)),de.pipe(X(1),(0,$e.b)(0))),de.pipe((0,Je.U)(Fe=>{const ht={matches:!1,breakpoints:{}};return Fe.forEach(({matches:zt,query:Jt})=>{ht.matches=ht.matches||zt,ht.breakpoints[Jt]=zt}),ht}))}_registerQuery(C){if(this._queries.has(C))return this._queries.get(C);const N=this._mediaMatcher.matchMedia(C),de={observable:new ae.y(Fe=>{const ht=zt=>this._zone.run(()=>Fe.next(zt));return N.addListener(ht),()=>{N.removeListener(ht)}}).pipe((0,At.O)(N),(0,Je.U)(({matches:Fe})=>({query:C,matches:Fe})),(0,Ne.R)(this._destroySubject)),mql:N};return this._queries.set(C,de),de}}return H.\u0275fac=function(C){return new(C||H)(I.LFG(Ii),I.LFG(I.R0b))},H.\u0275prov=I.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})();function zi(H){return H.map(E=>E.split(",")).reduce((E,C)=>E.concat(C)).map(E=>E.trim())}function St(H,E){return(H.getAttribute(E)||"").match(/\S+/g)||[]}const $t="cdk-describedby-message",_t="cdk-describedby-host";let Si=0,ci=(()=>{class H{constructor(C,N){this._platform=N,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Si++,this._document=C,this._id=(0,I.f3M)(I.AFp)+"-"+Si++}describe(C,N,U){if(!this._canBeDescribed(C,N))return;const de=ki(N,U);"string"!=typeof N?(Ai(N,this._id),this._messageRegistry.set(de,{messageElement:N,referenceCount:0})):this._messageRegistry.has(de)||this._createMessageElement(N,U),this._isElementDescribedByMessage(C,de)||this._addMessageReference(C,de)}removeDescription(C,N,U){if(!N||!this._isElementNode(C))return;const de=ki(N,U);if(this._isElementDescribedByMessage(C,de)&&this._removeMessageReference(C,de),"string"==typeof N){const Fe=this._messageRegistry.get(de);Fe&&0===Fe.referenceCount&&this._deleteMessageElement(de)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const C=this._document.querySelectorAll(`[${_t}="${this._id}"]`);for(let N=0;N<C.length;N++)this._removeCdkDescribedByReferenceIds(C[N]),C[N].removeAttribute(_t);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(C,N){const U=this._document.createElement("div");Ai(U,this._id),U.textContent=C,N&&U.setAttribute("role",N),this._createMessagesContainer(),this._messagesContainer.appendChild(U),this._messageRegistry.set(ki(C,N),{messageElement:U,referenceCount:0})}_deleteMessageElement(C){this._messageRegistry.get(C)?.messageElement?.remove(),this._messageRegistry.delete(C)}_createMessagesContainer(){if(this._messagesContainer)return;const C="cdk-describedby-message-container",N=this._document.querySelectorAll(`.${C}[platform="server"]`);for(let de=0;de<N.length;de++)N[de].remove();const U=this._document.createElement("div");U.style.visibility="hidden",U.classList.add(C),U.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&U.setAttribute("platform","server"),this._document.body.appendChild(U),this._messagesContainer=U}_removeCdkDescribedByReferenceIds(C){const N=St(C,"aria-describedby").filter(U=>0!=U.indexOf($t));C.setAttribute("aria-describedby",N.join(" "))}_addMessageReference(C,N){const U=this._messageRegistry.get(N);(function wi(H,E,C){const N=St(H,E);N.some(U=>U.trim()==C.trim())||(N.push(C.trim()),H.setAttribute(E,N.join(" ")))})(C,"aria-describedby",U.messageElement.id),C.setAttribute(_t,this._id),U.referenceCount++}_removeMessageReference(C,N){const U=this._messageRegistry.get(N);U.referenceCount--,function Ut(H,E,C){const U=St(H,E).filter(de=>de!=C.trim());U.length?H.setAttribute(E,U.join(" ")):H.removeAttribute(E)}(C,"aria-describedby",U.messageElement.id),C.removeAttribute(_t)}_isElementDescribedByMessage(C,N){const U=St(C,"aria-describedby"),de=this._messageRegistry.get(N),Fe=de&&de.messageElement.id;return!!Fe&&-1!=U.indexOf(Fe)}_canBeDescribed(C,N){if(!this._isElementNode(C))return!1;if(N&&"object"==typeof N)return!0;const U=null==N?"":`${N}`.trim(),de=C.getAttribute("aria-label");return!(!U||de&&de.trim()===U)}_isElementNode(C){return C.nodeType===this._document.ELEMENT_NODE}}return H.\u0275fac=function(C){return new(C||H)(I.LFG(r.K0),I.LFG(oe.t4))},H.\u0275prov=I.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})();function ki(H,E){return"string"==typeof H?`${E||""}/${H}`:H}function Ai(H,E){H.id||(H.id=`${$t}-${E}-${Si++}`)}function ut(H){return 0===H.buttons||0===H.offsetX&&0===H.offsetY}function mt(H){const E=H.touches&&H.touches[0]||H.changedTouches&&H.changedTouches[0];return!(!E||-1!==E.identifier||null!=E.radiusX&&1!==E.radiusX||null!=E.radiusY&&1!==E.radiusY)}const ue=new I.OlP("cdk-input-modality-detector-options"),P={ignoreKeys:[K.zL,K.jx,K.b2,K.MW,K.JU]},te=(0,oe.i$)({passive:!0,capture:!0});let Le=(()=>{class H{get mostRecentModality(){return this._modality.value}constructor(C,N,U,de){this._platform=C,this._mostRecentTarget=null,this._modality=new De.X(null),this._lastTouchMs=0,this._onKeydown=Fe=>{this._options?.ignoreKeys?.some(ht=>ht===Fe.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,oe.sA)(Fe))},this._onMousedown=Fe=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ut(Fe)?"keyboard":"mouse"),this._mostRecentTarget=(0,oe.sA)(Fe))},this._onTouchstart=Fe=>{mt(Fe)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,oe.sA)(Fe))},this._options={...P,...de},this.modalityDetected=this._modality.pipe(X(1)),this.modalityChanged=this.modalityDetected.pipe(function Me(H,E=fe.y){return H=H??Ve,(0,pe.e)((C,N)=>{let U,de=!0;C.subscribe((0,ve.x)(N,Fe=>{const ht=E(Fe);(de||!H(U,ht))&&(de=!1,U=ht,N.next(Fe))}))})}()),C.isBrowser&&N.runOutsideAngular(()=>{U.addEventListener("keydown",this._onKeydown,te),U.addEventListener("mousedown",this._onMousedown,te),U.addEventListener("touchstart",this._onTouchstart,te)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,te),document.removeEventListener("mousedown",this._onMousedown,te),document.removeEventListener("touchstart",this._onTouchstart,te))}}return H.\u0275fac=function(C){return new(C||H)(I.LFG(oe.t4),I.LFG(I.R0b),I.LFG(r.K0),I.LFG(ue,8))},H.\u0275prov=I.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})();const q=new I.OlP("cdk-focus-monitor-default-options"),he=(0,oe.i$)({passive:!0,capture:!0});let Ee=(()=>{class H{constructor(C,N,U,de,Fe){this._ngZone=C,this._platform=N,this._inputModalityDetector=U,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new $.x,this._rootNodeFocusAndBlurListener=ht=>{for(let Jt=(0,oe.sA)(ht);Jt;Jt=Jt.parentElement)"focus"===ht.type?this._onFocus(ht,Jt):this._onBlur(ht,Jt)},this._document=de,this._detectionMode=Fe?.detectionMode||0}monitor(C,N=!1){const U=(0,tt.fI)(C);if(!this._platform.isBrowser||1!==U.nodeType)return(0,ne.of)(null);const de=(0,oe.kV)(U)||this._getDocument(),Fe=this._elementInfo.get(U);if(Fe)return N&&(Fe.checkChildren=!0),Fe.subject;const ht={checkChildren:N,subject:new $.x,rootNode:de};return this._elementInfo.set(U,ht),this._registerGlobalListeners(ht),ht.subject}stopMonitoring(C){const N=(0,tt.fI)(C),U=this._elementInfo.get(N);U&&(U.subject.complete(),this._setClasses(N),this._elementInfo.delete(N),this._removeGlobalListeners(U))}focusVia(C,N,U){const de=(0,tt.fI)(C);de===this._getDocument().activeElement?this._getClosestElementsInfo(de).forEach(([ht,zt])=>this._originChanged(ht,N,zt)):(this._setOrigin(N),"function"==typeof de.focus&&de.focus(U))}ngOnDestroy(){this._elementInfo.forEach((C,N)=>this.stopMonitoring(N))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(C){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(C)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:C&&this._isLastInteractionFromInputLabel(C)?"mouse":"program"}_shouldBeAttributedToTouch(C){return 1===this._detectionMode||!!C?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(C,N){C.classList.toggle("cdk-focused",!!N),C.classList.toggle("cdk-touch-focused","touch"===N),C.classList.toggle("cdk-keyboard-focused","keyboard"===N),C.classList.toggle("cdk-mouse-focused","mouse"===N),C.classList.toggle("cdk-program-focused","program"===N)}_setOrigin(C,N=!1){this._ngZone.runOutsideAngular(()=>{this._origin=C,this._originFromTouchInteraction="touch"===C&&N,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(C,N){const U=this._elementInfo.get(N),de=(0,oe.sA)(C);!U||!U.checkChildren&&N!==de||this._originChanged(N,this._getFocusOrigin(de),U)}_onBlur(C,N){const U=this._elementInfo.get(N);!U||U.checkChildren&&C.relatedTarget instanceof Node&&N.contains(C.relatedTarget)||(this._setClasses(N),this._emitOrigin(U,null))}_emitOrigin(C,N){C.subject.observers.length&&this._ngZone.run(()=>C.subject.next(N))}_registerGlobalListeners(C){if(!this._platform.isBrowser)return;const N=C.rootNode,U=this._rootNodeFocusListenerCount.get(N)||0;U||this._ngZone.runOutsideAngular(()=>{N.addEventListener("focus",this._rootNodeFocusAndBlurListener,he),N.addEventListener("blur",this._rootNodeFocusAndBlurListener,he)}),this._rootNodeFocusListenerCount.set(N,U+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Ne.R)(this._stopInputModalityDetector)).subscribe(de=>{this._setOrigin(de,!0)}))}_removeGlobalListeners(C){const N=C.rootNode;if(this._rootNodeFocusListenerCount.has(N)){const U=this._rootNodeFocusListenerCount.get(N);U>1?this._rootNodeFocusListenerCount.set(N,U-1):(N.removeEventListener("focus",this._rootNodeFocusAndBlurListener,he),N.removeEventListener("blur",this._rootNodeFocusAndBlurListener,he),this._rootNodeFocusListenerCount.delete(N))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(C,N,U){this._setClasses(C,N),this._emitOrigin(U,N),this._lastFocusOrigin=N}_getClosestElementsInfo(C){const N=[];return this._elementInfo.forEach((U,de)=>{(de===C||U.checkChildren&&de.contains(C))&&N.push([de,U])}),N}_isLastInteractionFromInputLabel(C){const{_mostRecentTarget:N,mostRecentModality:U}=this._inputModalityDetector;if("mouse"!==U||!N||N===C||"INPUT"!==C.nodeName&&"TEXTAREA"!==C.nodeName||C.disabled)return!1;const de=C.labels;if(de)for(let Fe=0;Fe<de.length;Fe++)if(de[Fe].contains(N))return!0;return!1}}return H.\u0275fac=function(C){return new(C||H)(I.LFG(I.R0b),I.LFG(oe.t4),I.LFG(Le),I.LFG(r.K0,8),I.LFG(q,8))},H.\u0275prov=I.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})();const Ge="cdk-high-contrast-black-on-white",Oe="cdk-high-contrast-white-on-black",Ke="cdk-high-contrast-active";let pt=(()=>{class H{constructor(C,N){this._platform=C,this._document=N,this._breakpointSubscription=(0,I.f3M)(Rt).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const C=this._document.createElement("div");C.style.backgroundColor="rgb(1,2,3)",C.style.position="absolute",this._document.body.appendChild(C);const N=this._document.defaultView||window,U=N&&N.getComputedStyle?N.getComputedStyle(C):null,de=(U&&U.backgroundColor||"").replace(/ /g,"");switch(C.remove(),de){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const C=this._document.body.classList;C.remove(Ke,Ge,Oe),this._hasCheckedHighContrastMode=!0;const N=this.getHighContrastMode();1===N?C.add(Ke,Ge):2===N&&C.add(Ke,Oe)}}}return H.\u0275fac=function(C){return new(C||H)(I.LFG(oe.t4),I.LFG(r.K0))},H.\u0275prov=I.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})(),ct=(()=>{class H{constructor(C){C._applyBodyHighContrastModeCssClasses()}}return H.\u0275fac=function(C){return new(C||H)(I.LFG(pt))},H.\u0275mod=I.oAB({type:H}),H.\u0275inj=I.cJS({imports:[jt]}),H})()},445:(Pt,We,z)=>{z.d(We,{Is:()=>K,vT:()=>X});var r=z(4650),I=z(6895);const oe=new r.OlP("cdk-dir-doc",{providedIn:"root",factory:function De(){return(0,r.f3M)(I.K0)}}),$=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let K=(()=>{class fe{constructor(ve){this.value="ltr",this.change=new r.vpe,ve&&(this.value=function ne(fe){const pe=fe?.toLowerCase()||"";return"auto"===pe&&typeof navigator<"u"&&navigator?.language?$.test(navigator.language)?"rtl":"ltr":"rtl"===pe?"rtl":"ltr"}((ve.body?ve.body.dir:null)||(ve.documentElement?ve.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return fe.\u0275fac=function(ve){return new(ve||fe)(r.LFG(oe,8))},fe.\u0275prov=r.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})(),X=(()=>{class fe{}return fe.\u0275fac=function(ve){return new(ve||fe)},fe.\u0275mod=r.oAB({type:fe}),fe.\u0275inj=r.cJS({}),fe})()},1281:(Pt,We,z)=>{z.d(We,{Eq:()=>$,HM:()=>ne,Ig:()=>I,fI:()=>K,su:()=>oe});var r=z(4650);function I(X){return null!=X&&"false"!=`${X}`}function oe(X,fe=0){return function De(X){return!isNaN(parseFloat(X))&&!isNaN(Number(X))}(X)?Number(X):fe}function $(X){return Array.isArray(X)?X:[X]}function ne(X){return null==X?"":"string"==typeof X?X:`${X}px`}function K(X){return X instanceof r.SBq?X.nativeElement:X}},9521:(Pt,We,z)=>{z.d(We,{JU:()=>ne,MW:()=>le,Vb:()=>S,b2:()=>W,hY:()=>pe,jx:()=>K,zL:()=>ie});const ne=16,K=17,ie=18,pe=27,le=91,W=224;function S(b,...O){return O.length?O.some(j=>b[j]):b.altKey||b.shiftKey||b.ctrlKey||b.metaKey}},3353:(Pt,We,z)=>{z.d(We,{Mq:()=>Ve,Oy:()=>bt,_i:()=>Ne,i$:()=>pe,kV:()=>Wt,sA:()=>jt,t4:()=>De});var r=z(4650),I=z(6895);let oe;try{oe=typeof Intl<"u"&&Intl.v8BreakIterator}catch{oe=!1}let X,ve,Me,tt,De=(()=>{class xe{constructor(ke){this._platformId=ke,this.isBrowser=this._platformId?(0,I.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!oe)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return xe.\u0275fac=function(ke){return new(ke||xe)(r.LFG(r.Lbi))},xe.\u0275prov=r.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"}),xe})();function pe(xe){return function fe(){if(null==X&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>X=!0}))}finally{X=X||!1}return X}()?xe:!!xe.capture}function Ve(){if(null==Me){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Me=!1,Me;if("scrollBehavior"in document.documentElement.style)Me=!0;else{const xe=Element.prototype.scrollTo;Me=!!xe&&!/\{\s*\[native code\]\s*\}/.test(xe.toString())}}return Me}function Ne(){if("object"!=typeof document||!document)return 0;if(null==ve){const xe=document.createElement("div"),ae=xe.style;xe.dir="rtl",ae.width="1px",ae.overflow="auto",ae.visibility="hidden",ae.pointerEvents="none",ae.position="absolute";const ke=document.createElement("div"),$e=ke.style;$e.width="2px",$e.height="1px",xe.appendChild(ke),document.body.appendChild(xe),ve=0,0===xe.scrollLeft&&(xe.scrollLeft=1,ve=0===xe.scrollLeft?1:2),xe.remove()}return ve}function Wt(xe){if(function it(){if(null==tt){const xe=typeof document<"u"?document.head:null;tt=!(!xe||!xe.createShadowRoot&&!xe.attachShadow)}return tt}()){const ae=xe.getRootNode?xe.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&ae instanceof ShadowRoot)return ae}return null}function jt(xe){return xe.composedPath?xe.composedPath()[0]:xe.target}function bt(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},4080:(Pt,We,z)=>{z.d(We,{C5:()=>X,eL:()=>jt,u0:()=>Ve});var r=z(4650);class ie{attach(ae){return this._attachedHost=ae,ae.attach(this)}detach(){let ae=this._attachedHost;null!=ae&&(this._attachedHost=null,ae.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(ae){this._attachedHost=ae}}class X extends ie{constructor(ae,ke,$e,Je,At){super(),this.component=ae,this.viewContainerRef=ke,this.injector=$e,this.componentFactoryResolver=Je,this.projectableNodes=At}}class fe extends ie{constructor(ae,ke,$e,Je){super(),this.templateRef=ae,this.viewContainerRef=ke,this.context=$e,this.injector=Je}get origin(){return this.templateRef.elementRef}attach(ae,ke=this.context){return this.context=ke,super.attach(ae)}detach(){return this.context=void 0,super.detach()}}class pe extends ie{constructor(ae){super(),this.element=ae instanceof r.SBq?ae.nativeElement:ae}}class ve{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(ae){return ae instanceof X?(this._attachedPortal=ae,this.attachComponentPortal(ae)):ae instanceof fe?(this._attachedPortal=ae,this.attachTemplatePortal(ae)):this.attachDomPortal&&ae instanceof pe?(this._attachedPortal=ae,this.attachDomPortal(ae)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(ae){this._disposeFn=ae}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Ve extends ve{constructor(ae,ke,$e,Je,At){super(),this.outletElement=ae,this._componentFactoryResolver=ke,this._appRef=$e,this._defaultInjector=Je,this.attachDomPortal=ii=>{const It=ii.element,Mt=this._document.createComment("dom-portal");It.parentNode.insertBefore(Mt,It),this.outletElement.appendChild(It),this._attachedPortal=ii,super.setDisposeFn(()=>{Mt.parentNode&&Mt.parentNode.replaceChild(It,Mt)})},this._document=At}attachComponentPortal(ae){const $e=(ae.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(ae.component);let Je;return ae.viewContainerRef?(Je=ae.viewContainerRef.createComponent($e,ae.viewContainerRef.length,ae.injector||ae.viewContainerRef.injector,ae.projectableNodes||void 0),this.setDisposeFn(()=>Je.destroy())):(Je=$e.create(ae.injector||this._defaultInjector||r.zs3.NULL),this._appRef.attachView(Je.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Je.hostView),Je.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Je)),this._attachedPortal=ae,Je}attachTemplatePortal(ae){let ke=ae.viewContainerRef,$e=ke.createEmbeddedView(ae.templateRef,ae.context,{injector:ae.injector});return $e.rootNodes.forEach(Je=>this.outletElement.appendChild(Je)),$e.detectChanges(),this.setDisposeFn(()=>{let Je=ke.indexOf($e);-1!==Je&&ke.remove(Je)}),this._attachedPortal=ae,$e}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(ae){return ae.hostView.rootNodes[0]}}let jt=(()=>{class xe{}return xe.\u0275fac=function(ke){return new(ke||xe)},xe.\u0275mod=r.oAB({type:xe}),xe.\u0275inj=r.cJS({}),xe})()},1218:(Pt,We,z)=>{z.d(We,{ZD:()=>Vt,mF:()=>qt,Cl:()=>Ni,rL:()=>vt});var r=z(1281),I=z(4650),oe=z(7579),De=z(9646),$=z(9751),ne=z(4968),K=z(4408),ie=z(727);const X={schedule(le){let Q=requestAnimationFrame,w=cancelAnimationFrame;const{delegate:G}=X;G&&(Q=G.requestAnimationFrame,w=G.cancelAnimationFrame);const ce=Q(ge=>{w=void 0,le(ge)});return new ie.w0(()=>w?.(ce))},requestAnimationFrame(...le){const{delegate:Q}=X;return(Q?.requestAnimationFrame||requestAnimationFrame)(...le)},cancelAnimationFrame(...le){const{delegate:Q}=X;return(Q?.cancelAnimationFrame||cancelAnimationFrame)(...le)},delegate:void 0};var pe=z(640);const Me=new class ve extends pe.v{flush(Q){this._active=!0;const w=this._scheduled;this._scheduled=void 0;const{actions:G}=this;let ce;Q=Q||G.shift();do{if(ce=Q.execute(Q.state,Q.delay))break}while((Q=G[0])&&Q.id===w&&G.shift());if(this._active=!1,ce){for(;(Q=G[0])&&Q.id===w&&G.shift();)Q.unsubscribe();throw ce}}}(class fe extends K.o{constructor(Q,w){super(Q,w),this.scheduler=Q,this.work=w}requestAsyncId(Q,w,G=0){return null!==G&&G>0?super.requestAsyncId(Q,w,G):(Q.actions.push(this),Q._scheduled||(Q._scheduled=X.requestAnimationFrame(()=>Q.flush(void 0))))}recycleAsyncId(Q,w,G=0){var ce;if(null!=G?G>0:this.delay>0)return super.recycleAsyncId(Q,w,G);const{actions:ge}=Q;null!=w&&(null===(ce=ge[ge.length-1])||void 0===ce?void 0:ce.id)!==w&&(X.cancelAnimationFrame(w),Q._scheduled=void 0)}});let tt,Ne=1;const it={};function Wt(le){return le in it&&(delete it[le],!0)}const ti={setImmediate(le){const Q=Ne++;return it[Q]=!0,tt||(tt=Promise.resolve()),tt.then(()=>Wt(Q)&&le()),Q},clearImmediate(le){Wt(le)}},{setImmediate:bt,clearImmediate:xe}=ti,ae={setImmediate(...le){const{delegate:Q}=ae;return(Q?.setImmediate||bt)(...le)},clearImmediate(le){const{delegate:Q}=ae;return(Q?.clearImmediate||xe)(le)},delegate:void 0},Je=new class $e extends pe.v{flush(Q){this._active=!0;const w=this._scheduled;this._scheduled=void 0;const{actions:G}=this;let ce;Q=Q||G.shift();do{if(ce=Q.execute(Q.state,Q.delay))break}while((Q=G[0])&&Q.id===w&&G.shift());if(this._active=!1,ce){for(;(Q=G[0])&&Q.id===w&&G.shift();)Q.unsubscribe();throw ce}}}(class ke extends K.o{constructor(Q,w){super(Q,w),this.scheduler=Q,this.work=w}requestAsyncId(Q,w,G=0){return null!==G&&G>0?super.requestAsyncId(Q,w,G):(Q.actions.push(this),Q._scheduled||(Q._scheduled=ae.setImmediate(Q.flush.bind(Q,void 0))))}recycleAsyncId(Q,w,G=0){var ce;if(null!=G?G>0:this.delay>0)return super.recycleAsyncId(Q,w,G);const{actions:ge}=Q;null!=w&&(null===(ce=ge[ge.length-1])||void 0===ce?void 0:ce.id)!==w&&(ae.clearImmediate(w),Q._scheduled===w&&(Q._scheduled=void 0))}});var ii=z(4986),It=z(4482),Mt=z(8421),Ii=z(5403),nt=z(3532);function vi(le,Q=ii.z){return function ni(le){return(0,It.e)((Q,w)=>{let G=!1,ce=null,ge=null,qe=!1;const Lt=()=>{if(ge?.unsubscribe(),ge=null,G){G=!1;const mt=ce;ce=null,w.next(mt)}qe&&w.complete()},ut=()=>{ge=null,qe&&w.complete()};Q.subscribe((0,Ii.x)(w,mt=>{G=!0,ce=mt,ge||(0,Mt.Xf)(le(mt)).subscribe(ge=(0,Ii.x)(w,Lt,ut))},()=>{qe=!0,(!G||!ge||ge.closed)&&w.complete()}))})}(()=>function zi(le=0,Q,w=ii.P){let G=-1;return null!=Q&&((0,nt.K)(Q)?w=Q:G=Q),new $.y(ce=>{let ge=function Rt(le){return le instanceof Date&&!isNaN(le)}(le)?+le-w.now():le;ge<0&&(ge=0);let qe=0;return w.schedule(function(){ce.closed||(ce.next(qe++),0<=G?this.schedule(void 0,G):ce.complete())},ge)})}(le,Q))}var xi=z(9300),wi=z(2722),Ut=z(8675),St=z(3353),Pi=z(6895),$t=z(445);const _t=["contentWrapper"],Si=["*"],ci=new I.OlP("VIRTUAL_SCROLL_STRATEGY");let qt=(()=>{class le{constructor(w,G,ce){this._ngZone=w,this._platform=G,this._scrolled=new oe.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=ce}register(w){this.scrollContainers.has(w)||this.scrollContainers.set(w,w.elementScrolled().subscribe(()=>this._scrolled.next(w)))}deregister(w){const G=this.scrollContainers.get(w);G&&(G.unsubscribe(),this.scrollContainers.delete(w))}scrolled(w=20){return this._platform.isBrowser?new $.y(G=>{this._globalSubscription||this._addGlobalListener();const ce=w>0?this._scrolled.pipe(vi(w)).subscribe(G):this._scrolled.subscribe(G);return this._scrolledCount++,()=>{ce.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,De.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((w,G)=>this.deregister(G)),this._scrolled.complete()}ancestorScrolled(w,G){const ce=this.getAncestorScrollContainers(w);return this.scrolled(G).pipe((0,xi.h)(ge=>!ge||ce.indexOf(ge)>-1))}getAncestorScrollContainers(w){const G=[];return this.scrollContainers.forEach((ce,ge)=>{this._scrollableContainsElement(ge,w)&&G.push(ge)}),G}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(w,G){let ce=(0,r.fI)(G),ge=w.getElementRef().nativeElement;do{if(ce==ge)return!0}while(ce=ce.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const w=this._getWindow();return(0,ne.R)(w.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return le.\u0275fac=function(w){return new(w||le)(I.LFG(I.R0b),I.LFG(St.t4),I.LFG(Pi.K0,8))},le.\u0275prov=I.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})(),Gi=(()=>{class le{constructor(w,G,ce,ge){this.elementRef=w,this.scrollDispatcher=G,this.ngZone=ce,this.dir=ge,this._destroyed=new oe.x,this._elementScrolled=new $.y(qe=>this.ngZone.runOutsideAngular(()=>(0,ne.R)(this.elementRef.nativeElement,"scroll").pipe((0,wi.R)(this._destroyed)).subscribe(qe)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(w){const G=this.elementRef.nativeElement,ce=this.dir&&"rtl"==this.dir.value;null==w.left&&(w.left=ce?w.end:w.start),null==w.right&&(w.right=ce?w.start:w.end),null!=w.bottom&&(w.top=G.scrollHeight-G.clientHeight-w.bottom),ce&&0!=(0,St._i)()?(null!=w.left&&(w.right=G.scrollWidth-G.clientWidth-w.left),2==(0,St._i)()?w.left=w.right:1==(0,St._i)()&&(w.left=w.right?-w.right:w.right)):null!=w.right&&(w.left=G.scrollWidth-G.clientWidth-w.right),this._applyScrollToOptions(w)}_applyScrollToOptions(w){const G=this.elementRef.nativeElement;(0,St.Mq)()?G.scrollTo(w):(null!=w.top&&(G.scrollTop=w.top),null!=w.left&&(G.scrollLeft=w.left))}measureScrollOffset(w){const G="left",ge=this.elementRef.nativeElement;if("top"==w)return ge.scrollTop;if("bottom"==w)return ge.scrollHeight-ge.clientHeight-ge.scrollTop;const qe=this.dir&&"rtl"==this.dir.value;return"start"==w?w=qe?"right":G:"end"==w&&(w=qe?G:"right"),qe&&2==(0,St._i)()?w==G?ge.scrollWidth-ge.clientWidth-ge.scrollLeft:ge.scrollLeft:qe&&1==(0,St._i)()?w==G?ge.scrollLeft+ge.scrollWidth-ge.clientWidth:-ge.scrollLeft:w==G?ge.scrollLeft:ge.scrollWidth-ge.clientWidth-ge.scrollLeft}}return le.\u0275fac=function(w){return new(w||le)(I.Y36(I.SBq),I.Y36(qt),I.Y36(I.R0b),I.Y36($t.Is,8))},le.\u0275dir=I.lG2({type:le,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),le})(),vt=(()=>{class le{constructor(w,G,ce){this._platform=w,this._change=new oe.x,this._changeListener=ge=>{this._change.next(ge)},this._document=ce,G.runOutsideAngular(()=>{if(w.isBrowser){const ge=this._getWindow();ge.addEventListener("resize",this._changeListener),ge.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const w=this._getWindow();w.removeEventListener("resize",this._changeListener),w.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const w={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),w}getViewportRect(){const w=this.getViewportScrollPosition(),{width:G,height:ce}=this.getViewportSize();return{top:w.top,left:w.left,bottom:w.top+ce,right:w.left+G,height:ce,width:G}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const w=this._document,G=this._getWindow(),ce=w.documentElement,ge=ce.getBoundingClientRect();return{top:-ge.top||w.body.scrollTop||G.scrollY||ce.scrollTop||0,left:-ge.left||w.body.scrollLeft||G.scrollX||ce.scrollLeft||0}}change(w=20){return w>0?this._change.pipe(vi(w)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const w=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:w.innerWidth,height:w.innerHeight}:{width:0,height:0}}}return le.\u0275fac=function(w){return new(w||le)(I.LFG(St.t4),I.LFG(I.R0b),I.LFG(Pi.K0,8))},le.\u0275prov=I.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})();const hi=new I.OlP("VIRTUAL_SCROLLABLE");let si=(()=>{class le extends Gi{constructor(w,G,ce,ge){super(w,G,ce,ge)}measureViewportSize(w){const G=this.elementRef.nativeElement;return"horizontal"===w?G.clientWidth:G.clientHeight}}return le.\u0275fac=function(w){return new(w||le)(I.Y36(I.SBq),I.Y36(qt),I.Y36(I.R0b),I.Y36($t.Is,8))},le.\u0275dir=I.lG2({type:le,features:[I.qOj]}),le})();const Bt=typeof requestAnimationFrame<"u"?Me:Je;let Ei=(()=>{class le extends si{get orientation(){return this._orientation}set orientation(w){this._orientation!==w&&(this._orientation=w,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(w){this._appendOnly=(0,r.Ig)(w)}constructor(w,G,ce,ge,qe,Lt,ut,mt){super(w,Lt,ce,qe),this.elementRef=w,this._changeDetectorRef=G,this._scrollStrategy=ge,this.scrollable=mt,this._platform=(0,I.f3M)(St.t4),this._detachedSubject=new oe.x,this._renderedRangeSubject=new oe.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new $.y(ue=>this._scrollStrategy.scrolledIndexChange.subscribe(P=>Promise.resolve().then(()=>this.ngZone.run(()=>ue.next(P))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=ie.w0.EMPTY,this._viewportChanges=ut.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,Ut.O)(null),vi(0,Bt)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(w){this.ngZone.runOutsideAngular(()=>{this._forOf=w,this._forOf.dataStream.pipe((0,wi.R)(this._detachedSubject)).subscribe(G=>{const ce=G.length;ce!==this._dataLength&&(this._dataLength=ce,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(w){return this.getElementRef().nativeElement.getBoundingClientRect()[w]}setTotalContentSize(w){this._totalContentSize!==w&&(this._totalContentSize=w,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(w){(function Bi(le,Q){return le.start==Q.start&&le.end==Q.end})(this._renderedRange,w)||(this.appendOnly&&(w={start:0,end:Math.max(this._renderedRange.end,w.end)}),this._renderedRangeSubject.next(this._renderedRange=w),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(w,G="to-start"){w=this.appendOnly&&"to-start"===G?0:w;const ge="horizontal"==this.orientation,qe=ge?"X":"Y";let ut=`translate${qe}(${Number((ge&&this.dir&&"rtl"==this.dir.value?-1:1)*w)}px)`;this._renderedContentOffset=w,"to-end"===G&&(ut+=` translate${qe}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=ut&&(this._renderedContentTransform=ut,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(w,G="auto"){const ce={behavior:G};"horizontal"===this.orientation?ce.start=w:ce.top=w,this.scrollable.scrollTo(ce)}scrollToIndex(w,G="auto"){this._scrollStrategy.scrollToIndex(w,G)}measureScrollOffset(w){let G;return G=this.scrollable==this?ce=>super.measureScrollOffset(ce):ce=>this.scrollable.measureScrollOffset(ce),Math.max(0,G(w??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(w){let G;const qe="rtl"==this.dir?.value;G="start"==w?qe?"right":"left":"end"==w?qe?"left":"right":w||("horizontal"===this.orientation?"left":"top");const Lt=this.scrollable.measureBoundingClientRectWithScrollOffset(G);return this.elementRef.nativeElement.getBoundingClientRect()[G]-Lt}measureRenderedContentSize(){const w=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?w.offsetWidth:w.offsetHeight}measureRangeSize(w){return this._forOf?this._forOf.measureRangeSize(w,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(w){w&&this._runAfterChangeDetection.push(w),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const w=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const G of w)G()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return le.\u0275fac=function(w){return new(w||le)(I.Y36(I.SBq),I.Y36(I.sBO),I.Y36(I.R0b),I.Y36(ci,8),I.Y36($t.Is,8),I.Y36(qt),I.Y36(vt),I.Y36(hi,8))},le.\u0275cmp=I.Xpm({type:le,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(w,G){if(1&w&&I.Gf(_t,7),2&w){let ce;I.iGM(ce=I.CRH())&&(G._contentWrapper=ce.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(w,G){2&w&&I.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===G.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==G.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[I._Bn([{provide:Gi,useFactory:(Q,w)=>Q||w,deps:[[new I.FiY,new I.tBr(hi)],le]}]),I.qOj,I.jDz],ngContentSelectors:Si,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(w,G){1&w&&(I.F$t(),I.TgZ(0,"div",0,1),I.Hsn(2),I.qZA(),I._UZ(3,"div",2)),2&w&&(I.xp6(3),I.Udp("width",G._totalContentWidth)("height",G._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),le})(),Vt=(()=>{class le{}return le.\u0275fac=function(w){return new(w||le)},le.\u0275mod=I.oAB({type:le}),le.\u0275inj=I.cJS({}),le})(),Ni=(()=>{class le{}return le.\u0275fac=function(w){return new(w||le)},le.\u0275mod=I.oAB({type:le}),le.\u0275inj=I.cJS({imports:[$t.vT,Vt,Ei,$t.vT,Vt]}),le})()},3238:(Pt,We,z)=>{z.d(We,{BQ:()=>bt,wG:()=>Ei,si:()=>pi,pj:()=>Je,Kr:()=>At,Id:()=>$e});var r=z(4650),I=z(1518),oe=z(445),$=z(6895),ne=z(3353),K=z(1281);const jt=new r.OlP("mat-sanity-checks",{providedIn:"root",factory:function ti(){return!0}});let bt=(()=>{class ue{constructor(R,te,Le){this._sanityChecks=te,this._document=Le,this._hasDoneGlobalChecks=!1,R._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(R){return!(0,ne.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[R])}}return ue.\u0275fac=function(R){return new(R||ue)(r.LFG(I.qm),r.LFG(jt,8),r.LFG($.K0))},ue.\u0275mod=r.oAB({type:ue}),ue.\u0275inj=r.cJS({imports:[oe.vT,oe.vT]}),ue})();function $e(ue){return class extends ue{get disabled(){return this._disabled}set disabled(P){this._disabled=(0,K.Ig)(P)}constructor(...P){super(...P),this._disabled=!1}}}function Je(ue,P){return class extends ue{get color(){return this._color}set color(R){const te=R||this.defaultColor;te!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),te&&this._elementRef.nativeElement.classList.add(`mat-${te}`),this._color=te)}constructor(...R){super(...R),this.defaultColor=P,this.color=P}}}function At(ue){return class extends ue{get disableRipple(){return this._disableRipple}set disableRipple(P){this._disableRipple=(0,K.Ig)(P)}constructor(...P){super(...P),this._disableRipple=!1}}}class Ai{constructor(P,R,te,Le=!1){this._renderer=P,this.element=R,this.config=te,this._animationForciblyDisabledThroughCss=Le,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Zt=(0,ne.i$)({passive:!0,capture:!0});class Li{constructor(){this._events=new Map,this._delegateEventHandler=P=>{const R=(0,ne.sA)(P);R&&this._events.get(P.type)?.forEach((te,Le)=>{(Le===R||Le.contains(R))&&te.forEach(st=>st.handleEvent(P))})}}addHandler(P,R,te,Le){const st=this._events.get(R);if(st){const Y=st.get(te);Y?Y.add(Le):st.set(te,new Set([Le]))}else this._events.set(R,new Map([[te,new Set([Le])]])),P.runOutsideAngular(()=>{document.addEventListener(R,this._delegateEventHandler,Zt)})}removeHandler(P,R,te){const Le=this._events.get(P);if(!Le)return;const st=Le.get(R);st&&(st.delete(te),0===st.size&&Le.delete(R),0===Le.size&&(this._events.delete(P),document.removeEventListener(P,this._delegateEventHandler,Zt)))}}const qt={enterDuration:225,exitDuration:150},Ri=(0,ne.i$)({passive:!0,capture:!0}),vt=["mousedown","touchstart"],hi=["mouseup","mouseleave","touchend","touchcancel"];class si{constructor(P,R,te,Le){this._target=P,this._ngZone=R,this._platform=Le,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Le.isBrowser&&(this._containerElement=(0,K.fI)(te))}fadeInRipple(P,R,te={}){const Le=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),st={...qt,...te.animation};te.centered&&(P=Le.left+Le.width/2,R=Le.top+Le.height/2);const Y=te.radius||function Bi(ue,P,R){const te=Math.max(Math.abs(ue-R.left),Math.abs(ue-R.right)),Le=Math.max(Math.abs(P-R.top),Math.abs(P-R.bottom));return Math.sqrt(te*te+Le*Le)}(P,R,Le),x=P-Le.left,f=R-Le.top,T=st.enterDuration,B=document.createElement("div");B.classList.add("mat-ripple-element"),B.style.left=x-Y+"px",B.style.top=f-Y+"px",B.style.height=2*Y+"px",B.style.width=2*Y+"px",null!=te.color&&(B.style.backgroundColor=te.color),B.style.transitionDuration=`${T}ms`,this._containerElement.appendChild(B);const q=window.getComputedStyle(B),Ee=q.transitionDuration,je="none"===q.transitionProperty||"0s"===Ee||"0s, 0s"===Ee||0===Le.width&&0===Le.height,Ge=new Ai(this,B,te,je);B.style.transform="scale3d(1, 1, 1)",Ge.state=0,te.persistent||(this._mostRecentTransientRipple=Ge);let Oe=null;return!je&&(T||st.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ke=()=>this._finishRippleTransition(Ge),pt=()=>this._destroyRipple(Ge);B.addEventListener("transitionend",Ke),B.addEventListener("transitioncancel",pt),Oe={onTransitionEnd:Ke,onTransitionCancel:pt}}),this._activeRipples.set(Ge,Oe),(je||!T)&&this._finishRippleTransition(Ge),Ge}fadeOutRipple(P){if(2===P.state||3===P.state)return;const R=P.element,te={...qt,...P.config.animation};R.style.transitionDuration=`${te.exitDuration}ms`,R.style.opacity="0",P.state=2,(P._animationForciblyDisabledThroughCss||!te.exitDuration)&&this._finishRippleTransition(P)}fadeOutAll(){this._getActiveRipples().forEach(P=>P.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(P=>{P.config.persistent||P.fadeOut()})}setupTriggerEvents(P){const R=(0,K.fI)(P);!this._platform.isBrowser||!R||R===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=R,vt.forEach(te=>{si._eventManager.addHandler(this._ngZone,te,R,this)}))}handleEvent(P){"mousedown"===P.type?this._onMousedown(P):"touchstart"===P.type?this._onTouchStart(P):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{hi.forEach(R=>{this._triggerElement.addEventListener(R,this,Ri)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(P){0===P.state?this._startFadeOutTransition(P):2===P.state&&this._destroyRipple(P)}_startFadeOutTransition(P){const R=P===this._mostRecentTransientRipple,{persistent:te}=P.config;P.state=1,!te&&(!R||!this._isPointerDown)&&P.fadeOut()}_destroyRipple(P){const R=this._activeRipples.get(P)??null;this._activeRipples.delete(P),this._activeRipples.size||(this._containerRect=null),P===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),P.state=3,null!==R&&(P.element.removeEventListener("transitionend",R.onTransitionEnd),P.element.removeEventListener("transitioncancel",R.onTransitionCancel)),P.element.remove()}_onMousedown(P){const R=(0,I.X6)(P),te=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!R&&!te&&(this._isPointerDown=!0,this.fadeInRipple(P.clientX,P.clientY,this._target.rippleConfig))}_onTouchStart(P){if(!this._target.rippleDisabled&&!(0,I.yG)(P)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const R=P.changedTouches;for(let te=0;te<R.length;te++)this.fadeInRipple(R[te].clientX,R[te].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(P=>{!P.config.persistent&&(1===P.state||P.config.terminateOnPointerUp&&0===P.state)&&P.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const P=this._triggerElement;P&&(vt.forEach(R=>si._eventManager.removeHandler(R,P,this)),this._pointerUpEventsRegistered&&hi.forEach(R=>P.removeEventListener(R,this,Ri)))}}si._eventManager=new Li;const Bt=new r.OlP("mat-ripple-global-options");let Ei=(()=>{class ue{get disabled(){return this._disabled}set disabled(R){R&&this.fadeOutAllNonPersistent(),this._disabled=R,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(R){this._trigger=R,this._setupTriggerEventsIfEnabled()}constructor(R,te,Le,st,Y){this._elementRef=R,this._animationMode=Y,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=st||{},this._rippleRenderer=new si(this,te,R,Le)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(R,te=0,Le){return"number"==typeof R?this._rippleRenderer.fadeInRipple(R,te,{...this.rippleConfig,...Le}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...R})}}return ue.\u0275fac=function(R){return new(R||ue)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(ne.t4),r.Y36(Bt,8),r.Y36(r.QbO,8))},ue.\u0275dir=r.lG2({type:ue,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(R,te){2&R&&r.ekj("mat-ripple-unbounded",te.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),ue})(),pi=(()=>{class ue{}return ue.\u0275fac=function(R){return new(R||ue)},ue.\u0275mod=r.oAB({type:ue}),ue.\u0275inj=r.cJS({imports:[bt,bt]}),ue})()},4218:(Pt,We,z)=>{z.d(We,{Hw:()=>rt,Ps:()=>Mn});var r=z(4650),I=z(3238),oe=z(1281),De=z(6895),$=z(9646),ne=z(2843),K=z(9751),ie=z(4742),X=z(8421),fe=z(3269),pe=z(5403),ve=z(3268),Me=z(1810),Ne=z(727),tt=z(8505),it=z(4004),Wt=z(262),ti=z(8746),jt=z(3099),bt=z(5698),xe=z(4351),ae=z(9300);class ke{}class Je{constructor(S){this.normalizedNames=new Map,this.lazyUpdate=null,S?this.lazyInit="string"==typeof S?()=>{this.headers=new Map,S.split("\n").forEach(b=>{const O=b.indexOf(":");if(O>0){const j=b.slice(0,O),se=j.toLowerCase(),ye=b.slice(O+1).trim();this.maybeSetNormalizedName(j,se),this.headers.has(se)?this.headers.get(se).push(ye):this.headers.set(se,[ye])}})}:()=>{this.headers=new Map,Object.entries(S).forEach(([b,O])=>{let j;if(j="string"==typeof O?[O]:"number"==typeof O?[O.toString()]:O.map(se=>se.toString()),j.length>0){const se=b.toLowerCase();this.headers.set(se,j),this.maybeSetNormalizedName(b,se)}})}:this.headers=new Map}has(S){return this.init(),this.headers.has(S.toLowerCase())}get(S){this.init();const b=this.headers.get(S.toLowerCase());return b&&b.length>0?b[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(S){return this.init(),this.headers.get(S.toLowerCase())||null}append(S,b){return this.clone({name:S,value:b,op:"a"})}set(S,b){return this.clone({name:S,value:b,op:"s"})}delete(S,b){return this.clone({name:S,value:b,op:"d"})}maybeSetNormalizedName(S,b){this.normalizedNames.has(b)||this.normalizedNames.set(b,S)}init(){this.lazyInit&&(this.lazyInit instanceof Je?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(S=>this.applyUpdate(S)),this.lazyUpdate=null))}copyFrom(S){S.init(),Array.from(S.headers.keys()).forEach(b=>{this.headers.set(b,S.headers.get(b)),this.normalizedNames.set(b,S.normalizedNames.get(b))})}clone(S){const b=new Je;return b.lazyInit=this.lazyInit&&this.lazyInit instanceof Je?this.lazyInit:this,b.lazyUpdate=(this.lazyUpdate||[]).concat([S]),b}applyUpdate(S){const b=S.name.toLowerCase();switch(S.op){case"a":case"s":let O=S.value;if("string"==typeof O&&(O=[O]),0===O.length)return;this.maybeSetNormalizedName(S.name,b);const j=("a"===S.op?this.headers.get(b):void 0)||[];j.push(...O),this.headers.set(b,j);break;case"d":const se=S.value;if(se){let ye=this.headers.get(b);if(!ye)return;ye=ye.filter(Ue=>-1===se.indexOf(Ue)),0===ye.length?(this.headers.delete(b),this.normalizedNames.delete(b)):this.headers.set(b,ye)}else this.headers.delete(b),this.normalizedNames.delete(b)}}forEach(S){this.init(),Array.from(this.normalizedNames.keys()).forEach(b=>S(this.normalizedNames.get(b),this.headers.get(b)))}}class ii{encodeKey(S){return ni(S)}encodeValue(S){return ni(S)}decodeKey(S){return decodeURIComponent(S)}decodeValue(S){return decodeURIComponent(S)}}const Mt=/%(\d[a-f0-9])/gi,Ii={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ni(W){return encodeURIComponent(W).replace(Mt,(S,b)=>Ii[b]??S)}function nt(W){return`${W}`}class Rt{constructor(S={}){if(this.updates=null,this.cloneFrom=null,this.encoder=S.encoder||new ii,S.fromString){if(S.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function It(W,S){const b=new Map;return W.length>0&&W.replace(/^\?/,"").split("&").forEach(j=>{const se=j.indexOf("="),[ye,Ue]=-1==se?[S.decodeKey(j),""]:[S.decodeKey(j.slice(0,se)),S.decodeValue(j.slice(se+1))],Xe=b.get(ye)||[];Xe.push(Ue),b.set(ye,Xe)}),b}(S.fromString,this.encoder)}else S.fromObject?(this.map=new Map,Object.keys(S.fromObject).forEach(b=>{const O=S.fromObject[b],j=Array.isArray(O)?O.map(nt):[nt(O)];this.map.set(b,j)})):this.map=null}has(S){return this.init(),this.map.has(S)}get(S){this.init();const b=this.map.get(S);return b?b[0]:null}getAll(S){return this.init(),this.map.get(S)||null}keys(){return this.init(),Array.from(this.map.keys())}append(S,b){return this.clone({param:S,value:b,op:"a"})}appendAll(S){const b=[];return Object.keys(S).forEach(O=>{const j=S[O];Array.isArray(j)?j.forEach(se=>{b.push({param:O,value:se,op:"a"})}):b.push({param:O,value:j,op:"a"})}),this.clone(b)}set(S,b){return this.clone({param:S,value:b,op:"s"})}delete(S,b){return this.clone({param:S,value:b,op:"d"})}toString(){return this.init(),this.keys().map(S=>{const b=this.encoder.encodeKey(S);return this.map.get(S).map(O=>b+"="+this.encoder.encodeValue(O)).join("&")}).filter(S=>""!==S).join("&")}clone(S){const b=new Rt({encoder:this.encoder});return b.cloneFrom=this.cloneFrom||this,b.updates=(this.updates||[]).concat(S),b}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(S=>this.map.set(S,this.cloneFrom.map.get(S))),this.updates.forEach(S=>{switch(S.op){case"a":case"s":const b=("a"===S.op?this.map.get(S.param):void 0)||[];b.push(nt(S.value)),this.map.set(S.param,b);break;case"d":if(void 0===S.value){this.map.delete(S.param);break}{let O=this.map.get(S.param)||[];const j=O.indexOf(nt(S.value));-1!==j&&O.splice(j,1),O.length>0?this.map.set(S.param,O):this.map.delete(S.param)}}}),this.cloneFrom=this.updates=null)}}class vi{constructor(){this.map=new Map}set(S,b){return this.map.set(S,b),this}get(S){return this.map.has(S)||this.map.set(S,S.defaultValue()),this.map.get(S)}delete(S){return this.map.delete(S),this}has(S){return this.map.has(S)}keys(){return this.map.keys()}}function wi(W){return typeof ArrayBuffer<"u"&&W instanceof ArrayBuffer}function Ut(W){return typeof Blob<"u"&&W instanceof Blob}function St(W){return typeof FormData<"u"&&W instanceof FormData}class $t{constructor(S,b,O,j){let se;if(this.url=b,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=S.toUpperCase(),function xi(W){switch(W){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||j?(this.body=void 0!==O?O:null,se=j):se=O,se&&(this.reportProgress=!!se.reportProgress,this.withCredentials=!!se.withCredentials,se.responseType&&(this.responseType=se.responseType),se.headers&&(this.headers=se.headers),se.context&&(this.context=se.context),se.params&&(this.params=se.params)),this.headers||(this.headers=new Je),this.context||(this.context=new vi),this.params){const ye=this.params.toString();if(0===ye.length)this.urlWithParams=b;else{const Ue=b.indexOf("?");this.urlWithParams=b+(-1===Ue?"?":Ue<b.length-1?"&":"")+ye}}else this.params=new Rt,this.urlWithParams=b}serializeBody(){return null===this.body?null:wi(this.body)||Ut(this.body)||St(this.body)||function Pi(W){return typeof URLSearchParams<"u"&&W instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Rt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||St(this.body)?null:Ut(this.body)?this.body.type||null:wi(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Rt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(S={}){const b=S.method||this.method,O=S.url||this.url,j=S.responseType||this.responseType,se=void 0!==S.body?S.body:this.body,ye=void 0!==S.withCredentials?S.withCredentials:this.withCredentials,Ue=void 0!==S.reportProgress?S.reportProgress:this.reportProgress;let Xe=S.headers||this.headers,Et=S.params||this.params;const gi=S.context??this.context;return void 0!==S.setHeaders&&(Xe=Object.keys(S.setHeaders).reduce((Hi,yi)=>Hi.set(yi,S.setHeaders[yi]),Xe)),S.setParams&&(Et=Object.keys(S.setParams).reduce((Hi,yi)=>Hi.set(yi,S.setParams[yi]),Et)),new $t(b,O,se,{params:Et,headers:Xe,context:gi,reportProgress:Ue,responseType:j,withCredentials:ye})}}var _t=(()=>((_t=_t||{})[_t.Sent=0]="Sent",_t[_t.UploadProgress=1]="UploadProgress",_t[_t.ResponseHeader=2]="ResponseHeader",_t[_t.DownloadProgress=3]="DownloadProgress",_t[_t.Response=4]="Response",_t[_t.User=5]="User",_t))();class Si{constructor(S,b=200,O="OK"){this.headers=S.headers||new Je,this.status=void 0!==S.status?S.status:b,this.statusText=S.statusText||O,this.url=S.url||null,this.ok=this.status>=200&&this.status<300}}class ki extends Si{constructor(S={}){super(S),this.type=_t.Response,this.body=void 0!==S.body?S.body:null}clone(S={}){return new ki({body:void 0!==S.body?S.body:this.body,headers:S.headers||this.headers,status:void 0!==S.status?S.status:this.status,statusText:S.statusText||this.statusText,url:S.url||this.url||void 0})}}function Zt(W,S){return{body:S,headers:W.headers,context:W.context,observe:W.observe,params:W.params,reportProgress:W.reportProgress,responseType:W.responseType,withCredentials:W.withCredentials}}let Li=(()=>{class W{constructor(b){this.handler=b}request(b,O,j={}){let se;if(b instanceof $t)se=b;else{let Xe,Et;Xe=j.headers instanceof Je?j.headers:new Je(j.headers),j.params&&(Et=j.params instanceof Rt?j.params:new Rt({fromObject:j.params})),se=new $t(b,O,void 0!==j.body?j.body:null,{headers:Xe,context:j.context,params:Et,reportProgress:j.reportProgress,responseType:j.responseType||"json",withCredentials:j.withCredentials})}const ye=(0,$.of)(se).pipe((0,xe.b)(Xe=>this.handler.handle(Xe)));if(b instanceof $t||"events"===j.observe)return ye;const Ue=ye.pipe((0,ae.h)(Xe=>Xe instanceof ki));switch(j.observe||"body"){case"body":switch(se.responseType){case"arraybuffer":return Ue.pipe((0,it.U)(Xe=>{if(null!==Xe.body&&!(Xe.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Xe.body}));case"blob":return Ue.pipe((0,it.U)(Xe=>{if(null!==Xe.body&&!(Xe.body instanceof Blob))throw new Error("Response is not a Blob.");return Xe.body}));case"text":return Ue.pipe((0,it.U)(Xe=>{if(null!==Xe.body&&"string"!=typeof Xe.body)throw new Error("Response is not a string.");return Xe.body}));default:return Ue.pipe((0,it.U)(Xe=>Xe.body))}case"response":return Ue;default:throw new Error(`Unreachable: unhandled observe type ${j.observe}}`)}}delete(b,O={}){return this.request("DELETE",b,O)}get(b,O={}){return this.request("GET",b,O)}head(b,O={}){return this.request("HEAD",b,O)}jsonp(b,O){return this.request("JSONP",b,{params:(new Rt).append(O,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(b,O={}){return this.request("OPTIONS",b,O)}patch(b,O,j={}){return this.request("PATCH",b,Zt(j,O))}post(b,O,j={}){return this.request("POST",b,Zt(j,O))}put(b,O,j={}){return this.request("PUT",b,Zt(j,O))}}return W.\u0275fac=function(b){return new(b||W)(r.LFG(ke))},W.\u0275prov=r.Yz7({token:W,factory:W.\u0275fac}),W})();var ct=z(1481);const H=["*"];let E;function N(W){return function C(){if(void 0===E&&(E=null,typeof window<"u")){const W=window;void 0!==W.trustedTypes&&(E=W.trustedTypes.createPolicy("angular#components",{createHTML:S=>S}))}return E}()?.createHTML(W)||W}function U(W){return Error(`Unable to find icon with the name "${W}"`)}function Fe(W){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${W}".`)}function ht(W){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${W}".`)}class zt{constructor(S,b,O){this.url=S,this.svgText=b,this.options=O}}let Jt=(()=>{class W{constructor(b,O,j,se){this._httpClient=b,this._sanitizer=O,this._errorHandler=se,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=j}addSvgIcon(b,O,j){return this.addSvgIconInNamespace("",b,O,j)}addSvgIconLiteral(b,O,j){return this.addSvgIconLiteralInNamespace("",b,O,j)}addSvgIconInNamespace(b,O,j,se){return this._addSvgIconConfig(b,O,new zt(j,null,se))}addSvgIconResolver(b){return this._resolvers.push(b),this}addSvgIconLiteralInNamespace(b,O,j,se){const ye=this._sanitizer.sanitize(r.q3G.HTML,j);if(!ye)throw ht(j);const Ue=N(ye);return this._addSvgIconConfig(b,O,new zt("",Ue,se))}addSvgIconSet(b,O){return this.addSvgIconSetInNamespace("",b,O)}addSvgIconSetLiteral(b,O){return this.addSvgIconSetLiteralInNamespace("",b,O)}addSvgIconSetInNamespace(b,O,j){return this._addSvgIconSetConfig(b,new zt(O,null,j))}addSvgIconSetLiteralInNamespace(b,O,j){const se=this._sanitizer.sanitize(r.q3G.HTML,O);if(!se)throw ht(O);const ye=N(se);return this._addSvgIconSetConfig(b,new zt("",ye,j))}registerFontClassAlias(b,O=b){return this._fontCssClassesByAlias.set(b,O),this}classNameForFontAlias(b){return this._fontCssClassesByAlias.get(b)||b}setDefaultFontSetClass(...b){return this._defaultFontSetClass=b,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(b){const O=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,b);if(!O)throw Fe(b);const j=this._cachedIconsByUrl.get(O);return j?(0,$.of)(en(j)):this._loadSvgIconFromConfig(new zt(b,null)).pipe((0,tt.b)(se=>this._cachedIconsByUrl.set(O,se)),(0,it.U)(se=>en(se)))}getNamedSvgIcon(b,O=""){const j=Ln(O,b);let se=this._svgIconConfigs.get(j);if(se)return this._getSvgFromConfig(se);if(se=this._getIconConfigFromResolvers(O,b),se)return this._svgIconConfigs.set(j,se),this._getSvgFromConfig(se);const ye=this._iconSetConfigs.get(O);return ye?this._getSvgFromIconSetConfigs(b,ye):(0,ne._)(U(j))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(b){return b.svgText?(0,$.of)(en(this._svgElementFromConfig(b))):this._loadSvgIconFromConfig(b).pipe((0,it.U)(O=>en(O)))}_getSvgFromIconSetConfigs(b,O){const j=this._extractIconWithNameFromAnySet(b,O);return j?(0,$.of)(j):function Ve(...W){const S=(0,fe.jO)(W),{args:b,keys:O}=(0,ie.D)(W),j=new K.y(se=>{const{length:ye}=b;if(!ye)return void se.complete();const Ue=new Array(ye);let Xe=ye,Et=ye;for(let gi=0;gi<ye;gi++){let Hi=!1;(0,X.Xf)(b[gi]).subscribe((0,pe.x)(se,yi=>{Hi||(Hi=!0,Et--),Ue[gi]=yi},()=>Xe--,void 0,()=>{(!Xe||!Hi)&&(Et||se.next(O?(0,Me.n)(O,Ue):Ue),se.complete())}))}});return S?j.pipe((0,ve.Z)(S)):j}(O.filter(ye=>!ye.svgText).map(ye=>this._loadSvgIconSetFromConfig(ye).pipe((0,Wt.K)(Ue=>{const Et=`Loading icon set URL: ${this._sanitizer.sanitize(r.q3G.RESOURCE_URL,ye.url)} failed: ${Ue.message}`;return this._errorHandler.handleError(new Error(Et)),(0,$.of)(null)})))).pipe((0,it.U)(()=>{const ye=this._extractIconWithNameFromAnySet(b,O);if(!ye)throw U(b);return ye}))}_extractIconWithNameFromAnySet(b,O){for(let j=O.length-1;j>=0;j--){const se=O[j];if(se.svgText&&se.svgText.toString().indexOf(b)>-1){const ye=this._svgElementFromConfig(se),Ue=this._extractSvgIconFromSet(ye,b,se.options);if(Ue)return Ue}}return null}_loadSvgIconFromConfig(b){return this._fetchIcon(b).pipe((0,tt.b)(O=>b.svgText=O),(0,it.U)(()=>this._svgElementFromConfig(b)))}_loadSvgIconSetFromConfig(b){return b.svgText?(0,$.of)(null):this._fetchIcon(b).pipe((0,tt.b)(O=>b.svgText=O))}_extractSvgIconFromSet(b,O,j){const se=b.querySelector(`[id="${O}"]`);if(!se)return null;const ye=se.cloneNode(!0);if(ye.removeAttribute("id"),"svg"===ye.nodeName.toLowerCase())return this._setSvgAttributes(ye,j);if("symbol"===ye.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(ye),j);const Ue=this._svgElementFromString(N("<svg></svg>"));return Ue.appendChild(ye),this._setSvgAttributes(Ue,j)}_svgElementFromString(b){const O=this._document.createElement("DIV");O.innerHTML=b;const j=O.querySelector("svg");if(!j)throw Error("<svg> tag not found");return j}_toSvgElement(b){const O=this._svgElementFromString(N("<svg></svg>")),j=b.attributes;for(let se=0;se<j.length;se++){const{name:ye,value:Ue}=j[se];"id"!==ye&&O.setAttribute(ye,Ue)}for(let se=0;se<b.childNodes.length;se++)b.childNodes[se].nodeType===this._document.ELEMENT_NODE&&O.appendChild(b.childNodes[se].cloneNode(!0));return O}_setSvgAttributes(b,O){return b.setAttribute("fit",""),b.setAttribute("height","100%"),b.setAttribute("width","100%"),b.setAttribute("preserveAspectRatio","xMidYMid meet"),b.setAttribute("focusable","false"),O&&O.viewBox&&b.setAttribute("viewBox",O.viewBox),b}_fetchIcon(b){const{url:O,options:j}=b,se=j?.withCredentials??!1;if(!this._httpClient)throw function de(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==O)throw Error(`Cannot fetch icon from URL "${O}".`);const ye=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,O);if(!ye)throw Fe(O);const Ue=this._inProgressUrlFetches.get(ye);if(Ue)return Ue;const Xe=this._httpClient.get(ye,{responseType:"text",withCredentials:se}).pipe((0,it.U)(Et=>N(Et)),(0,ti.x)(()=>this._inProgressUrlFetches.delete(ye)),(0,jt.B)());return this._inProgressUrlFetches.set(ye,Xe),Xe}_addSvgIconConfig(b,O,j){return this._svgIconConfigs.set(Ln(b,O),j),this}_addSvgIconSetConfig(b,O){const j=this._iconSetConfigs.get(b);return j?j.push(O):this._iconSetConfigs.set(b,[O]),this}_svgElementFromConfig(b){if(!b.svgElement){const O=this._svgElementFromString(b.svgText);this._setSvgAttributes(O,b.options),b.svgElement=O}return b.svgElement}_getIconConfigFromResolvers(b,O){for(let j=0;j<this._resolvers.length;j++){const se=this._resolvers[j](O,b);if(se)return Yn(se)?new zt(se.url,null,se.options):new zt(se,null)}}}return W.\u0275fac=function(b){return new(b||W)(r.LFG(Li,8),r.LFG(ct.H7),r.LFG(De.K0,8),r.LFG(r.qLn))},W.\u0275prov=r.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();function en(W){return W.cloneNode(!0)}function Ln(W,S){return W+":"+S}function Yn(W){return!(!W.url||!W.options)}const tn=(0,I.pj)(class{constructor(W){this._elementRef=W}}),En=new r.OlP("MAT_ICON_DEFAULT_OPTIONS"),Qt=new r.OlP("mat-icon-location",{providedIn:"root",factory:function Dn(){const W=(0,r.f3M)(De.K0),S=W?W.location:null;return{getPathname:()=>S?S.pathname+S.search:""}}}),qi=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Ji=qi.map(W=>`[${W}]`).join(", "),ri=/^url\(['"]?#(.*?)['"]?\)$/;let rt=(()=>{class W extends tn{get inline(){return this._inline}set inline(b){this._inline=(0,oe.Ig)(b)}get svgIcon(){return this._svgIcon}set svgIcon(b){b!==this._svgIcon&&(b?this._updateSvgIcon(b):this._svgIcon&&this._clearSvgElement(),this._svgIcon=b)}get fontSet(){return this._fontSet}set fontSet(b){const O=this._cleanupFontValue(b);O!==this._fontSet&&(this._fontSet=O,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(b){const O=this._cleanupFontValue(b);O!==this._fontIcon&&(this._fontIcon=O,this._updateFontIconClasses())}constructor(b,O,j,se,ye,Ue){super(b),this._iconRegistry=O,this._location=se,this._errorHandler=ye,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ne.w0.EMPTY,Ue&&(Ue.color&&(this.color=this.defaultColor=Ue.color),Ue.fontSet&&(this.fontSet=Ue.fontSet)),j||b.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(b){if(!b)return["",""];const O=b.split(":");switch(O.length){case 1:return["",O[0]];case 2:return O;default:throw Error(`Invalid icon name: "${b}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const b=this._elementsWithExternalReferences;if(b&&b.size){const O=this._location.getPathname();O!==this._previousPath&&(this._previousPath=O,this._prependPathToReferences(O))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(b){this._clearSvgElement();const O=this._location.getPathname();this._previousPath=O,this._cacheChildrenWithExternalReferences(b),this._prependPathToReferences(O),this._elementRef.nativeElement.appendChild(b)}_clearSvgElement(){const b=this._elementRef.nativeElement;let O=b.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();O--;){const j=b.childNodes[O];(1!==j.nodeType||"svg"===j.nodeName.toLowerCase())&&j.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const b=this._elementRef.nativeElement,O=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(j=>j.length>0);this._previousFontSetClass.forEach(j=>b.classList.remove(j)),O.forEach(j=>b.classList.add(j)),this._previousFontSetClass=O,this.fontIcon!==this._previousFontIconClass&&!O.includes("mat-ligature-font")&&(this._previousFontIconClass&&b.classList.remove(this._previousFontIconClass),this.fontIcon&&b.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(b){return"string"==typeof b?b.trim().split(" ")[0]:b}_prependPathToReferences(b){const O=this._elementsWithExternalReferences;O&&O.forEach((j,se)=>{j.forEach(ye=>{se.setAttribute(ye.name,`url('${b}#${ye.value}')`)})})}_cacheChildrenWithExternalReferences(b){const O=b.querySelectorAll(Ji),j=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let se=0;se<O.length;se++)qi.forEach(ye=>{const Ue=O[se],Xe=Ue.getAttribute(ye),Et=Xe?Xe.match(ri):null;if(Et){let gi=j.get(Ue);gi||(gi=[],j.set(Ue,gi)),gi.push({name:ye,value:Et[1]})}})}_updateSvgIcon(b){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),b){const[O,j]=this._splitIconName(b);O&&(this._svgNamespace=O),j&&(this._svgName=j),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(j,O).pipe((0,bt.q)(1)).subscribe(se=>this._setSvgElement(se),se=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${O}:${j}! ${se.message}`))})}}}return W.\u0275fac=function(b){return new(b||W)(r.Y36(r.SBq),r.Y36(Jt),r.$8M("aria-hidden"),r.Y36(Qt),r.Y36(r.qLn),r.Y36(En,8))},W.\u0275cmp=r.Xpm({type:W,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(b,O){2&b&&(r.uIk("data-mat-icon-type",O._usingFontIcon()?"font":"svg")("data-mat-icon-name",O._svgName||O.fontIcon)("data-mat-icon-namespace",O._svgNamespace||O.fontSet)("fontIcon",O._usingFontIcon()?O.fontIcon:null),r.ekj("mat-icon-inline",O.inline)("mat-icon-no-color","primary"!==O.color&&"accent"!==O.color&&"warn"!==O.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.qOj],ngContentSelectors:H,decls:1,vars:0,template:function(b,O){1&b&&(r.F$t(),r.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),W})(),Mn=(()=>{class W{}return W.\u0275fac=function(b){return new(b||W)},W.\u0275mod=r.oAB({type:W}),W.\u0275inj=r.cJS({imports:[I.BQ,I.BQ]}),W})()},3683:(Pt,We,z)=>{z.d(We,{Ye:()=>X,g0:()=>pe});var r=z(4650),I=z(3238),oe=z(3353),De=z(6895);const $=["*",[["mat-toolbar-row"]]],ne=["*","mat-toolbar-row"],K=(0,I.pj)(class{constructor(ve){this._elementRef=ve}});let ie=(()=>{class ve{}return ve.\u0275fac=function(Ve){return new(Ve||ve)},ve.\u0275dir=r.lG2({type:ve,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),ve})(),X=(()=>{class ve extends K{constructor(Ve,Ne,tt){super(Ve),this._platform=Ne,this._document=tt}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return ve.\u0275fac=function(Ve){return new(Ve||ve)(r.Y36(r.SBq),r.Y36(oe.t4),r.Y36(De.K0))},ve.\u0275cmp=r.Xpm({type:ve,selectors:[["mat-toolbar"]],contentQueries:function(Ve,Ne,tt){if(1&Ve&&r.Suo(tt,ie,5),2&Ve){let it;r.iGM(it=r.CRH())&&(Ne._toolbarRows=it)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(Ve,Ne){2&Ve&&r.ekj("mat-toolbar-multiple-rows",Ne._toolbarRows.length>0)("mat-toolbar-single-row",0===Ne._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[r.qOj],ngContentSelectors:ne,decls:2,vars:0,template:function(Ve,Ne){1&Ve&&(r.F$t($),r.Hsn(0),r.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),ve})(),pe=(()=>{class ve{}return ve.\u0275fac=function(Ve){return new(Ve||ve)},ve.\u0275mod=r.oAB({type:ve}),ve.\u0275inj=r.cJS({imports:[I.BQ,I.BQ]}),ve})()},1511:(Pt,We,z)=>{z.d(We,{gM:()=>P,AV:()=>st});var r=z(2722),I=z(5698),oe=z(1281),De=z(9521),$=z(4650),ne=z(6895),K=z(3353),ie=z(1518),X=z(445),fe=z(1218),pe=z(9300),ve=z(4080),Me=z(7579),Ve=z(727),Ne=z(6451);const tt=(0,K.Mq)();class it{constructor(x,f){this._viewportRuler=x,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=f}attach(){}enable(){if(this._canBeEnabled()){const x=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=x.style.left||"",this._previousHTMLStyles.top=x.style.top||"",x.style.left=(0,oe.HM)(-this._previousScrollPosition.left),x.style.top=(0,oe.HM)(-this._previousScrollPosition.top),x.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const x=this._document.documentElement,T=x.style,B=this._document.body.style,q=T.scrollBehavior||"",he=B.scrollBehavior||"";this._isEnabled=!1,T.left=this._previousHTMLStyles.left,T.top=this._previousHTMLStyles.top,x.classList.remove("cdk-global-scrollblock"),tt&&(T.scrollBehavior=B.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),tt&&(T.scrollBehavior=q,B.scrollBehavior=he)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const f=this._document.body,T=this._viewportRuler.getViewportSize();return f.scrollHeight>T.height||f.scrollWidth>T.width}}class ti{constructor(x,f,T,B){this._scrollDispatcher=x,this._ngZone=f,this._viewportRuler=T,this._config=B,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(x){this._overlayRef=x}enable(){if(this._scrollSubscription)return;const x=this._scrollDispatcher.scrolled(0).pipe((0,pe.h)(f=>!f||!this._overlayRef.overlayElement.contains(f.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=x.subscribe(()=>{const f=this._viewportRuler.getViewportScrollPosition().top;Math.abs(f-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=x.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class jt{enable(){}disable(){}attach(){}}function bt(Y,x){return x.some(f=>Y.bottom<f.top||Y.top>f.bottom||Y.right<f.left||Y.left>f.right)}function xe(Y,x){return x.some(f=>Y.top<f.top||Y.bottom>f.bottom||Y.left<f.left||Y.right>f.right)}class ae{constructor(x,f,T,B){this._scrollDispatcher=x,this._viewportRuler=f,this._ngZone=T,this._config=B,this._scrollSubscription=null}attach(x){this._overlayRef=x}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const f=this._overlayRef.overlayElement.getBoundingClientRect(),{width:T,height:B}=this._viewportRuler.getViewportSize();bt(f,[{width:T,height:B,bottom:B,right:T,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ke=(()=>{class Y{constructor(f,T,B,q){this._scrollDispatcher=f,this._viewportRuler=T,this._ngZone=B,this.noop=()=>new jt,this.close=he=>new ti(this._scrollDispatcher,this._ngZone,this._viewportRuler,he),this.block=()=>new it(this._viewportRuler,this._document),this.reposition=he=>new ae(this._scrollDispatcher,this._viewportRuler,this._ngZone,he),this._document=q}}return Y.\u0275fac=function(f){return new(f||Y)($.LFG(fe.mF),$.LFG(fe.rL),$.LFG($.R0b),$.LFG(ne.K0))},Y.\u0275prov=$.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})();class $e{constructor(x){if(this.scrollStrategy=new jt,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,x){const f=Object.keys(x);for(const T of f)void 0!==x[T]&&(this[T]=x[T])}}}class ii{constructor(x,f){this.connectionPair=x,this.scrollableViewProperties=f}}let Ii=(()=>{class Y{constructor(f){this._attachedOverlays=[],this._document=f}ngOnDestroy(){this.detach()}add(f){this.remove(f),this._attachedOverlays.push(f)}remove(f){const T=this._attachedOverlays.indexOf(f);T>-1&&this._attachedOverlays.splice(T,1),0===this._attachedOverlays.length&&this.detach()}}return Y.\u0275fac=function(f){return new(f||Y)($.LFG(ne.K0))},Y.\u0275prov=$.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})(),ni=(()=>{class Y extends Ii{constructor(f,T){super(f),this._ngZone=T,this._keydownListener=B=>{const q=this._attachedOverlays;for(let he=q.length-1;he>-1;he--)if(q[he]._keydownEvents.observers.length>0){const Ee=q[he]._keydownEvents;this._ngZone?this._ngZone.run(()=>Ee.next(B)):Ee.next(B);break}}}add(f){super.add(f),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return Y.\u0275fac=function(f){return new(f||Y)($.LFG(ne.K0),$.LFG($.R0b,8))},Y.\u0275prov=$.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})(),nt=(()=>{class Y extends Ii{constructor(f,T,B){super(f),this._platform=T,this._ngZone=B,this._cursorStyleIsSet=!1,this._pointerDownListener=q=>{this._pointerDownEventTarget=(0,K.sA)(q)},this._clickListener=q=>{const he=(0,K.sA)(q),Ee="click"===q.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:he;this._pointerDownEventTarget=null;const je=this._attachedOverlays.slice();for(let Ge=je.length-1;Ge>-1;Ge--){const Oe=je[Ge];if(Oe._outsidePointerEvents.observers.length<1||!Oe.hasAttached())continue;if(Oe.overlayElement.contains(he)||Oe.overlayElement.contains(Ee))break;const Ke=Oe._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Ke.next(q)):Ke.next(q)}}}add(f){if(super.add(f),!this._isAttached){const T=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(T)):this._addEventListeners(T),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=T.style.cursor,T.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const f=this._document.body;f.removeEventListener("pointerdown",this._pointerDownListener,!0),f.removeEventListener("click",this._clickListener,!0),f.removeEventListener("auxclick",this._clickListener,!0),f.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(f.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(f){f.addEventListener("pointerdown",this._pointerDownListener,!0),f.addEventListener("click",this._clickListener,!0),f.addEventListener("auxclick",this._clickListener,!0),f.addEventListener("contextmenu",this._clickListener,!0)}}return Y.\u0275fac=function(f){return new(f||Y)($.LFG(ne.K0),$.LFG(K.t4),$.LFG($.R0b,8))},Y.\u0275prov=$.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})(),Rt=(()=>{class Y{constructor(f,T){this._platform=T,this._document=f}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const f="cdk-overlay-container";if(this._platform.isBrowser||(0,K.Oy)()){const B=this._document.querySelectorAll(`.${f}[platform="server"], .${f}[platform="test"]`);for(let q=0;q<B.length;q++)B[q].remove()}const T=this._document.createElement("div");T.classList.add(f),(0,K.Oy)()?T.setAttribute("platform","test"):this._platform.isBrowser||T.setAttribute("platform","server"),this._document.body.appendChild(T),this._containerElement=T}}return Y.\u0275fac=function(f){return new(f||Y)($.LFG(ne.K0),$.LFG(K.t4))},Y.\u0275prov=$.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})();class zi{constructor(x,f,T,B,q,he,Ee,je,Ge,Oe=!1){this._portalOutlet=x,this._host=f,this._pane=T,this._config=B,this._ngZone=q,this._keyboardDispatcher=he,this._document=Ee,this._location=je,this._outsideClickDispatcher=Ge,this._animationsDisabled=Oe,this._backdropElement=null,this._backdropClick=new Me.x,this._attachments=new Me.x,this._detachments=new Me.x,this._locationChanges=Ve.w0.EMPTY,this._backdropClickHandler=Ke=>this._backdropClick.next(Ke),this._backdropTransitionendHandler=Ke=>{this._disposeBackdrop(Ke.target)},this._keydownEvents=new Me.x,this._outsidePointerEvents=new Me.x,B.scrollStrategy&&(this._scrollStrategy=B.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=B.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(x){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const f=this._portalOutlet.attach(x);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,I.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof f?.onDestroy&&f.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),f}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const x=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),x}dispose(){const x=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,x&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(x){x!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=x,this.hasAttached()&&(x.attach(this),this.updatePosition()))}updateSize(x){this._config={...this._config,...x},this._updateElementSize()}setDirection(x){this._config={...this._config,direction:x},this._updateElementDirection()}addPanelClass(x){this._pane&&this._toggleClasses(this._pane,x,!0)}removePanelClass(x){this._pane&&this._toggleClasses(this._pane,x,!1)}getDirection(){const x=this._config.direction;return x?"string"==typeof x?x:x.value:"ltr"}updateScrollStrategy(x){x!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=x,this.hasAttached()&&(x.attach(this),x.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const x=this._pane.style;x.width=(0,oe.HM)(this._config.width),x.height=(0,oe.HM)(this._config.height),x.minWidth=(0,oe.HM)(this._config.minWidth),x.minHeight=(0,oe.HM)(this._config.minHeight),x.maxWidth=(0,oe.HM)(this._config.maxWidth),x.maxHeight=(0,oe.HM)(this._config.maxHeight)}_togglePointerEvents(x){this._pane.style.pointerEvents=x?"":"none"}_attachBackdrop(){const x="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(x)})}):this._backdropElement.classList.add(x)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const x=this._backdropElement;if(x){if(this._animationsDisabled)return void this._disposeBackdrop(x);x.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{x.addEventListener("transitionend",this._backdropTransitionendHandler)}),x.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(x)},500))}}_toggleClasses(x,f,T){const B=(0,oe.Eq)(f||[]).filter(q=>!!q);B.length&&(T?x.classList.add(...B):x.classList.remove(...B))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const x=this._ngZone.onStable.pipe((0,r.R)((0,Ne.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),x.unsubscribe())})})}_disposeScrollStrategy(){const x=this._scrollStrategy;x&&(x.disable(),x.detach&&x.detach())}_disposeBackdrop(x){x&&(x.removeEventListener("click",this._backdropClickHandler),x.removeEventListener("transitionend",this._backdropTransitionendHandler),x.remove(),this._backdropElement===x&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const vi="cdk-overlay-connected-position-bounding-box",xi=/([A-Za-z%]+)$/;class wi{get positions(){return this._preferredPositions}constructor(x,f,T,B,q){this._viewportRuler=f,this._document=T,this._platform=B,this._overlayContainer=q,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Me.x,this._resizeSubscription=Ve.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(x)}attach(x){this._validatePositions(),x.hostElement.classList.add(vi),this._overlayRef=x,this._boundingBox=x.hostElement,this._pane=x.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const x=this._originRect,f=this._overlayRect,T=this._viewportRect,B=this._containerRect,q=[];let he;for(let Ee of this._preferredPositions){let je=this._getOriginPoint(x,B,Ee),Ge=this._getOverlayPoint(je,f,Ee),Oe=this._getOverlayFit(Ge,f,T,Ee);if(Oe.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Ee,je);this._canFitWithFlexibleDimensions(Oe,Ge,T)?q.push({position:Ee,origin:je,overlayRect:f,boundingBoxRect:this._calculateBoundingBoxRect(je,Ee)}):(!he||he.overlayFit.visibleArea<Oe.visibleArea)&&(he={overlayFit:Oe,overlayPoint:Ge,originPoint:je,position:Ee,overlayRect:f})}if(q.length){let Ee=null,je=-1;for(const Ge of q){const Oe=Ge.boundingBoxRect.width*Ge.boundingBoxRect.height*(Ge.position.weight||1);Oe>je&&(je=Oe,Ee=Ge)}return this._isPushed=!1,void this._applyPosition(Ee.position,Ee.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(he.position,he.originPoint);this._applyPosition(he.position,he.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ut(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(vi),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const x=this._lastPosition;if(x){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const f=this._getOriginPoint(this._originRect,this._containerRect,x);this._applyPosition(x,f)}else this.apply()}withScrollableContainers(x){return this._scrollables=x,this}withPositions(x){return this._preferredPositions=x,-1===x.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(x){return this._viewportMargin=x,this}withFlexibleDimensions(x=!0){return this._hasFlexibleDimensions=x,this}withGrowAfterOpen(x=!0){return this._growAfterOpen=x,this}withPush(x=!0){return this._canPush=x,this}withLockedPosition(x=!0){return this._positionLocked=x,this}setOrigin(x){return this._origin=x,this}withDefaultOffsetX(x){return this._offsetX=x,this}withDefaultOffsetY(x){return this._offsetY=x,this}withTransformOriginOn(x){return this._transformOriginSelector=x,this}_getOriginPoint(x,f,T){let B,q;if("center"==T.originX)B=x.left+x.width/2;else{const he=this._isRtl()?x.right:x.left,Ee=this._isRtl()?x.left:x.right;B="start"==T.originX?he:Ee}return f.left<0&&(B-=f.left),q="center"==T.originY?x.top+x.height/2:"top"==T.originY?x.top:x.bottom,f.top<0&&(q-=f.top),{x:B,y:q}}_getOverlayPoint(x,f,T){let B,q;return B="center"==T.overlayX?-f.width/2:"start"===T.overlayX?this._isRtl()?-f.width:0:this._isRtl()?0:-f.width,q="center"==T.overlayY?-f.height/2:"top"==T.overlayY?0:-f.height,{x:x.x+B,y:x.y+q}}_getOverlayFit(x,f,T,B){const q=Pi(f);let{x:he,y:Ee}=x,je=this._getOffset(B,"x"),Ge=this._getOffset(B,"y");je&&(he+=je),Ge&&(Ee+=Ge);let pt=0-Ee,ct=Ee+q.height-T.height,H=this._subtractOverflows(q.width,0-he,he+q.width-T.width),E=this._subtractOverflows(q.height,pt,ct),C=H*E;return{visibleArea:C,isCompletelyWithinViewport:q.width*q.height===C,fitsInViewportVertically:E===q.height,fitsInViewportHorizontally:H==q.width}}_canFitWithFlexibleDimensions(x,f,T){if(this._hasFlexibleDimensions){const B=T.bottom-f.y,q=T.right-f.x,he=St(this._overlayRef.getConfig().minHeight),Ee=St(this._overlayRef.getConfig().minWidth);return(x.fitsInViewportVertically||null!=he&&he<=B)&&(x.fitsInViewportHorizontally||null!=Ee&&Ee<=q)}return!1}_pushOverlayOnScreen(x,f,T){if(this._previousPushAmount&&this._positionLocked)return{x:x.x+this._previousPushAmount.x,y:x.y+this._previousPushAmount.y};const B=Pi(f),q=this._viewportRect,he=Math.max(x.x+B.width-q.width,0),Ee=Math.max(x.y+B.height-q.height,0),je=Math.max(q.top-T.top-x.y,0),Ge=Math.max(q.left-T.left-x.x,0);let Oe=0,Ke=0;return Oe=B.width<=q.width?Ge||-he:x.x<this._viewportMargin?q.left-T.left-x.x:0,Ke=B.height<=q.height?je||-Ee:x.y<this._viewportMargin?q.top-T.top-x.y:0,this._previousPushAmount={x:Oe,y:Ke},{x:x.x+Oe,y:x.y+Ke}}_applyPosition(x,f){if(this._setTransformOrigin(x),this._setOverlayElementStyles(f,x),this._setBoundingBoxStyles(f,x),x.panelClass&&this._addPanelClasses(x.panelClass),this._lastPosition=x,this._positionChanges.observers.length){const T=this._getScrollVisibility(),B=new ii(x,T);this._positionChanges.next(B)}this._isInitialRender=!1}_setTransformOrigin(x){if(!this._transformOriginSelector)return;const f=this._boundingBox.querySelectorAll(this._transformOriginSelector);let T,B=x.overlayY;T="center"===x.overlayX?"center":this._isRtl()?"start"===x.overlayX?"right":"left":"start"===x.overlayX?"left":"right";for(let q=0;q<f.length;q++)f[q].style.transformOrigin=`${T} ${B}`}_calculateBoundingBoxRect(x,f){const T=this._viewportRect,B=this._isRtl();let q,he,Ee,Oe,Ke,pt;if("top"===f.overlayY)he=x.y,q=T.height-he+this._viewportMargin;else if("bottom"===f.overlayY)Ee=T.height-x.y+2*this._viewportMargin,q=T.height-Ee+this._viewportMargin;else{const ct=Math.min(T.bottom-x.y+T.top,x.y),H=this._lastBoundingBoxSize.height;q=2*ct,he=x.y-ct,q>H&&!this._isInitialRender&&!this._growAfterOpen&&(he=x.y-H/2)}if("end"===f.overlayX&&!B||"start"===f.overlayX&&B)pt=T.width-x.x+this._viewportMargin,Oe=x.x-this._viewportMargin;else if("start"===f.overlayX&&!B||"end"===f.overlayX&&B)Ke=x.x,Oe=T.right-x.x;else{const ct=Math.min(T.right-x.x+T.left,x.x),H=this._lastBoundingBoxSize.width;Oe=2*ct,Ke=x.x-ct,Oe>H&&!this._isInitialRender&&!this._growAfterOpen&&(Ke=x.x-H/2)}return{top:he,left:Ke,bottom:Ee,right:pt,width:Oe,height:q}}_setBoundingBoxStyles(x,f){const T=this._calculateBoundingBoxRect(x,f);!this._isInitialRender&&!this._growAfterOpen&&(T.height=Math.min(T.height,this._lastBoundingBoxSize.height),T.width=Math.min(T.width,this._lastBoundingBoxSize.width));const B={};if(this._hasExactPosition())B.top=B.left="0",B.bottom=B.right=B.maxHeight=B.maxWidth="",B.width=B.height="100%";else{const q=this._overlayRef.getConfig().maxHeight,he=this._overlayRef.getConfig().maxWidth;B.height=(0,oe.HM)(T.height),B.top=(0,oe.HM)(T.top),B.bottom=(0,oe.HM)(T.bottom),B.width=(0,oe.HM)(T.width),B.left=(0,oe.HM)(T.left),B.right=(0,oe.HM)(T.right),B.alignItems="center"===f.overlayX?"center":"end"===f.overlayX?"flex-end":"flex-start",B.justifyContent="center"===f.overlayY?"center":"bottom"===f.overlayY?"flex-end":"flex-start",q&&(B.maxHeight=(0,oe.HM)(q)),he&&(B.maxWidth=(0,oe.HM)(he))}this._lastBoundingBoxSize=T,Ut(this._boundingBox.style,B)}_resetBoundingBoxStyles(){Ut(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ut(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(x,f){const T={},B=this._hasExactPosition(),q=this._hasFlexibleDimensions,he=this._overlayRef.getConfig();if(B){const Oe=this._viewportRuler.getViewportScrollPosition();Ut(T,this._getExactOverlayY(f,x,Oe)),Ut(T,this._getExactOverlayX(f,x,Oe))}else T.position="static";let Ee="",je=this._getOffset(f,"x"),Ge=this._getOffset(f,"y");je&&(Ee+=`translateX(${je}px) `),Ge&&(Ee+=`translateY(${Ge}px)`),T.transform=Ee.trim(),he.maxHeight&&(B?T.maxHeight=(0,oe.HM)(he.maxHeight):q&&(T.maxHeight="")),he.maxWidth&&(B?T.maxWidth=(0,oe.HM)(he.maxWidth):q&&(T.maxWidth="")),Ut(this._pane.style,T)}_getExactOverlayY(x,f,T){let B={top:"",bottom:""},q=this._getOverlayPoint(f,this._overlayRect,x);return this._isPushed&&(q=this._pushOverlayOnScreen(q,this._overlayRect,T)),"bottom"===x.overlayY?B.bottom=this._document.documentElement.clientHeight-(q.y+this._overlayRect.height)+"px":B.top=(0,oe.HM)(q.y),B}_getExactOverlayX(x,f,T){let he,B={left:"",right:""},q=this._getOverlayPoint(f,this._overlayRect,x);return this._isPushed&&(q=this._pushOverlayOnScreen(q,this._overlayRect,T)),he=this._isRtl()?"end"===x.overlayX?"left":"right":"end"===x.overlayX?"right":"left","right"===he?B.right=this._document.documentElement.clientWidth-(q.x+this._overlayRect.width)+"px":B.left=(0,oe.HM)(q.x),B}_getScrollVisibility(){const x=this._getOriginRect(),f=this._pane.getBoundingClientRect(),T=this._scrollables.map(B=>B.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:xe(x,T),isOriginOutsideView:bt(x,T),isOverlayClipped:xe(f,T),isOverlayOutsideView:bt(f,T)}}_subtractOverflows(x,...f){return f.reduce((T,B)=>T-Math.max(B,0),x)}_getNarrowedViewportRect(){const x=this._document.documentElement.clientWidth,f=this._document.documentElement.clientHeight,T=this._viewportRuler.getViewportScrollPosition();return{top:T.top+this._viewportMargin,left:T.left+this._viewportMargin,right:T.left+x-this._viewportMargin,bottom:T.top+f-this._viewportMargin,width:x-2*this._viewportMargin,height:f-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(x,f){return"x"===f?null==x.offsetX?this._offsetX:x.offsetX:null==x.offsetY?this._offsetY:x.offsetY}_validatePositions(){}_addPanelClasses(x){this._pane&&(0,oe.Eq)(x).forEach(f=>{""!==f&&-1===this._appliedPanelClasses.indexOf(f)&&(this._appliedPanelClasses.push(f),this._pane.classList.add(f))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(x=>{this._pane.classList.remove(x)}),this._appliedPanelClasses=[])}_getOriginRect(){const x=this._origin;if(x instanceof $.SBq)return x.nativeElement.getBoundingClientRect();if(x instanceof Element)return x.getBoundingClientRect();const f=x.width||0,T=x.height||0;return{top:x.y,bottom:x.y+T,left:x.x,right:x.x+f,height:T,width:f}}}function Ut(Y,x){for(let f in x)x.hasOwnProperty(f)&&(Y[f]=x[f]);return Y}function St(Y){if("number"!=typeof Y&&null!=Y){const[x,f]=Y.split(xi);return f&&"px"!==f?null:parseFloat(x)}return Y||null}function Pi(Y){return{top:Math.floor(Y.top),right:Math.floor(Y.right),bottom:Math.floor(Y.bottom),left:Math.floor(Y.left),width:Math.floor(Y.width),height:Math.floor(Y.height)}}const Si="cdk-global-overlay-wrapper";class ci{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(x){const f=x.getConfig();this._overlayRef=x,this._width&&!f.width&&x.updateSize({width:this._width}),this._height&&!f.height&&x.updateSize({height:this._height}),x.hostElement.classList.add(Si),this._isDisposed=!1}top(x=""){return this._bottomOffset="",this._topOffset=x,this._alignItems="flex-start",this}left(x=""){return this._xOffset=x,this._xPosition="left",this}bottom(x=""){return this._topOffset="",this._bottomOffset=x,this._alignItems="flex-end",this}right(x=""){return this._xOffset=x,this._xPosition="right",this}start(x=""){return this._xOffset=x,this._xPosition="start",this}end(x=""){return this._xOffset=x,this._xPosition="end",this}width(x=""){return this._overlayRef?this._overlayRef.updateSize({width:x}):this._width=x,this}height(x=""){return this._overlayRef?this._overlayRef.updateSize({height:x}):this._height=x,this}centerHorizontally(x=""){return this.left(x),this._xPosition="center",this}centerVertically(x=""){return this.top(x),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const x=this._overlayRef.overlayElement.style,f=this._overlayRef.hostElement.style,T=this._overlayRef.getConfig(),{width:B,height:q,maxWidth:he,maxHeight:Ee}=T,je=!("100%"!==B&&"100vw"!==B||he&&"100%"!==he&&"100vw"!==he),Ge=!("100%"!==q&&"100vh"!==q||Ee&&"100%"!==Ee&&"100vh"!==Ee),Oe=this._xPosition,Ke=this._xOffset,pt="rtl"===this._overlayRef.getConfig().direction;let ct="",H="",E="";je?E="flex-start":"center"===Oe?(E="center",pt?H=Ke:ct=Ke):pt?"left"===Oe||"end"===Oe?(E="flex-end",ct=Ke):("right"===Oe||"start"===Oe)&&(E="flex-start",H=Ke):"left"===Oe||"start"===Oe?(E="flex-start",ct=Ke):("right"===Oe||"end"===Oe)&&(E="flex-end",H=Ke),x.position=this._cssPosition,x.marginLeft=je?"0":ct,x.marginTop=Ge?"0":this._topOffset,x.marginBottom=this._bottomOffset,x.marginRight=je?"0":H,f.justifyContent=E,f.alignItems=Ge?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const x=this._overlayRef.overlayElement.style,f=this._overlayRef.hostElement,T=f.style;f.classList.remove(Si),T.justifyContent=T.alignItems=x.marginTop=x.marginBottom=x.marginLeft=x.marginRight=x.position="",this._overlayRef=null,this._isDisposed=!0}}let ki=(()=>{class Y{constructor(f,T,B,q){this._viewportRuler=f,this._document=T,this._platform=B,this._overlayContainer=q}global(){return new ci}flexibleConnectedTo(f){return new wi(f,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return Y.\u0275fac=function(f){return new(f||Y)($.LFG(fe.rL),$.LFG(ne.K0),$.LFG(K.t4),$.LFG(Rt))},Y.\u0275prov=$.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})(),Ai=0,Zt=(()=>{class Y{constructor(f,T,B,q,he,Ee,je,Ge,Oe,Ke,pt,ct){this.scrollStrategies=f,this._overlayContainer=T,this._componentFactoryResolver=B,this._positionBuilder=q,this._keyboardDispatcher=he,this._injector=Ee,this._ngZone=je,this._document=Ge,this._directionality=Oe,this._location=Ke,this._outsideClickDispatcher=pt,this._animationsModuleType=ct}create(f){const T=this._createHostElement(),B=this._createPaneElement(T),q=this._createPortalOutlet(B),he=new $e(f);return he.direction=he.direction||this._directionality.value,new zi(q,T,B,he,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(f){const T=this._document.createElement("div");return T.id="cdk-overlay-"+Ai++,T.classList.add("cdk-overlay-pane"),f.appendChild(T),T}_createHostElement(){const f=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(f),f}_createPortalOutlet(f){return this._appRef||(this._appRef=this._injector.get($.z2F)),new ve.u0(f,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return Y.\u0275fac=function(f){return new(f||Y)($.LFG(ke),$.LFG(Rt),$.LFG($._Vd),$.LFG(ki),$.LFG(ni),$.LFG($.zs3),$.LFG($.R0b),$.LFG(ne.K0),$.LFG(X.Is),$.LFG(ne.Ye),$.LFG(nt),$.LFG($.QbO,8))},Y.\u0275prov=$.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})();const hi={provide:new $.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Zt],useFactory:function vt(Y){return()=>Y.scrollStrategies.reposition()}};let si=(()=>{class Y{}return Y.\u0275fac=function(f){return new(f||Y)},Y.\u0275mod=$.oAB({type:Y}),Y.\u0275inj=$.cJS({providers:[Zt,hi],imports:[X.vT,ve.eL,fe.Cl,fe.Cl]}),Y})();z(7340);var Ei=z(3238);const pi=["tooltip"],Ki=new $.OlP("mat-tooltip-scroll-strategy"),Ni={provide:Ki,deps:[Zt],useFactory:function Vt(Y){return()=>Y.scrollStrategies.reposition({scrollThrottle:20})}},Q=new $.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function le(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),G="tooltip-panel",ce=(0,K.i$)({passive:!0});let ue=(()=>{class Y{get position(){return this._position}set position(f){f!==this._position&&(this._position=f,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(f){this._positionAtOrigin=(0,oe.Ig)(f),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(f){this._disabled=(0,oe.Ig)(f),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(f){this._showDelay=(0,oe.su)(f)}get hideDelay(){return this._hideDelay}set hideDelay(f){this._hideDelay=(0,oe.su)(f),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(f){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=f?String(f).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(f){this._tooltipClass=f,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(f,T,B,q,he,Ee,je,Ge,Oe,Ke,pt,ct){this._overlay=f,this._elementRef=T,this._scrollDispatcher=B,this._viewContainerRef=q,this._ngZone=he,this._platform=Ee,this._ariaDescriber=je,this._focusMonitor=Ge,this._dir=Ke,this._defaultOptions=pt,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Me.x,this._scrollStrategy=Oe,this._document=ct,pt&&(pt.position&&(this.position=pt.position),pt.positionAtOrigin&&(this.positionAtOrigin=pt.positionAtOrigin),pt.touchGestures&&(this.touchGestures=pt.touchGestures)),Ke.change.pipe((0,r.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,r.R)(this._destroyed)).subscribe(f=>{f?"keyboard"===f&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const f=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([T,B])=>{f.removeEventListener(T,B,ce)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(f,this.message,"tooltip"),this._focusMonitor.stopMonitoring(f)}show(f=this.showDelay,T){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const B=this._createOverlay(T);this._detach(),this._portal=this._portal||new ve.C5(this._tooltipComponent,this._viewContainerRef);const q=this._tooltipInstance=B.attach(this._portal).instance;q._triggerElement=this._elementRef.nativeElement,q._mouseLeaveHideDelay=this._hideDelay,q.afterHidden().pipe((0,r.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),q.show(f)}hide(f=this.hideDelay){const T=this._tooltipInstance;T&&(T.isVisible()?T.hide(f):(T._cancelPendingAnimations(),this._detach()))}toggle(f){this._isTooltipVisible()?this.hide():this.show(void 0,f)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(f){if(this._overlayRef){const q=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!f)&&q._origin instanceof $.SBq)return this._overlayRef;this._detach()}const T=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),B=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&f||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(T);return B.positionChanges.pipe((0,r.R)(this._destroyed)).subscribe(q=>{this._updateCurrentPositionClass(q.connectionPair),this._tooltipInstance&&q.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:B,panelClass:`${this._cssClassPrefix}-${G}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,r.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,r.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,r.R)(this._destroyed)).subscribe(q=>{this._isTooltipVisible()&&q.keyCode===De.hY&&!(0,De.Vb)(q)&&(q.preventDefault(),q.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(f){const T=f.getConfig().positionStrategy,B=this._getOrigin(),q=this._getOverlayPosition();T.withPositions([this._addOffset({...B.main,...q.main}),this._addOffset({...B.fallback,...q.fallback})])}_addOffset(f){return f}_getOrigin(){const f=!this._dir||"ltr"==this._dir.value,T=this.position;let B;"above"==T||"below"==T?B={originX:"center",originY:"above"==T?"top":"bottom"}:"before"==T||"left"==T&&f||"right"==T&&!f?B={originX:"start",originY:"center"}:("after"==T||"right"==T&&f||"left"==T&&!f)&&(B={originX:"end",originY:"center"});const{x:q,y:he}=this._invertPosition(B.originX,B.originY);return{main:B,fallback:{originX:q,originY:he}}}_getOverlayPosition(){const f=!this._dir||"ltr"==this._dir.value,T=this.position;let B;"above"==T?B={overlayX:"center",overlayY:"bottom"}:"below"==T?B={overlayX:"center",overlayY:"top"}:"before"==T||"left"==T&&f||"right"==T&&!f?B={overlayX:"end",overlayY:"center"}:("after"==T||"right"==T&&f||"left"==T&&!f)&&(B={overlayX:"start",overlayY:"center"});const{x:q,y:he}=this._invertPosition(B.overlayX,B.overlayY);return{main:B,fallback:{overlayX:q,overlayY:he}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,I.q)(1),(0,r.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(f){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=f,this._tooltipInstance._markForCheck())}_invertPosition(f,T){return"above"===this.position||"below"===this.position?"top"===T?T="bottom":"bottom"===T&&(T="top"):"end"===f?f="start":"start"===f&&(f="end"),{x:f,y:T}}_updateCurrentPositionClass(f){const{overlayY:T,originX:B,originY:q}=f;let he;if(he="center"===T?this._dir&&"rtl"===this._dir.value?"end"===B?"left":"right":"start"===B?"left":"right":"bottom"===T&&"top"===q?"above":"below",he!==this._currentPosition){const Ee=this._overlayRef;if(Ee){const je=`${this._cssClassPrefix}-${G}-`;Ee.removePanelClass(je+this._currentPosition),Ee.addPanelClass(je+he)}this._currentPosition=he}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",f=>{let T;this._setupPointerExitEventsIfNeeded(),void 0!==f.x&&void 0!==f.y&&(T=f),this.show(void 0,T)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",f=>{const T=f.targetTouches?.[0],B=T?{x:T.clientX,y:T.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,B),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const f=[];if(this._platformSupportsMouseEvents())f.push(["mouseleave",T=>{const B=T.relatedTarget;(!B||!this._overlayRef?.overlayElement.contains(B))&&this.hide()}],["wheel",T=>this._wheelListener(T)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const T=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};f.push(["touchend",T],["touchcancel",T])}this._addListeners(f),this._passiveListeners.push(...f)}_addListeners(f){f.forEach(([T,B])=>{this._elementRef.nativeElement.addEventListener(T,B,ce)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(f){if(this._isTooltipVisible()){const T=this._document.elementFromPoint(f.clientX,f.clientY),B=this._elementRef.nativeElement;T!==B&&!B.contains(T)&&this.hide()}}_disableNativeGesturesIfNecessary(){const f=this.touchGestures;if("off"!==f){const T=this._elementRef.nativeElement,B=T.style;("on"===f||"INPUT"!==T.nodeName&&"TEXTAREA"!==T.nodeName)&&(B.userSelect=B.msUserSelect=B.webkitUserSelect=B.MozUserSelect="none"),("on"===f||!T.draggable)&&(B.webkitUserDrag="none"),B.touchAction="none",B.webkitTapHighlightColor="transparent"}}}return Y.\u0275fac=function(f){$.$Z()},Y.\u0275dir=$.lG2({type:Y,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),Y})(),P=(()=>{class Y extends ue{constructor(f,T,B,q,he,Ee,je,Ge,Oe,Ke,pt,ct){super(f,T,B,q,he,Ee,je,Ge,Oe,Ke,pt,ct),this._tooltipComponent=te,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(f){const B=!this._dir||"ltr"==this._dir.value;return"top"===f.originY?f.offsetY=-8:"bottom"===f.originY?f.offsetY=8:"start"===f.originX?f.offsetX=B?-8:8:"end"===f.originX&&(f.offsetX=B?8:-8),f}}return Y.\u0275fac=function(f){return new(f||Y)($.Y36(Zt),$.Y36($.SBq),$.Y36(fe.mF),$.Y36($.s_b),$.Y36($.R0b),$.Y36(K.t4),$.Y36(ie.$s),$.Y36(ie.tE),$.Y36(Ki),$.Y36(X.Is,8),$.Y36(Q,8),$.Y36(ne.K0))},Y.\u0275dir=$.lG2({type:Y,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],exportAs:["matTooltip"],features:[$.qOj]}),Y})(),R=(()=>{class Y{constructor(f,T){this._changeDetectorRef=f,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Me.x,this._animationsDisabled="NoopAnimations"===T}show(f){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},f)}hide(f){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},f)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:f}){(!f||!this._triggerElement.contains(f))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:f}){(f===this._showAnimation||f===this._hideAnimation)&&this._finalizeAnimation(f===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(f){f?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(f){const T=this._tooltip.nativeElement,B=this._showAnimation,q=this._hideAnimation;if(T.classList.remove(f?q:B),T.classList.add(f?B:q),this._isVisible=f,f&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const he=getComputedStyle(T);("0s"===he.getPropertyValue("animation-duration")||"none"===he.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}f&&this._onShow(),this._animationsDisabled&&(T.classList.add("_mat-animation-noopable"),this._finalizeAnimation(f))}}return Y.\u0275fac=function(f){return new(f||Y)($.Y36($.sBO),$.Y36($.QbO,8))},Y.\u0275dir=$.lG2({type:Y}),Y})(),te=(()=>{class Y extends R{constructor(f,T,B){super(f,B),this._elementRef=T,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const f=this._elementRef.nativeElement.getBoundingClientRect();return f.height>24&&f.width>=200}}return Y.\u0275fac=function(f){return new(f||Y)($.Y36($.sBO),$.Y36($.SBq),$.Y36($.QbO,8))},Y.\u0275cmp=$.Xpm({type:Y,selectors:[["mat-tooltip-component"]],viewQuery:function(f,T){if(1&f&&$.Gf(pi,7),2&f){let B;$.iGM(B=$.CRH())&&(T._tooltip=B.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(f,T){1&f&&$.NdJ("mouseleave",function(q){return T._handleMouseLeave(q)}),2&f&&$.Udp("zoom",T.isVisible()?1:null)},features:[$.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(f,T){1&f&&($.TgZ(0,"div",0,1),$.NdJ("animationend",function(q){return T._handleAnimationEnd(q)}),$.TgZ(2,"div",2),$._uU(3),$.qZA()()),2&f&&($.ekj("mdc-tooltip--multiline",T._isMultiline),$.Q6J("ngClass",T.tooltipClass),$.xp6(3),$.Oqu(T.message))},dependencies:[ne.mk],styles:['.mdc-tooltip__surface{word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color, #fff)}.mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color, #000)}.mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font, inherit);font-size:var(--mdc-plain-tooltip-supporting-text-size, inherit);font-weight:var(--mdc-plain-tooltip-supporting-text-weight, inherit);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, inherit)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),Y})(),st=(()=>{class Y{}return Y.\u0275fac=function(f){return new(f||Y)},Y.\u0275mod=$.oAB({type:Y}),Y.\u0275inj=$.cJS({providers:[Ni],imports:[ie.rt,ne.ez,si,Ei.BQ,Ei.BQ,fe.ZD]}),Y})()},6950:(Pt,We,z)=>{z.d(We,{Dw:()=>Yp,a4:()=>eg});var r=z(4650),I=z(6895),oe=z(7582),De=z(4080),$=z(4968),ne=z(8372),K=z(7340);function ie(){}function X(t){return null==t?ie:function(){return this.querySelector(t)}}function ve(){return[]}function Me(t){return null==t?ve:function(){return this.querySelectorAll(t)}}function tt(t){return function(){return this.matches(t)}}function it(t){return function(n){return n.matches(t)}}var Wt=Array.prototype.find;function jt(){return this.firstElementChild}var xe=Array.prototype.filter;function ae(){return Array.from(this.children)}function At(t){return new Array(t.length)}function It(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function Ii(t,n,e,i,s,a){for(var d,c=0,v=n.length,_=a.length;c<_;++c)(d=n[c])?(d.__data__=a[c],i[c]=d):e[c]=new It(t,a[c]);for(;c<v;++c)(d=n[c])&&(s[c]=d)}function ni(t,n,e,i,s,a,c){var d,v,ee,_=new Map,D=n.length,k=a.length,V=new Array(D);for(d=0;d<D;++d)(v=n[d])&&(V[d]=ee=c.call(v,v.__data__,d,n)+"",_.has(ee)?s[d]=v:_.set(ee,v));for(d=0;d<k;++d)ee=c.call(t,a[d],d,a)+"",(v=_.get(ee))?(i[d]=v,v.__data__=a[d],_.delete(ee)):e[d]=new It(t,a[d]);for(d=0;d<D;++d)(v=n[d])&&_.get(V[d])===v&&(s[d]=v)}function nt(t){return t.__data__}function zi(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Pi(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}It.prototype={constructor:It,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Zt="http://www.w3.org/1999/xhtml";const Li={svg:"http://www.w3.org/2000/svg",xhtml:Zt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function qt(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Li.hasOwnProperty(n)?{space:Li[n],local:t}:t}function Gi(t){return function(){this.removeAttribute(t)}}function Ri(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vt(t,n){return function(){this.setAttribute(t,n)}}function hi(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function si(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function Bi(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Ei(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function pi(t){return function(){this.style.removeProperty(t)}}function Vi(t,n,e){return function(){this.style.setProperty(t,n,e)}}function un(t,n,e){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}function Vt(t,n){return t.style.getPropertyValue(n)||Ei(t).getComputedStyle(t,null).getPropertyValue(n)}function Ni(t){return function(){delete this[t]}}function le(t,n){return function(){this[t]=n}}function Q(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function G(t){return t.trim().split(/^|\s+/)}function ce(t){return t.classList||new ge(t)}function ge(t){this._node=t,this._names=G(t.getAttribute("class")||"")}function qe(t,n){for(var e=ce(t),i=-1,s=n.length;++i<s;)e.add(n[i])}function Lt(t,n){for(var e=ce(t),i=-1,s=n.length;++i<s;)e.remove(n[i])}function ut(t){return function(){qe(this,t)}}function mt(t){return function(){Lt(this,t)}}function ue(t,n){return function(){(n.apply(this,arguments)?qe:Lt)(this,t)}}function R(){this.textContent=""}function te(t){return function(){this.textContent=t}}function Le(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function Y(){this.innerHTML=""}function x(t){return function(){this.innerHTML=t}}function f(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function B(){this.nextSibling&&this.parentNode.appendChild(this)}function he(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function je(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Zt&&n.documentElement.namespaceURI===Zt?n.createElement(t):n.createElementNS(e,t)}}function Ge(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Oe(t){var n=qt(t);return(n.local?Ge:je)(n)}function pt(){return null}function H(){var t=this.parentNode;t&&t.removeChild(this)}function C(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function N(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function zt(t){return function(){var n=this.__on;if(n){for(var a,e=0,i=-1,s=n.length;e<s;++e)a=n[e],t.type&&a.type!==t.type||a.name!==t.name?n[++i]=a:this.removeEventListener(a.type,a.listener,a.options);++i?n.length=i:delete this.__on}}}function Jt(t,n,e){return function(){var s,i=this.__on,a=function Fe(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var c=0,d=i.length;c<d;++c)if((s=i[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=e),void(s.value=n);this.addEventListener(t.type,a,e),s={type:t.type,name:t.name,value:n,listener:a,options:e},i?i.push(s):this.__on=[s]}}function Gn(t,n,e){var i=Ei(t),s=i.CustomEvent;"function"==typeof s?s=new s(n,e):(s=i.document.createEvent("Event"),e?(s.initEvent(n,e.bubbles,e.cancelable),s.detail=e.detail):s.initEvent(n,!1,!1)),t.dispatchEvent(s)}function en(t,n){return function(){return Gn(this,t,n)}}function Ln(t,n){return function(){return Gn(this,t,n.apply(this,arguments))}}ge.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var En=[null];function Qt(t,n){this._groups=t,this._parents=n}function Dn(){return new Qt([[document.documentElement]],En)}Qt.prototype=Dn.prototype={constructor:Qt,select:function fe(t){"function"!=typeof t&&(t=X(t));for(var n=this._groups,e=n.length,i=new Array(e),s=0;s<e;++s)for(var v,_,a=n[s],c=a.length,d=i[s]=new Array(c),D=0;D<c;++D)(v=a[D])&&(_=t.call(v,v.__data__,D,a))&&("__data__"in v&&(_.__data__=v.__data__),d[D]=_);return new Qt(i,this._parents)},selectAll:function Ne(t){t="function"==typeof t?function Ve(t){return function(){return function pe(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}(t.apply(this,arguments))}}(t):Me(t);for(var n=this._groups,e=n.length,i=[],s=[],a=0;a<e;++a)for(var v,c=n[a],d=c.length,_=0;_<d;++_)(v=c[_])&&(i.push(t.call(v,v.__data__,_,c)),s.push(v));return new Qt(i,s)},selectChild:function bt(t){return this.select(null==t?jt:function ti(t){return function(){return Wt.call(this.children,t)}}("function"==typeof t?t:it(t)))},selectChildren:function $e(t){return this.selectAll(null==t?ae:function ke(t){return function(){return xe.call(this.children,t)}}("function"==typeof t?t:it(t)))},filter:function Je(t){"function"!=typeof t&&(t=tt(t));for(var n=this._groups,e=n.length,i=new Array(e),s=0;s<e;++s)for(var v,a=n[s],c=a.length,d=i[s]=[],_=0;_<c;++_)(v=a[_])&&t.call(v,v.__data__,_,a)&&d.push(v);return new Qt(i,this._parents)},data:function Rt(t,n){if(!arguments.length)return Array.from(this,nt);var e=n?ni:Ii,i=this._parents,s=this._groups;"function"!=typeof t&&(t=function Mt(t){return function(){return t}}(t));for(var a=s.length,c=new Array(a),d=new Array(a),v=new Array(a),_=0;_<a;++_){var D=i[_],k=s[_],V=k.length,ee=zi(t.call(D,D&&D.__data__,_,i)),me=ee.length,Pe=d[_]=new Array(me),J=c[_]=new Array(me);e(D,k,Pe,J,v[_]=new Array(V),ee,n);for(var He,Ye,Re=0,be=0;Re<me;++Re)if(He=Pe[Re]){for(Re>=be&&(be=Re+1);!(Ye=J[be])&&++be<me;);He._next=Ye||null}}return(c=new Qt(c,i))._enter=d,c._exit=v,c},enter:function ii(){return new Qt(this._enter||this._groups.map(At),this._parents)},exit:function vi(){return new Qt(this._exit||this._groups.map(At),this._parents)},join:function xi(t,n,e){var i=this.enter(),s=this,a=this.exit();return"function"==typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=n&&(s=n(s))&&(s=s.selection()),null==e?a.remove():e(a),i&&s?i.merge(s).order():s},merge:function wi(t){for(var n=t.selection?t.selection():t,e=this._groups,i=n._groups,s=e.length,c=Math.min(s,i.length),d=new Array(s),v=0;v<c;++v)for(var ee,_=e[v],D=i[v],k=_.length,V=d[v]=new Array(k),me=0;me<k;++me)(ee=_[me]||D[me])&&(V[me]=ee);for(;v<s;++v)d[v]=e[v];return new Qt(d,this._parents)},selection:function qi(){return this},order:function Ut(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var c,i=t[n],s=i.length-1,a=i[s];--s>=0;)(c=i[s])&&(a&&4^c.compareDocumentPosition(a)&&a.parentNode.insertBefore(c,a),a=c);return this},sort:function St(t){function n(k,V){return k&&V?t(k.__data__,V.__data__):!k-!V}t||(t=Pi);for(var e=this._groups,i=e.length,s=new Array(i),a=0;a<i;++a){for(var _,c=e[a],d=c.length,v=s[a]=new Array(d),D=0;D<d;++D)(_=c[D])&&(v[D]=_);v.sort(n)}return new Qt(s,this._parents).order()},call:function $t(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function _t(){return Array.from(this)},node:function Si(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],s=0,a=i.length;s<a;++s){var c=i[s];if(c)return c}return null},size:function ci(){let t=0;for(const n of this)++t;return t},empty:function ki(){return!this.node()},each:function Ai(t){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var d,s=n[e],a=0,c=s.length;a<c;++a)(d=s[a])&&t.call(d,d.__data__,a,s);return this},attr:function Bt(t,n){var e=qt(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==n?e.local?Ri:Gi:"function"==typeof n?e.local?Bi:si:e.local?hi:vt)(e,n))},style:function Ki(t,n,e){return arguments.length>1?this.each((null==n?pi:"function"==typeof n?un:Vi)(t,n,e??"")):Vt(this.node(),t)},property:function w(t,n){return arguments.length>1?this.each((null==n?Ni:"function"==typeof n?Q:le)(t,n)):this.node()[t]},classed:function P(t,n){var e=G(t+"");if(arguments.length<2){for(var i=ce(this.node()),s=-1,a=e.length;++s<a;)if(!i.contains(e[s]))return!1;return!0}return this.each(("function"==typeof n?ue:n?ut:mt)(e,n))},text:function st(t){return arguments.length?this.each(null==t?R:("function"==typeof t?Le:te)(t)):this.node().textContent},html:function T(t){return arguments.length?this.each(null==t?Y:("function"==typeof t?f:x)(t)):this.node().innerHTML},raise:function q(){return this.each(B)},lower:function Ee(){return this.each(he)},append:function Ke(t){var n="function"==typeof t?t:Oe(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function ct(t,n){var e="function"==typeof t?t:Oe(t),i=null==n?pt:"function"==typeof n?n:X(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function E(){return this.each(H)},clone:function U(t){return this.select(t?N:C)},datum:function de(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function An(t,n,e){var s,c,i=function ht(t){return t.trim().split(/^|\s+/).map(function(n){var e="",i=n.indexOf(".");return i>=0&&(e=n.slice(i+1),n=n.slice(0,i)),{type:n,name:e}})}(t+""),a=i.length;if(!(arguments.length<2)){for(d=n?Jt:zt,s=0;s<a;++s)this.each(d(i[s],n,e));return this}var d=this.node().__on;if(d)for(var D,v=0,_=d.length;v<_;++v)for(s=0,D=d[v];s<a;++s)if((c=i[s]).type===D.type&&c.name===D.name)return D.value},dispatch:function Yn(t,n){return this.each(("function"==typeof n?Ln:en)(t,n))},[Symbol.iterator]:function*tn(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var c,i=t[n],s=0,a=i.length;s<a;++s)(c=i[s])&&(yield c)}};const Ji=Dn;function ri(t){return"string"==typeof t?new Qt([[document.querySelector(t)]],[document.documentElement]):new Qt([[t]],En)}var rt={value:()=>{}};function Mn(){for(var i,t=0,n=arguments.length,e={};t<n;++t){if(!(i=arguments[t]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new W(e)}function W(t){this._=t}function b(t,n){for(var s,e=0,i=t.length;e<i;++e)if((s=t[e]).name===n)return s.value}function O(t,n,e){for(var i=0,s=t.length;i<s;++i)if(t[i].name===n){t[i]=rt,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=e&&t.push({name:n,value:e}),t}W.prototype=Mn.prototype={constructor:W,on:function(t,n){var s,e=this._,i=function S(t,n){return t.trim().split(/^|\s+/).map(function(e){var i="",s=e.indexOf(".");if(s>=0&&(i=e.slice(s+1),e=e.slice(0,s)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}(t+"",e),a=-1,c=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<c;)if(s=(t=i[a]).type)e[s]=O(e[s],t.name,n);else if(null==n)for(s in e)e[s]=O(e[s],t.name,null);return this}for(;++a<c;)if((s=(t=i[a]).type)&&(s=b(e[s],t.name)))return s},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new W(t)},call:function(t,n){if((s=arguments.length-2)>0)for(var s,a,e=new Array(s),i=0;i<s;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,s=(a=this._[t]).length;i<s;++i)a[i].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],s=0,a=i.length;s<a;++s)i[s].value.apply(n,e)}};const j=Mn,ye={capture:!0,passive:!1};function Xe(t){t.preventDefault(),t.stopImmediatePropagation()}function Hi(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function yi(t,n){var e=Object.create(t.prototype);for(var i in n)e[i]=n[i];return e}function Kt(){}var on=1/.7,nn="\\s*([+-]?\\d+)\\s*",Cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xn=/^#([0-9a-f]{3,8})$/,Es=new RegExp(`^rgb\\(${nn},${nn},${nn}\\)$`),ms=new RegExp(`^rgb\\(${Qe},${Qe},${Qe}\\)$`),mn=new RegExp(`^rgba\\(${nn},${nn},${nn},${Cn}\\)$`),Ds=new RegExp(`^rgba\\(${Qe},${Qe},${Qe},${Cn}\\)$`),ln=new RegExp(`^hsl\\(${Cn},${Qe},${Qe}\\)$`),sr=new RegExp(`^hsla\\(${Cn},${Qe},${Qe},${Cn}\\)$`),Ms={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Os(){return this.rgb().formatHex()}function Fs(){return this.rgb().formatRgb()}function cn(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Xn.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Is(n):3===e?new fi(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Wn(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Wn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Es.exec(t))?new fi(n[1],n[2],n[3],1):(n=ms.exec(t))?new fi(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=mn.exec(t))?Wn(n[1],n[2],n[3],n[4]):(n=Ds.exec(t))?Wn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=ln.exec(t))?Ps(n[1],n[2]/100,n[3]/100,1):(n=sr.exec(t))?Ps(n[1],n[2]/100,n[3]/100,n[4]):Ms.hasOwnProperty(t)?Is(Ms[t]):"transparent"===t?new fi(NaN,NaN,NaN,0):null}function Is(t){return new fi(t>>16&255,t>>8&255,255&t,1)}function Wn(t,n,e,i){return i<=0&&(t=n=e=NaN),new fi(t,n,e,i)}function jn(t,n,e,i){return 1===arguments.length?function aa(t){return t instanceof Kt||(t=cn(t)),t?new fi((t=t.rgb()).r,t.g,t.b,t.opacity):new fi}(t):new fi(t,n,e,i??1)}function fi(t,n,e,i){this.r=+t,this.g=+n,this.b=+e,this.opacity=+i}function or(){return`#${hn(this.r)}${hn(this.g)}${hn(this.b)}`}function ps(){const t=Un(this.opacity);return`${1===t?"rgb(":"rgba("}${$i(this.r)}, ${$i(this.g)}, ${$i(this.b)}${1===t?")":`, ${t})`}`}function Un(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function $i(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function hn(t){return((t=$i(t))<16?"0":"")+t.toString(16)}function Ps(t,n,e,i){return i<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Xi(t,n,e,i)}function Rs(t){if(t instanceof Xi)return new Xi(t.h,t.s,t.l,t.opacity);if(t instanceof Kt||(t=cn(t)),!t)return new Xi;if(t instanceof Xi)return t;var n=(t=t.rgb()).r/255,e=t.g/255,i=t.b/255,s=Math.min(n,e,i),a=Math.max(n,e,i),c=NaN,d=a-s,v=(a+s)/2;return d?(c=n===a?(e-i)/d+6*(e<i):e===a?(i-n)/d+2:(n-e)/d+4,d/=v<.5?a+s:2-a-s,c*=60):d=v>0&&v<1?0:c,new Xi(c,d,v,t.opacity)}function Xi(t,n,e,i){this.h=+t,this.s=+n,this.l=+e,this.opacity=+i}function Tn(t){return(t=(t||0)%360)<0?t+360:t}function On(t){return Math.max(0,Math.min(1,t||0))}function Zn(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function qn(t,n,e,i,s){var a=t*t,c=a*t;return((1-3*t+3*a-c)*n+(4-6*a+3*c)*e+(1+3*t+3*a-3*c)*i+c*s)/6}Hi(Kt,cn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Os,formatHex:Os,formatHex8:function rr(){return this.rgb().formatHex8()},formatHsl:function ar(){return Rs(this).formatHsl()},formatRgb:Fs,toString:Fs}),Hi(fi,jn,yi(Kt,{brighter(t){return t=null==t?on:Math.pow(on,t),new fi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new fi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new fi($i(this.r),$i(this.g),$i(this.b),Un(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:or,formatHex:or,formatHex8:function lr(){return`#${hn(this.r)}${hn(this.g)}${hn(this.b)}${hn(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:ps,toString:ps})),Hi(Xi,function gs(t,n,e,i){return 1===arguments.length?Rs(t):new Xi(t,n,e,i??1)},yi(Kt,{brighter(t){return t=null==t?on:Math.pow(on,t),new Xi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new Xi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*n,s=2*e-i;return new fi(Zn(t>=240?t-240:t+120,s,i),Zn(t,s,i),Zn(t<120?t+240:t-120,s,i),this.opacity)},clamp(){return new Xi(Tn(this.h),On(this.s),On(this.l),Un(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Un(this.opacity);return`${1===t?"hsl(":"hsla("}${Tn(this.h)}, ${100*On(this.s)}%, ${100*On(this.l)}%${1===t?")":`, ${t})`}`}}));const Bs=t=>()=>t;function Vs(t,n){var e=n-t;return e?function hr(t,n){return function(e){return t+e*n}}(t,e):Bs(isNaN(t)?n:t)}const Jn=function t(n){var e=function dr(t){return 1==(t=+t)?Vs:function(n,e){return e-n?function la(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(i){return Math.pow(t+i*n,e)}}(n,e,t):Bs(isNaN(n)?e:n)}}(n);function i(s,a){var c=e((s=jn(s)).r,(a=jn(a)).r),d=e(s.g,a.g),v=e(s.b,a.b),_=Vs(s.opacity,a.opacity);return function(D){return s.r=c(D),s.g=d(D),s.b=v(D),s.opacity=_(D),s+""}}return i.gamma=t,i}(1);function Ns(t){return function(n){var c,d,e=n.length,i=new Array(e),s=new Array(e),a=new Array(e);for(c=0;c<e;++c)d=jn(n[c]),i[c]=d.r||0,s[c]=d.g||0,a[c]=d.b||0;return i=t(i),s=t(s),a=t(a),d.opacity=1,function(v){return d.r=i(v),d.g=s(v),d.b=a(v),d+""}}}function o(t,n){var c,e=n?n.length:0,i=t?Math.min(e,t.length):0,s=new Array(i),a=new Array(e);for(c=0;c<i;++c)s[c]=Ie(t[c],n[c]);for(;c<e;++c)a[c]=n[c];return function(d){for(c=0;c<i;++c)a[c]=s[c](d);return a}}function l(t,n){var e=new Date;return t=+t,n=+n,function(i){return e.setTime(t*(1-i)+n*i),e}}function u(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function m(t,n){var s,e={},i={};for(s in(null===t||"object"!=typeof t)&&(t={}),(null===n||"object"!=typeof n)&&(n={}),n)s in t?e[s]=Ie(t[s],n[s]):i[s]=n[s];return function(a){for(s in e)i[s]=e[s](a);return i}}Ns(function cr(t){var n=t.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),s=t[i],a=t[i+1];return qn((e-i/n)*n,i>0?t[i-1]:2*s-a,s,a,i<n-1?t[i+2]:2*a-s)}}),Ns(function oa(t){var n=t.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*n);return qn((e-i/n)*n,t[(i+n-1)%n],t[i%n],t[(i+1)%n],t[(i+2)%n])}});var p=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,y=new RegExp(p.source,"g");function F(t,n){var i,s,a,e=p.lastIndex=y.lastIndex=0,c=-1,d=[],v=[];for(t+="",n+="";(i=p.exec(t))&&(s=y.exec(n));)(a=s.index)>e&&(a=n.slice(e,a),d[c]?d[c]+=a:d[++c]=a),(i=i[0])===(s=s[0])?d[c]?d[c]+=s:d[++c]=s:(d[++c]=null,v.push({i:c,x:u(i,s)})),e=y.lastIndex;return e<n.length&&(a=n.slice(e),d[c]?d[c]+=a:d[++c]=a),d.length<2?v[0]?function M(t){return function(n){return t(n)+""}}(v[0].x):function L(t){return function(){return t}}(n):(n=v.length,function(_){for(var k,D=0;D<n;++D)d[(k=v[D]).i]=k.x(_);return d.join("")})}function re(t,n){n||(n=[]);var s,e=t?Math.min(n.length,t.length):0,i=n.slice();return function(a){for(s=0;s<e;++s)i[s]=t[s]*(1-a)+n[s]*a;return i}}function Ie(t,n){var i,e=typeof n;return null==n||"boolean"===e?Bs(n):("number"===e?u:"string"===e?(i=cn(n))?(n=i,Jn):F:n instanceof cn?Jn:n instanceof Date?l:function Te(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(n)?re:Array.isArray(n)?o:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?m:u)(t,n)}function et(t,n){if(t=function we(t){let n;for(;n=t.sourceEvent;)t=n;return t}(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,[(i=i.matrixTransform(n.getScreenCTM().inverse())).x,i.y]}if(n.getBoundingClientRect){var s=n.getBoundingClientRect();return[t.clientX-s.left-n.clientLeft,t.clientY-s.top-n.clientTop]}}return[t.pageX,t.pageY]}var ei,Wi,ot=0,Ct=0,Gt=0,_i=1e3,Fn=0,In=0,Hs=0,fs="object"==typeof performance&&performance.now?performance:Date,da="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ur(){return In||(da(vl),In=fs.now()+Hs)}function vl(){In=0}function $s(){this._call=this._time=this._next=null}function ua(t,n,e){var i=new $s;return i.restart(t,n,e),i}function ma(){In=(Fn=fs.now())+Hs,ot=Ct=0;try{!function xl(){ur(),++ot;for(var n,t=ei;t;)(n=In-t._time)>=0&&t._call.call(void 0,n),t=t._next;--ot}()}finally{ot=0,function bl(){for(var t,e,n=ei,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:ei=e);Wi=t,mr(i)}(),In=0}}function yl(){var t=fs.now(),n=t-Fn;n>_i&&(Hs-=n,Fn=t)}function mr(t){ot||(Ct&&(Ct=clearTimeout(Ct)),t-In>24?(t<1/0&&(Ct=setTimeout(ma,t-fs.now()-Hs)),Gt&&(Gt=clearInterval(Gt))):(Gt||(Fn=fs.now(),Gt=setInterval(yl,_i)),ot=1,da(ma)))}function pa(t,n,e){var i=new $s;return i.restart(s=>{i.stop(),t(s+n)},n=null==n?0:+n,e),i}$s.prototype=ua.prototype={constructor:$s,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?ur():+e)+(null==n?0:+n),!this._next&&Wi!==this&&(Wi?Wi._next=this:ei=this,Wi=this),this._call=t,this._time=e,mr()},stop:function(){this._call&&(this._call=null,this._time=1/0,mr())}};var Cl=j("start","end","cancel","interrupt"),Tl=[],ga=0,fa=1,pr=2,zs=3,_a=4,gr=5,Gs=6;function Ys(t,n,e,i,s,a){var c=t.__transition;if(c){if(e in c)return}else t.__transition={};!function wl(t,n,e){var s,i=t.__transition;function c(_){var D,k,V,ee;if(e.state!==fa)return v();for(D in i)if((ee=i[D]).name===e.name){if(ee.state===zs)return pa(c);ee.state===_a?(ee.state=Gs,ee.timer.stop(),ee.on.call("interrupt",t,t.__data__,ee.index,ee.group),delete i[D]):+D<n&&(ee.state=Gs,ee.timer.stop(),ee.on.call("cancel",t,t.__data__,ee.index,ee.group),delete i[D])}if(pa(function(){e.state===zs&&(e.state=_a,e.timer.restart(d,e.delay,e.time),d(_))}),e.state=pr,e.on.call("start",t,t.__data__,e.index,e.group),e.state===pr){for(e.state=zs,s=new Array(V=e.tween.length),D=0,k=-1;D<V;++D)(ee=e.tween[D].value.call(t,t.__data__,e.index,e.group))&&(s[++k]=ee);s.length=k+1}}function d(_){for(var D=_<e.duration?e.ease.call(null,_/e.duration):(e.timer.restart(v),e.state=gr,1),k=-1,V=s.length;++k<V;)s[k].call(t,D);e.state===gr&&(e.on.call("end",t,t.__data__,e.index,e.group),v())}function v(){for(var _ in e.state=Gs,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=ua(function a(_){e.state=fa,e.timer.restart(c,e.delay,e.time),e.delay<=_&&c(_-e.delay)},0,e.time)}(t,e,{name:n,index:i,group:s,on:Cl,tween:Tl,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:ga})}function fr(t,n){var e=sn(t,n);if(e.state>ga)throw new Error("too late; already scheduled");return e}function dn(t,n){var e=sn(t,n);if(e.state>zs)throw new Error("too late; already running");return e}function sn(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function _r(t,n){var i,s,c,e=t.__transition,a=!0;if(e){for(c in n=null==n?null:n+"",e)(i=e[c]).name===n?(s=i.state>pr&&i.state<gr,i.state=Gs,i.timer.stop(),i.on.call(s?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete e[c]):a=!1;a&&delete t.__transition}}var Xs,va=180/Math.PI,vr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xa(t,n,e,i,s,a){var c,d,v;return(c=Math.sqrt(t*t+n*n))&&(t/=c,n/=c),(v=t*e+n*i)&&(e-=t*v,i-=n*v),(d=Math.sqrt(e*e+i*i))&&(e/=d,i/=d,v/=d),t*i<n*e&&(t=-t,n=-n,v=-v,c=-c),{translateX:s,translateY:a,rotate:Math.atan2(n,t)*va,skewX:Math.atan(v)*va,scaleX:c,scaleY:d}}function ya(t,n,e,i){function s(_){return _.length?_.pop()+" ":""}return function(_,D){var k=[],V=[];return _=t(_),D=t(D),function a(_,D,k,V,ee,me){if(_!==k||D!==V){var Pe=ee.push("translate(",null,n,null,e);me.push({i:Pe-4,x:u(_,k)},{i:Pe-2,x:u(D,V)})}else(k||V)&&ee.push("translate("+k+n+V+e)}(_.translateX,_.translateY,D.translateX,D.translateY,k,V),function c(_,D,k,V){_!==D?(_-D>180?D+=360:D-_>180&&(_+=360),V.push({i:k.push(s(k)+"rotate(",null,i)-2,x:u(_,D)})):D&&k.push(s(k)+"rotate("+D+i)}(_.rotate,D.rotate,k,V),function d(_,D,k,V){_!==D?V.push({i:k.push(s(k)+"skewX(",null,i)-2,x:u(_,D)}):D&&k.push(s(k)+"skewX("+D+i)}(_.skewX,D.skewX,k,V),function v(_,D,k,V,ee,me){if(_!==k||D!==V){var Pe=ee.push(s(ee)+"scale(",null,",",null,")");me.push({i:Pe-4,x:u(_,k)},{i:Pe-2,x:u(D,V)})}else(1!==k||1!==V)&&ee.push(s(ee)+"scale("+k+","+V+")")}(_.scaleX,_.scaleY,D.scaleX,D.scaleY,k,V),_=D=null,function(ee){for(var J,me=-1,Pe=V.length;++me<Pe;)k[(J=V[me]).i]=J.x(ee);return k.join("")}}}var Ll=ya(function kl(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?vr:xa(n.a,n.b,n.c,n.d,n.e,n.f)},"px, ","px)","deg)"),El=ya(function Al(t){return null!=t&&(Xs||(Xs=document.createElementNS("http://www.w3.org/2000/svg","g")),Xs.setAttribute("transform",t),t=Xs.transform.baseVal.consolidate())?xa((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):vr},", ",")",")");function Dl(t,n){var e,i;return function(){var s=dn(this,t),a=s.tween;if(a!==e)for(var c=0,d=(i=e=a).length;c<d;++c)if(i[c].name===n){(i=i.slice()).splice(c,1);break}s.tween=i}}function Ml(t,n,e){var i,s;if("function"!=typeof e)throw new Error;return function(){var a=dn(this,t),c=a.tween;if(c!==i){s=(i=c).slice();for(var d={name:n,value:e},v=0,_=s.length;v<_;++v)if(s[v].name===n){s[v]=d;break}v===_&&s.push(d)}a.tween=s}}function xr(t,n,e){var i=t._id;return t.each(function(){var s=dn(this,i);(s.value||(s.value={}))[n]=e.apply(this,arguments)}),function(s){return sn(s,i).value[n]}}function ba(t,n){var e;return("number"==typeof n?u:n instanceof cn?Jn:(e=cn(n))?(n=e,Jn):F)(t,n)}function Fl(t){return function(){this.removeAttribute(t)}}function Il(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Pl(t,n,e){var i,a,s=e+"";return function(){var c=this.getAttribute(t);return c===s?null:c===i?a:a=n(i=c,e)}}function Rl(t,n,e){var i,a,s=e+"";return function(){var c=this.getAttributeNS(t.space,t.local);return c===s?null:c===i?a:a=n(i=c,e)}}function Bl(t,n,e){var i,s,a;return function(){var c,v,d=e(this);return null==d?void this.removeAttribute(t):(c=this.getAttribute(t))===(v=d+"")?null:c===i&&v===s?a:(s=v,a=n(i=c,d))}}function Vl(t,n,e){var i,s,a;return function(){var c,v,d=e(this);return null==d?void this.removeAttributeNS(t.space,t.local):(c=this.getAttributeNS(t.space,t.local))===(v=d+"")?null:c===i&&v===s?a:(s=v,a=n(i=c,d))}}function zl(t,n){var e,i;function s(){var a=n.apply(this,arguments);return a!==i&&(e=(i=a)&&function $l(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,a)),e}return s._value=n,s}function Gl(t,n){var e,i;function s(){var a=n.apply(this,arguments);return a!==i&&(e=(i=a)&&function Hl(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,a)),e}return s._value=n,s}function Xl(t,n){return function(){fr(this,t).delay=+n.apply(this,arguments)}}function Wl(t,n){return n=+n,function(){fr(this,t).delay=n}}function Ul(t,n){return function(){dn(this,t).duration=+n.apply(this,arguments)}}function Zl(t,n){return n=+n,function(){dn(this,t).duration=n}}var hc=Ji.prototype.constructor;function Ca(t){return function(){this.style.removeProperty(t)}}var Lc=0;function pn(t,n,e,i){this._groups=t,this._parents=n,this._name=e,this._id=i}function Ta(){return++Lc}var gn=Ji.prototype;pn.prototype=function Ec(t){return Ji().transition(t)}.prototype={constructor:pn,select:function lc(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=X(t));for(var i=this._groups,s=i.length,a=new Array(s),c=0;c<s;++c)for(var D,k,d=i[c],v=d.length,_=a[c]=new Array(v),V=0;V<v;++V)(D=d[V])&&(k=t.call(D,D.__data__,V,d))&&("__data__"in D&&(k.__data__=D.__data__),_[V]=k,Ys(_[V],n,e,V,_,sn(D,e)));return new pn(a,this._parents,n,e)},selectAll:function cc(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Me(t));for(var i=this._groups,s=i.length,a=[],c=[],d=0;d<s;++d)for(var D,v=i[d],_=v.length,k=0;k<_;++k)if(D=v[k]){for(var ee,V=t.call(D,D.__data__,k,v),me=sn(D,e),Pe=0,J=V.length;Pe<J;++Pe)(ee=V[Pe])&&Ys(ee,n,e,Pe,V,me);a.push(V),c.push(D)}return new pn(a,c,n,e)},selectChild:gn.selectChild,selectChildren:gn.selectChildren,filter:function tc(t){"function"!=typeof t&&(t=tt(t));for(var n=this._groups,e=n.length,i=new Array(e),s=0;s<e;++s)for(var v,a=n[s],c=a.length,d=i[s]=[],_=0;_<c;++_)(v=a[_])&&t.call(v,v.__data__,_,a)&&d.push(v);return new pn(i,this._parents,this._name,this._id)},merge:function ic(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,i=n.length,a=Math.min(i,e.length),c=new Array(i),d=0;d<a;++d)for(var V,v=n[d],_=e[d],D=v.length,k=c[d]=new Array(D),ee=0;ee<D;++ee)(V=v[ee]||_[ee])&&(k[ee]=V);for(;d<i;++d)c[d]=n[d];return new pn(c,this._parents,this._name,this._id)},selection:function dc(){return new hc(this._groups,this._parents)},transition:function kc(){for(var t=this._name,n=this._id,e=Ta(),i=this._groups,s=i.length,a=0;a<s;++a)for(var v,c=i[a],d=c.length,_=0;_<d;++_)if(v=c[_]){var D=sn(v,n);Ys(v,t,e,_,c,{time:D.time+D.delay+D.duration,delay:0,duration:D.duration,ease:D.ease})}return new pn(i,this._parents,t,e)},call:gn.call,nodes:gn.nodes,node:gn.node,size:gn.size,empty:gn.empty,each:gn.each,on:function rc(t,n){var e=this._id;return arguments.length<2?sn(this.node(),e).on.on(t):this.each(function sc(t,n,e){var i,s,a=function nc(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||"start"===n})}(n)?fr:dn;return function(){var c=a(this,t),d=c.on;d!==i&&(s=(i=d).copy()).on(n,e),c.on=s}}(e,t,n))},attr:function Nl(t,n){var e=qt(t),i="transform"===e?El:ba;return this.attrTween(t,"function"==typeof n?(e.local?Vl:Bl)(e,i,xr(this,"attr."+t,n)):null==n?(e.local?Il:Fl)(e):(e.local?Rl:Pl)(e,i,n))},attrTween:function Yl(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var i=qt(t);return this.tween(e,(i.local?zl:Gl)(i,n))},style:function fc(t,n,e){var i="transform"==(t+="")?Ll:ba;return null==n?this.styleTween(t,function uc(t,n){var e,i,s;return function(){var a=Vt(this,t),c=(this.style.removeProperty(t),Vt(this,t));return a===c?null:a===e&&c===i?s:s=n(e=a,i=c)}}(t,i)).on("end.style."+t,Ca(t)):"function"==typeof n?this.styleTween(t,function pc(t,n,e){var i,s,a;return function(){var c=Vt(this,t),d=e(this),v=d+"";return null==d&&(this.style.removeProperty(t),v=d=Vt(this,t)),c===v?null:c===i&&v===s?a:(s=v,a=n(i=c,d))}}(t,i,xr(this,"style."+t,n))).each(function gc(t,n){var e,i,s,d,a="style."+n,c="end."+a;return function(){var v=dn(this,t),_=v.on,D=null==v.value[a]?d||(d=Ca(n)):void 0;(_!==e||s!==D)&&(i=(e=_).copy()).on(c,s=D),v.on=i}}(this._id,t)):this.styleTween(t,function mc(t,n,e){var i,a,s=e+"";return function(){var c=Vt(this,t);return c===s?null:c===i?a:a=n(i=c,e)}}(t,i,n),e).on("end.style."+t,null)},styleTween:function xc(t,n,e){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;return this.tween(i,function vc(t,n,e){var i,s;function a(){var c=n.apply(this,arguments);return c!==s&&(i=(s=c)&&function _c(t,n,e){return function(i){this.style.setProperty(t,n.call(this,i),e)}}(t,c,e)),i}return a._value=n,a}(t,n,e??""))},text:function Cc(t){return this.tween("text","function"==typeof t?function bc(t){return function(){var n=t(this);this.textContent=n??""}}(xr(this,"text",t)):function yc(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function Sc(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function wc(t){var n,e;function i(){var s=t.apply(this,arguments);return s!==e&&(n=(e=s)&&function Tc(t){return function(n){this.textContent=t.call(this,n)}}(s)),n}return i._value=t,i}(t))},remove:function oc(){return this.on("end.remove",function ac(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function Ol(t,n){var e=this._id;if(t+="",arguments.length<2){for(var c,i=sn(this.node(),e).tween,s=0,a=i.length;s<a;++s)if((c=i[s]).name===t)return c.value;return null}return this.each((null==n?Dl:Ml)(e,t,n))},delay:function jl(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Xl:Wl)(n,t)):sn(this.node(),n).delay},duration:function ql(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Ul:Zl)(n,t)):sn(this.node(),n).duration},ease:function Ql(t){var n=this._id;return arguments.length?this.each(function Jl(t,n){if("function"!=typeof n)throw new Error;return function(){dn(this,t).ease=n}}(n,t)):sn(this.node(),n).ease},easeVarying:function ec(t){if("function"!=typeof t)throw new Error;return this.each(function Kl(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;dn(this,t).ease=e}}(this._id,t))},end:function Ac(){var t,n,e=this,i=e._id,s=e.size();return new Promise(function(a,c){var d={value:c},v={value:function(){0==--s&&a()}};e.each(function(){var _=dn(this,i),D=_.on;D!==t&&((n=(t=D).copy())._.cancel.push(d),n._.interrupt.push(d),n._.end.push(v)),_.on=n}),0===s&&a()})},[Symbol.iterator]:gn[Symbol.iterator]};var Mc={time:null,delay:0,duration:250,ease:function Dc(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Oc(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}Ji.prototype.interrupt=function Sl(t){return this.each(function(){_r(this,t)})},Ji.prototype.transition=function Fc(t){var n,e;t instanceof pn?(n=t._id,t=t._name):(n=Ta(),(e=Mc).time=ur(),t=null==t?null:t+"");for(var i=this._groups,s=i.length,a=0;a<s;++a)for(var v,c=i[a],d=c.length,_=0;_<d;++_)(v=c[_])&&Ys(v,t,n,_,c,e||Oc(v,n));return new pn(i,this._parents,t,n)};const yr=t=>()=>t;function Ic(t,{sourceEvent:n,target:e,selection:i,mode:s,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},selection:{value:i,enumerable:!0,configurable:!0},mode:{value:s,enumerable:!0,configurable:!0},_:{value:a}})}function br(t){t.preventDefault(),t.stopImmediatePropagation()}var wa={name:"drag"},Cr={name:"space"},Qn={name:"handle"},Kn={name:"center"};const{abs:Sa,max:bi,min:Ci}=Math;function ka(t){return[+t[0],+t[1]]}function Tr(t){return[ka(t[0]),ka(t[1])]}var Ws={name:"x",handles:["w","e"].map(_s),input:function(t,n){return null==t?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},js={name:"y",handles:["n","s"].map(_s),input:function(t,n){return null==t?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},fn=(["n","w","e","s","nw","ne","sw","se"].map(_s),{overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"}),Aa={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},La={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Bc={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Vc={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function _s(t){return{type:t}}function Nc(t){return!t.ctrlKey&&!t.button}function Hc(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function $c(){return navigator.maxTouchPoints||"ontouchstart"in this}function wr(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function vs(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Yc(t,n){return null==t||null==n?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function kr(t){let n,e,i;function s(d,v,_=0,D=d.length){if(_<D){if(0!==n(v,v))return D;do{const k=_+D>>>1;e(d[k],v)<0?_=k+1:D=k}while(_<D)}return _}return 2!==t.length?(n=vs,e=(d,v)=>vs(t(d),v),i=(d,v)=>t(d)-v):(n=t===vs||t===Yc?t:Xc,e=t,i=t),{left:s,center:function c(d,v,_=0,D=d.length){const k=s(d,v,_,D-1);return k>_&&i(d[k-1],v)>-i(d[k],v)?k-1:k},right:function a(d,v,_=0,D=d.length){if(_<D){if(0!==n(v,v))return D;do{const k=_+D>>>1;e(d[k],v)<=0?_=k+1:D=k}while(_<D)}return _}}}function Xc(){return 0}const Wc=Math.sqrt(50),jc=Math.sqrt(10),Uc=Math.sqrt(2);function Us(t,n,e){const i=(n-t)/Math.max(0,e),s=Math.floor(Math.log10(i)),a=i/Math.pow(10,s),c=a>=Wc?10:a>=jc?5:a>=Uc?2:1;let d,v,_;return s<0?(_=Math.pow(10,-s)/c,d=Math.round(t*_),v=Math.round(n*_),d/_<t&&++d,v/_>n&&--v,_=-_):(_=Math.pow(10,s)*c,d=Math.round(t/_),v=Math.round(n/_),d*_<t&&++d,v*_>n&&--v),v<d&&.5<=e&&e<2?Us(t,n,2*e):[d,v,_]}function Ar(t,n,e){return Us(t=+t,n=+n,e=+e)[2]}function Lr(t,n,e){e=+e;const i=(n=+n)<(t=+t),s=i?Ar(n,t,e):Ar(t,n,e);return(i?-1:1)*(s<0?1/-s:s)}const _n=1e3,Qi=60*_n,vn=60*Qi,xn=24*vn,Er=7*xn,Ea=30*xn,Dr=365*xn,Mr=new Date,Or=new Date;function ai(t,n,e,i){function s(a){return t(a=0===arguments.length?new Date:new Date(+a)),a}return s.floor=a=>(t(a=new Date(+a)),a),s.ceil=a=>(t(a=new Date(a-1)),n(a,1),t(a),a),s.round=a=>{const c=s(a),d=s.ceil(a);return a-c<d-a?c:d},s.offset=(a,c)=>(n(a=new Date(+a),null==c?1:Math.floor(c)),a),s.range=(a,c,d)=>{const v=[];if(a=s.ceil(a),d=null==d?1:Math.floor(d),!(a<c&&d>0))return v;let _;do{v.push(_=new Date(+a)),n(a,d),t(a)}while(_<a&&a<c);return v},s.filter=a=>ai(c=>{if(c>=c)for(;t(c),!a(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;n(c,-1),!a(c););else for(;--d>=0;)for(;n(c,1),!a(c););}),e&&(s.count=(a,c)=>(Mr.setTime(+a),Or.setTime(+c),t(Mr),t(Or),Math.floor(e(Mr,Or))),s.every=a=>(a=Math.floor(a),isFinite(a)&&a>0?a>1?s.filter(i?c=>i(c)%a==0:c=>s.count(0,c)%a==0):s:null)),s}const Zs=ai(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);Zs.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?ai(n=>{n.setTime(Math.floor(n/t)*t)},(n,e)=>{n.setTime(+n+e*t)},(n,e)=>(e-n)/t):Zs:null);const es=ai(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+n*_n)},(t,n)=>(n-t)/_n,t=>t.getUTCSeconds()),Fr=ai(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_n)},(t,n)=>{t.setTime(+t+n*Qi)},(t,n)=>(n-t)/Qi,t=>t.getMinutes()),Da=ai(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+n*Qi)},(t,n)=>(n-t)/Qi,t=>t.getUTCMinutes()),Ir=ai(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_n-t.getMinutes()*Qi)},(t,n)=>{t.setTime(+t+n*vn)},(t,n)=>(n-t)/vn,t=>t.getHours()),Ma=ai(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+n*vn)},(t,n)=>(n-t)/vn,t=>t.getUTCHours()),Pr=ai(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Qi)/xn,t=>t.getDate()-1),Oa=(ai(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/xn,t=>t.getUTCDate()-1),ai(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/xn,t=>Math.floor(t/xn)));function Pn(t){return ai(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(n,e)=>{n.setDate(n.getDate()+7*e)},(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Qi)/Er)}const Rr=Pn(0);function Rn(t){return ai(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+7*e)},(n,e)=>(e-n)/Er)}Pn(1),Pn(2),Pn(3),Pn(4),Pn(5),Pn(6);const Fa=Rn(0),Br=(Rn(1),Rn(2),Rn(3),Rn(4),Rn(5),Rn(6),ai(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear()),t=>t.getMonth())),Ia=ai(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear()),t=>t.getUTCMonth()),qs=ai(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear());qs.every=t=>isFinite(t=Math.floor(t))&&t>0?ai(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e*t)}):null;const Vr=ai(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());function Pa(t,n,e,i,s,a){const c=[[es,1,_n],[es,5,5*_n],[es,15,15*_n],[es,30,30*_n],[a,1,Qi],[a,5,5*Qi],[a,15,15*Qi],[a,30,30*Qi],[s,1,vn],[s,3,3*vn],[s,6,6*vn],[s,12,12*vn],[i,1,xn],[i,2,2*xn],[e,1,Er],[n,1,Ea],[n,3,3*Ea],[t,1,Dr]];function v(_,D,k){const V=Math.abs(D-_)/k,ee=kr(([,,J])=>J).right(c,V);if(ee===c.length)return t.every(Lr(_/Dr,D/Dr,k));if(0===ee)return Zs.every(Math.max(Lr(_,D,k),1));const[me,Pe]=c[V/c[ee-1][2]<c[ee][2]/V?ee-1:ee];return me.every(Pe)}return[function d(_,D,k){const V=D<_;V&&([_,D]=[D,_]);const ee=k&&"function"==typeof k.range?k:v(_,D,k),me=ee?ee.range(_,+D+1):[];return V?me.reverse():me},v]}Vr.every=t=>isFinite(t=Math.floor(t))&&t>0?ai(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null;const[Ig,Pg]=Pa(Vr,Ia,Fa,Oa,Ma,Da),[lh,ch]=Pa(qs,Br,Rr,Pr,Ir,Fr);var Nr=new Date,Hr=new Date;function yn(t,n,e,i){function s(a){return t(a=0===arguments.length?new Date:new Date(+a)),a}return s.floor=function(a){return t(a=new Date(+a)),a},s.ceil=function(a){return t(a=new Date(a-1)),n(a,1),t(a),a},s.round=function(a){var c=s(a),d=s.ceil(a);return a-c<d-a?c:d},s.offset=function(a,c){return n(a=new Date(+a),null==c?1:Math.floor(c)),a},s.range=function(a,c,d){var _,v=[];if(a=s.ceil(a),d=null==d?1:Math.floor(d),!(a<c&&d>0))return v;do{v.push(_=new Date(+a)),n(a,d),t(a)}while(_<a&&a<c);return v},s.filter=function(a){return yn(function(c){if(c>=c)for(;t(c),!a(c);)c.setTime(c-1)},function(c,d){if(c>=c)if(d<0)for(;++d<=0;)for(;n(c,-1),!a(c););else for(;--d>=0;)for(;n(c,1),!a(c););})},e&&(s.count=function(a,c){return Nr.setTime(+a),Hr.setTime(+c),t(Nr),t(Hr),Math.floor(e(Nr,Hr))},s.every=function(a){return a=Math.floor(a),isFinite(a)&&a>0?a>1?s.filter(i?function(c){return i(c)%a==0}:function(c){return s.count(0,c)%a==0}):s:null}),s}const $r=6e4,xs=60*$r*24,Ra=7*xs;function Bn(t){return yn(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCDate(n.getUTCDate()+7*e)},function(n,e){return(e-n)/Ra})}var Ba=Bn(0),Js=Bn(1),ts=(Bn(2),Bn(3),Bn(4));const Na=(Bn(5),Bn(6),yn(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/xs},function(t){return t.getUTCDate()-1}));function Vn(t){return yn(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(n,e){n.setDate(n.getDate()+7*e)},function(n,e){return(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*$r)/Ra})}var Ha=Vn(0),Qs=Vn(1),is=(Vn(2),Vn(3),Vn(4));const za=(Vn(5),Vn(6),yn(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*$r)/xs,t=>t.getDate()-1));var zr=yn(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});zr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?yn(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};const ys=zr;var Gr=yn(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Gr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?yn(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};const bs=Gr;function Yr(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Xr(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Cs(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}var ns,no,Ga={"-":"",_:" ",0:"0"},di=/^\s*\d+/,xh=/^%/,yh=/[\\^$*+?|[\]().{}]/g;function gt(t,n,e){var i=t<0?"-":"",s=(i?-t:t)+"",a=s.length;return i+(a<e?new Array(e-a+1).join(n)+s:s)}function bh(t){return t.replace(yh,"\\$&")}function Ts(t){return new RegExp("^(?:"+t.map(bh).join("|")+")","i")}function ws(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function Ch(t,n,e){var i=di.exec(n.slice(e,e+1));return i?(t.w=+i[0],e+i[0].length):-1}function Th(t,n,e){var i=di.exec(n.slice(e,e+1));return i?(t.u=+i[0],e+i[0].length):-1}function wh(t,n,e){var i=di.exec(n.slice(e,e+2));return i?(t.U=+i[0],e+i[0].length):-1}function Sh(t,n,e){var i=di.exec(n.slice(e,e+2));return i?(t.V=+i[0],e+i[0].length):-1}function kh(t,n,e){var i=di.exec(n.slice(e,e+2));return i?(t.W=+i[0],e+i[0].length):-1}function Ya(t,n,e){var i=di.exec(n.slice(e,e+4));return i?(t.y=+i[0],e+i[0].length):-1}function Xa(t,n,e){var i=di.exec(n.slice(e,e+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),e+i[0].length):-1}function Ah(t,n,e){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),e+i[0].length):-1}function Lh(t,n,e){var i=di.exec(n.slice(e,e+1));return i?(t.q=3*i[0]-3,e+i[0].length):-1}function Eh(t,n,e){var i=di.exec(n.slice(e,e+2));return i?(t.m=i[0]-1,e+i[0].length):-1}function Wa(t,n,e){var i=di.exec(n.slice(e,e+2));return i?(t.d=+i[0],e+i[0].length):-1}function Dh(t,n,e){var i=di.exec(n.slice(e,e+3));return i?(t.m=0,t.d=+i[0],e+i[0].length):-1}function ja(t,n,e){var i=di.exec(n.slice(e,e+2));return i?(t.H=+i[0],e+i[0].length):-1}function Mh(t,n,e){var i=di.exec(n.slice(e,e+2));return i?(t.M=+i[0],e+i[0].length):-1}function Oh(t,n,e){var i=di.exec(n.slice(e,e+2));return i?(t.S=+i[0],e+i[0].length):-1}function Fh(t,n,e){var i=di.exec(n.slice(e,e+3));return i?(t.L=+i[0],e+i[0].length):-1}function Ih(t,n,e){var i=di.exec(n.slice(e,e+6));return i?(t.L=Math.floor(i[0]/1e3),e+i[0].length):-1}function Ph(t,n,e){var i=xh.exec(n.slice(e,e+1));return i?e+i[0].length:-1}function Rh(t,n,e){var i=di.exec(n.slice(e));return i?(t.Q=+i[0],e+i[0].length):-1}function Bh(t,n,e){var i=di.exec(n.slice(e));return i?(t.s=+i[0],e+i[0].length):-1}function Ua(t,n){return gt(t.getDate(),n,2)}function Vh(t,n){return gt(t.getHours(),n,2)}function Nh(t,n){return gt(t.getHours()%12||12,n,2)}function Hh(t,n){return gt(1+za.count(ys(t),t),n,3)}function Za(t,n){return gt(t.getMilliseconds(),n,3)}function $h(t,n){return Za(t,n)+"000"}function zh(t,n){return gt(t.getMonth()+1,n,2)}function Gh(t,n){return gt(t.getMinutes(),n,2)}function Yh(t,n){return gt(t.getSeconds(),n,2)}function Xh(t){var n=t.getDay();return 0===n?7:n}function Wh(t,n){return gt(Ha.count(ys(t)-1,t),n,2)}function qa(t){var n=t.getDay();return n>=4||0===n?is(t):is.ceil(t)}function jh(t,n){return t=qa(t),gt(is.count(ys(t),t)+(4===ys(t).getDay()),n,2)}function Uh(t){return t.getDay()}function Zh(t,n){return gt(Qs.count(ys(t)-1,t),n,2)}function qh(t,n){return gt(t.getFullYear()%100,n,2)}function Jh(t,n){return gt((t=qa(t)).getFullYear()%100,n,2)}function Qh(t,n){return gt(t.getFullYear()%1e4,n,4)}function Kh(t,n){var e=t.getDay();return gt((t=e>=4||0===e?is(t):is.ceil(t)).getFullYear()%1e4,n,4)}function ed(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+gt(n/60|0,"0",2)+gt(n%60,"0",2)}function Ja(t,n){return gt(t.getUTCDate(),n,2)}function td(t,n){return gt(t.getUTCHours(),n,2)}function id(t,n){return gt(t.getUTCHours()%12||12,n,2)}function nd(t,n){return gt(1+Na.count(bs(t),t),n,3)}function Qa(t,n){return gt(t.getUTCMilliseconds(),n,3)}function sd(t,n){return Qa(t,n)+"000"}function rd(t,n){return gt(t.getUTCMonth()+1,n,2)}function ad(t,n){return gt(t.getUTCMinutes(),n,2)}function od(t,n){return gt(t.getUTCSeconds(),n,2)}function ld(t){var n=t.getUTCDay();return 0===n?7:n}function cd(t,n){return gt(Ba.count(bs(t)-1,t),n,2)}function Ka(t){var n=t.getUTCDay();return n>=4||0===n?ts(t):ts.ceil(t)}function hd(t,n){return t=Ka(t),gt(ts.count(bs(t),t)+(4===bs(t).getUTCDay()),n,2)}function dd(t){return t.getUTCDay()}function ud(t,n){return gt(Js.count(bs(t)-1,t),n,2)}function md(t,n){return gt(t.getUTCFullYear()%100,n,2)}function pd(t,n){return gt((t=Ka(t)).getUTCFullYear()%100,n,2)}function gd(t,n){return gt(t.getUTCFullYear()%1e4,n,4)}function fd(t,n){var e=t.getUTCDay();return gt((t=e>=4||0===e?ts(t):ts.ceil(t)).getUTCFullYear()%1e4,n,4)}function _d(){return"+0000"}function eo(){return"%"}function to(t){return+t}function io(t){return Math.floor(+t/1e3)}function so(t){return null===t?NaN:+t}!function bd(t){ns=function vh(t){var n=t.dateTime,e=t.date,i=t.time,s=t.periods,a=t.days,c=t.shortDays,d=t.months,v=t.shortMonths,_=Ts(s),D=ws(s),k=Ts(a),V=ws(a),ee=Ts(c),me=ws(c),Pe=Ts(d),J=ws(d),Ce=Ts(v),Re=ws(v),be={a:function Ft(Ae){return c[Ae.getDay()]},A:function Mi(Ae){return a[Ae.getDay()]},b:function xt(Ae){return v[Ae.getMonth()]},B:function li(Ae){return d[Ae.getMonth()]},c:null,d:Ua,e:Ua,f:$h,g:Jh,G:Kh,H:Vh,I:Nh,j:Hh,L:Za,m:zh,M:Gh,p:function Yt(Ae){return s[+(Ae.getHours()>=12)]},q:function Xt(Ae){return 1+~~(Ae.getMonth()/3)},Q:to,s:io,S:Yh,u:Xh,U:Wh,V:jh,w:Uh,W:Zh,x:null,X:null,y:qh,Y:Qh,Z:ed,"%":eo},He={a:function As(Ae){return c[Ae.getUTCDay()]},A:function hs(Ae){return a[Ae.getUTCDay()]},b:function ds(Ae){return v[Ae.getUTCMonth()]},B:function us(Ae){return d[Ae.getUTCMonth()]},c:null,d:Ja,e:Ja,f:sd,g:pd,G:fd,H:td,I:id,j:nd,L:Qa,m:rd,M:ad,p:function Ti(Ae){return s[+(Ae.getUTCHours()>=12)]},q:function zn(Ae){return 1+~~(Ae.getUTCMonth()/3)},Q:to,s:io,S:od,u:ld,U:cd,V:hd,w:dd,W:ud,x:null,X:null,y:md,Y:gd,Z:_d,"%":eo},Ye={a:function Dt(Ae,at,dt){var _e=ee.exec(at.slice(dt));return _e?(Ae.w=me.get(_e[0].toLowerCase()),dt+_e[0].length):-1},A:function ze(Ae,at,dt){var _e=k.exec(at.slice(dt));return _e?(Ae.w=V.get(_e[0].toLowerCase()),dt+_e[0].length):-1},b:function mi(Ae,at,dt){var _e=Ce.exec(at.slice(dt));return _e?(Ae.m=Re.get(_e[0].toLowerCase()),dt+_e[0].length):-1},B:function ft(Ae,at,dt){var _e=Pe.exec(at.slice(dt));return _e?(Ae.m=J.get(_e[0].toLowerCase()),dt+_e[0].length):-1},c:function kt(Ae,at,dt){return wt(Ae,n,at,dt)},d:Wa,e:Wa,f:Ih,g:Xa,G:Ya,H:ja,I:ja,j:Dh,L:Fh,m:Eh,M:Mh,p:function Di(Ae,at,dt){var _e=_.exec(at.slice(dt));return _e?(Ae.p=D.get(_e[0].toLowerCase()),dt+_e[0].length):-1},q:Lh,Q:Rh,s:Bh,S:Oh,u:Th,U:wh,V:Sh,w:Ch,W:kh,x:function Zi(Ae,at,dt){return wt(Ae,e,at,dt)},X:function Ot(Ae,at,dt){return wt(Ae,i,at,dt)},y:Xa,Y:Ya,Z:Ah,"%":Ph};function Be(Ae,at){return function(dt){var Fi,Ze,Ht,_e=[],Nt=-1,yt=0,Oi=Ae.length;for(dt instanceof Date||(dt=new Date(+dt));++Nt<Oi;)37===Ae.charCodeAt(Nt)&&(_e.push(Ae.slice(yt,Nt)),null!=(Ze=Ga[Fi=Ae.charAt(++Nt)])?Fi=Ae.charAt(++Nt):Ze="e"===Fi?" ":"0",(Ht=at[Fi])&&(Fi=Ht(dt,Ze)),_e.push(Fi),yt=Nt+1);return _e.push(Ae.slice(yt,Nt)),_e.join("")}}function Tt(Ae,at){return function(dt){var yt,Oi,_e=Cs(1900,void 0,1);if(wt(_e,Ae,dt+="",0)!=dt.length)return null;if("Q"in _e)return new Date(_e.Q);if("s"in _e)return new Date(1e3*_e.s+("L"in _e?_e.L:0));if(at&&!("Z"in _e)&&(_e.Z=0),"p"in _e&&(_e.H=_e.H%12+12*_e.p),void 0===_e.m&&(_e.m="q"in _e?_e.q:0),"V"in _e){if(_e.V<1||_e.V>53)return null;"w"in _e||(_e.w=1),"Z"in _e?(Oi=(yt=Xr(Cs(_e.y,0,1))).getUTCDay(),yt=Oi>4||0===Oi?Js.ceil(yt):Js(yt),yt=Na.offset(yt,7*(_e.V-1)),_e.y=yt.getUTCFullYear(),_e.m=yt.getUTCMonth(),_e.d=yt.getUTCDate()+(_e.w+6)%7):(Oi=(yt=Yr(Cs(_e.y,0,1))).getDay(),yt=Oi>4||0===Oi?Qs.ceil(yt):Qs(yt),yt=za.offset(yt,7*(_e.V-1)),_e.y=yt.getFullYear(),_e.m=yt.getMonth(),_e.d=yt.getDate()+(_e.w+6)%7)}else("W"in _e||"U"in _e)&&("w"in _e||(_e.w="u"in _e?_e.u%7:"W"in _e?1:0),Oi="Z"in _e?Xr(Cs(_e.y,0,1)).getUTCDay():Yr(Cs(_e.y,0,1)).getDay(),_e.m=0,_e.d="W"in _e?(_e.w+6)%7+7*_e.W-(Oi+5)%7:_e.w+7*_e.U-(Oi+6)%7);return"Z"in _e?(_e.H+=_e.Z/100|0,_e.M+=_e.Z%100,Xr(_e)):Yr(_e)}}function wt(Ae,at,dt,_e){for(var Fi,Ze,Nt=0,yt=at.length,Oi=dt.length;Nt<yt;){if(_e>=Oi)return-1;if(37===(Fi=at.charCodeAt(Nt++))){if(Fi=at.charAt(Nt++),!(Ze=Ye[Fi in Ga?at.charAt(Nt++):Fi])||(_e=Ze(Ae,dt,_e))<0)return-1}else if(Fi!=dt.charCodeAt(_e++))return-1}return _e}return be.x=Be(e,be),be.X=Be(i,be),be.c=Be(n,be),He.x=Be(e,He),He.X=Be(i,He),He.c=Be(n,He),{format:function(Ae){var at=Be(Ae+="",be);return at.toString=function(){return Ae},at},parse:function(Ae){var at=Tt(Ae+="",!1);return at.toString=function(){return Ae},at},utcFormat:function(Ae){var at=Be(Ae+="",He);return at.toString=function(){return Ae},at},utcParse:function(Ae){var at=Tt(Ae+="",!0);return at.toString=function(){return Ae},at}}}(t),no=ns.format}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const Cd=kr(vs).right,ao=(kr(so),Cd);function Td(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}function Sd(t){return+t}var oo=[0,1];function ss(t){return t}function Wr(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:function wd(t){return function(){return t}}(isNaN(n)?NaN:.5)}function Ad(t,n,e){var i=t[0],s=t[1],a=n[0],c=n[1];return s<i?(i=Wr(s,i),a=e(c,a)):(i=Wr(i,s),a=e(a,c)),function(d){return a(i(d))}}function Ld(t,n,e){var i=Math.min(t.length,n.length)-1,s=new Array(i),a=new Array(i),c=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++c<i;)s[c]=Wr(t[c],t[c+1]),a[c]=e(n[c],n[c+1]);return function(d){var v=ao(t,d,1,i)-1;return a[v](s[v](d))}}function lo(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function co(){return function Ed(){var i,s,a,d,v,_,t=oo,n=oo,e=Ie,c=ss;function D(){var V=Math.min(t.length,n.length);return c!==ss&&(c=function kd(t,n){var e;return t>n&&(e=t,t=n,n=e),function(i){return Math.max(t,Math.min(n,i))}}(t[0],t[V-1])),d=V>2?Ld:Ad,v=_=null,k}function k(V){return null==V||isNaN(V=+V)?a:(v||(v=d(t.map(i),n,e)))(i(c(V)))}return k.invert=function(V){return c(s((_||(_=d(n,t.map(i),u)))(V)))},k.domain=function(V){return arguments.length?(t=Array.from(V,Sd),D()):t.slice()},k.range=function(V){return arguments.length?(n=Array.from(V),D()):n.slice()},k.rangeRound=function(V){return n=Array.from(V),e=Td,D()},k.clamp=function(V){return arguments.length?(c=!!V||ss,D()):c!==ss},k.interpolate=function(V){return arguments.length?(e=V,D()):e},k.unknown=function(V){return arguments.length?(a=V,k):a},function(V,ee){return i=V,s=ee,D()}}()(ss,ss)}function Ss(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function Md(t){return new Date(t)}function Od(t){return t instanceof Date?+t:+new Date(+t)}function ho(t,n,e,i,s,a,c,d,v,_){var D=co(),k=D.invert,V=D.domain,ee=_(".%L"),me=_(":%S"),Pe=_("%I:%M"),J=_("%I %p"),Ce=_("%a %d"),Re=_("%b %d"),be=_("%B"),He=_("%Y");function Ye(Be){return(v(Be)<Be?ee:d(Be)<Be?me:c(Be)<Be?Pe:a(Be)<Be?J:i(Be)<Be?s(Be)<Be?Ce:Re:e(Be)<Be?be:He)(Be)}return D.invert=function(Be){return new Date(k(Be))},D.domain=function(Be){return arguments.length?V(Array.from(Be,Od)):V().map(Md)},D.ticks=function(Be){var Tt=V();return t(Tt[0],Tt[Tt.length-1],Be??10)},D.tickFormat=function(Be,Tt){return null==Tt?Ye:_(Tt)},D.nice=function(Be){var Tt=V();return(!Be||"function"!=typeof Be.range)&&(Be=n(Tt[0],Tt[Tt.length-1],Be??10)),Be?V(function Dd(t,n){var c,e=0,i=(t=t.slice()).length-1,s=t[e],a=t[i];return a<s&&(c=e,e=i,i=c,c=s,s=a,a=c),t[e]=n.floor(s),t[i]=n.ceil(a),t}(Tt,Be)):D},D.copy=function(){return lo(D,ho(t,n,e,i,s,a,c,d,v,_))},D}function uo(){return Ss.apply(ho(lh,ch,qs,Br,Rr,Pr,Ir,Fr,es,no).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var mo,Fd=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ks(t){if(!(n=Fd.exec(t)))throw new Error("invalid format: "+t);var n;return new jr({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function jr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function er(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,i=t.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+t.slice(e+1)]}function rs(t){return(t=er(Math.abs(t)))?t[1]:NaN}function po(t,n){var e=er(t,n);if(!e)return t+"";var i=e[0],s=e[1];return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")}Ks.prototype=jr.prototype,jr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const go={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function Id(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>po(100*t,n),r:po,s:function Nd(t,n){var e=er(t,n);if(!e)return t+"";var i=e[0],s=e[1],a=s-(mo=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,c=i.length;return a===c?i:a>c?i+new Array(a-c+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+er(t,Math.max(0,n+a-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function fo(t){return t}var tr,xo,yo,_o=Array.prototype.map,vo=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Xd(t){var n=t.domain;return t.ticks=function(e){var i=n();return function Zc(t,n,e){if(!((e=+e)>0))return[];if((t=+t)==(n=+n))return[t];const i=n<t,[s,a,c]=i?Us(n,t,e):Us(t,n,e);if(!(a>=s))return[];const d=a-s+1,v=new Array(d);if(i)if(c<0)for(let _=0;_<d;++_)v[_]=(a-_)/-c;else for(let _=0;_<d;++_)v[_]=(a-_)*c;else if(c<0)for(let _=0;_<d;++_)v[_]=(s+_)/-c;else for(let _=0;_<d;++_)v[_]=(s+_)*c;return v}(i[0],i[i.length-1],e??10)},t.tickFormat=function(e,i){var s=n();return function Yd(t,n,e,i){var a,s=Lr(t,n,e);switch((i=Ks(i??",f")).type){case"s":var c=Math.max(Math.abs(t),Math.abs(n));return null==i.precision&&!isNaN(a=function Pd(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(rs(n)/3)))-rs(Math.abs(t)))}(s,c))&&(i.precision=a),yo(i,c);case"":case"e":case"g":case"p":case"r":null==i.precision&&!isNaN(a=function zd(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,rs(n)-rs(t))+1}(s,Math.max(Math.abs(t),Math.abs(n))))&&(i.precision=a-("e"===i.type));break;case"f":case"%":null==i.precision&&!isNaN(a=function Gd(t){return Math.max(0,-rs(Math.abs(t)))}(s))&&(i.precision=a-2*("%"===i.type))}return xo(i)}(s[0],s[s.length-1],e??10,i)},t.nice=function(e){null==e&&(e=10);var v,_,i=n(),s=0,a=i.length-1,c=i[s],d=i[a],D=10;for(d<c&&(_=c,c=d,d=_,_=s,s=a,a=_);D-- >0;){if((_=Ar(c,d,e))===v)return i[s]=c,i[a]=d,n(i);if(_>0)c=Math.floor(c/_)*_,d=Math.ceil(d/_)*_;else{if(!(_<0))break;c=Math.ceil(c*_)/_,d=Math.floor(d*_)/_}v=_}return t},t}function Nn(){var t=co();return t.copy=function(){return lo(t,Nn())},Ss.apply(t,arguments),Xd(t)}function bo(t,n,e){t=+t,n=+n,e=(s=arguments.length)<2?(n=t,t=0,1):s<3?1:+e;for(var i=-1,s=0|Math.max(0,Math.ceil((n-t)/e)),a=new Array(s);++i<s;)a[i]=t+i*e;return a}!function $d(t){tr=function Hd(t){var n=void 0===t.grouping||void 0===t.thousands?fo:function Rd(t,n){return function(e,i){for(var s=e.length,a=[],c=0,d=t[0],v=0;s>0&&d>0&&(v+d+1>i&&(d=Math.max(1,i-v)),a.push(e.substring(s-=d,s+d)),!((v+=d+1)>i));)d=t[c=(c+1)%t.length];return a.reverse().join(n)}}(_o.call(t.grouping,Number),t.thousands+""),e=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",s=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?fo:function Bd(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}(_o.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",d=void 0===t.minus?"\u2212":t.minus+"",v=void 0===t.nan?"NaN":t.nan+"";function _(k){var V=(k=Ks(k)).fill,ee=k.align,me=k.sign,Pe=k.symbol,J=k.zero,Ce=k.width,Re=k.comma,be=k.precision,He=k.trim,Ye=k.type;"n"===Ye?(Re=!0,Ye="g"):go[Ye]||(void 0===be&&(be=12),He=!0,Ye="g"),(J||"0"===V&&"="===ee)&&(J=!0,V="0",ee="=");var Be="$"===Pe?e:"#"===Pe&&/[boxX]/.test(Ye)?"0"+Ye.toLowerCase():"",Tt="$"===Pe?i:/[%p]/.test(Ye)?c:"",wt=go[Ye],Di=/[defgprs%]/.test(Ye);function Dt(ze){var kt,Zi,Ot,mi=Be,ft=Tt;if("c"===Ye)ft=wt(ze)+ft,ze="";else{var Ft=(ze=+ze)<0||1/ze<0;if(ze=isNaN(ze)?v:wt(Math.abs(ze),be),He&&(ze=function Vd(t){e:for(var s,n=t.length,e=1,i=-1;e<n;++e)switch(t[e]){case".":i=s=e;break;case"0":0===i&&(i=e),s=e;break;default:if(!+t[e])break e;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(s+1):t}(ze)),Ft&&0==+ze&&"+"!==me&&(Ft=!1),mi=(Ft?"("===me?me:d:"-"===me||"("===me?"":me)+mi,ft=("s"===Ye?vo[8+mo/3]:"")+ft+(Ft&&"("===me?")":""),Di)for(kt=-1,Zi=ze.length;++kt<Zi;)if(48>(Ot=ze.charCodeAt(kt))||Ot>57){ft=(46===Ot?s+ze.slice(kt+1):ze.slice(kt))+ft,ze=ze.slice(0,kt);break}}Re&&!J&&(ze=n(ze,1/0));var Mi=mi.length+ze.length+ft.length,xt=Mi<Ce?new Array(Ce-Mi+1).join(V):"";switch(Re&&J&&(ze=n(xt+ze,xt.length?Ce-ft.length:1/0),xt=""),ee){case"<":ze=mi+ze+ft+xt;break;case"=":ze=mi+xt+ze+ft;break;case"^":ze=xt.slice(0,Mi=xt.length>>1)+mi+ze+ft+xt.slice(Mi);break;default:ze=xt+mi+ze+ft}return a(ze)}return be=void 0===be?6:/[gprs]/.test(Ye)?Math.max(1,Math.min(21,be)):Math.max(0,Math.min(20,be)),Dt.toString=function(){return k+""},Dt}return{format:_,formatPrefix:function D(k,V){var ee=_(((k=Ks(k)).type="f",k)),me=3*Math.max(-8,Math.min(8,Math.floor(rs(V)/3))),Pe=Math.pow(10,-me),J=vo[8+me/3];return function(Ce){return ee(Pe*Ce)+J}}}}(t),xo=tr.format,yo=tr.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});class Co extends Map{constructor(n,e=So){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=n)for(const[i,s]of n)this.set(i,s)}get(n){return super.get(Ur(this,n))}has(n){return super.has(Ur(this,n))}set(n,e){return super.set(To(this,n),e)}delete(n){return super.delete(wo(this,n))}}class hf extends Set{constructor(n,e=So){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=n)for(const i of n)this.add(i)}has(n){return super.has(Ur(this,n))}add(n){return super.add(To(this,n))}delete(n){return super.delete(wo(this,n))}}function Ur({_intern:t,_key:n},e){const i=n(e);return t.has(i)?t.get(i):e}function To({_intern:t,_key:n},e){const i=n(e);return t.has(i)?t.get(i):(t.set(i,e),e)}function wo({_intern:t,_key:n},e){const i=n(e);return t.has(i)&&(e=t.get(i),t.delete(i)),e}function So(t){return null!==t&&"object"==typeof t?t.valueOf():t}const ko=Symbol("implicit");function Zr(){var t=new Co,n=[],e=[],i=ko;function s(a){let c=t.get(a);if(void 0===c){if(i!==ko)return i;t.set(a,c=n.push(a)-1)}return e[c%e.length]}return s.domain=function(a){if(!arguments.length)return n.slice();n=[],t=new Co;for(const c of a)t.has(c)||t.set(c,n.push(c)-1);return s},s.range=function(a){return arguments.length?(e=Array.from(a),s):e.slice()},s.unknown=function(a){return arguments.length?(i=a,s):i},s.copy=function(){return Zr(n,e).unknown(i)},Ss.apply(s,arguments),s}function qr(){var a,c,t=Zr().unknown(void 0),n=t.domain,e=t.range,i=0,s=1,d=!1,v=0,_=0,D=.5;function k(){var V=n().length,ee=s<i,me=ee?s:i,Pe=ee?i:s;a=(Pe-me)/Math.max(1,V-v+2*_),d&&(a=Math.floor(a)),me+=(Pe-me-a*(V-v))*D,c=a*(1-v),d&&(me=Math.round(me),c=Math.round(c));var J=bo(V).map(function(Ce){return me+a*Ce});return e(ee?J.reverse():J)}return delete t.unknown,t.domain=function(V){return arguments.length?(n(V),k()):n()},t.range=function(V){return arguments.length?([i,s]=V,i=+i,s=+s,k()):[i,s]},t.rangeRound=function(V){return[i,s]=V,i=+i,s=+s,d=!0,k()},t.bandwidth=function(){return c},t.step=function(){return a},t.round=function(V){return arguments.length?(d=!!V,k()):d},t.padding=function(V){return arguments.length?(v=Math.min(1,_=+V),k()):v},t.paddingInner=function(V){return arguments.length?(v=Math.min(1,V),k()):v},t.paddingOuter=function(V){return arguments.length?(_=+V,k()):_},t.align=function(V){return arguments.length?(D=Math.max(0,Math.min(1,V)),k()):D},t.copy=function(){return qr(n(),[i,s]).round(d).paddingInner(v).paddingOuter(_).align(D)},Ss.apply(k(),arguments)}function Ao(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Ao(n())},t}function Lo(){return Ao(qr.apply(null,arguments).paddingInner(1))}function Wd(t,n,e=so){if((i=t.length)&&!isNaN(n=+n)){if(n<=0||i<2)return+e(t[0],0,t);if(n>=1)return+e(t[i-1],i-1,t);var i,s=(i-1)*n,a=Math.floor(s),c=+e(t[a],a,t);return c+(+e(t[a+1],a+1,t)-c)*(s-a)}}function Eo(){var i,t=[],n=[],e=[];function s(){var c=0,d=Math.max(1,n.length);for(e=new Array(d-1);++c<d;)e[c-1]=Wd(t,c/d);return a}function a(c){return null==c||isNaN(c=+c)?i:n[ao(e,c)]}return a.invertExtent=function(c){var d=n.indexOf(c);return d<0?[NaN,NaN]:[d>0?e[d-1]:t[0],d<e.length?e[d]:t[t.length-1]]},a.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let d of c)null!=d&&!isNaN(d=+d)&&t.push(d);return t.sort(vs),s()},a.range=function(c){return arguments.length?(n=Array.from(c),s()):n.slice()},a.unknown=function(c){return arguments.length?(i=c,a):i},a.quantiles=function(){return e.slice()},a.copy=function(){return Eo().domain(t).range(n).unknown(i)},Ss.apply(a,arguments)}function Do(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function ui(t){return function(){return t}}function Mo(t){this._context=t}function Jr(t){return new Mo(t)}Mo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};const Qr=Math.PI,Kr=2*Qr,Hn=1e-6,jd=Kr-Hn;function Oo(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}class ir{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==n?Oo:function Ud(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return Oo;const e=10**n;return function(i){this._+=i[0];for(let s=1,a=i.length;s<a;++s)this._+=Math.round(arguments[s]*e)/e+i[s]}}(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,i,s){this._append`Q${+n},${+e},${this._x1=+i},${this._y1=+s}`}bezierCurveTo(n,e,i,s,a,c){this._append`C${+n},${+e},${+i},${+s},${this._x1=+a},${this._y1=+c}`}arcTo(n,e,i,s,a){if(n=+n,e=+e,i=+i,s=+s,(a=+a)<0)throw new Error(`negative radius: ${a}`);let c=this._x1,d=this._y1,v=i-n,_=s-e,D=c-n,k=d-e,V=D*D+k*k;if(null===this._x1)this._append`M${this._x1=n},${this._y1=e}`;else if(V>Hn)if(Math.abs(k*v-_*D)>Hn&&a){let ee=i-c,me=s-d,Pe=v*v+_*_,J=ee*ee+me*me,Ce=Math.sqrt(Pe),Re=Math.sqrt(V),be=a*Math.tan((Qr-Math.acos((Pe+V-J)/(2*Ce*Re)))/2),He=be/Re,Ye=be/Ce;Math.abs(He-1)>Hn&&this._append`L${n+He*D},${e+He*k}`,this._append`A${a},${a},0,0,${+(k*ee>D*me)},${this._x1=n+Ye*v},${this._y1=e+Ye*_}`}else this._append`L${this._x1=n},${this._y1=e}`}arc(n,e,i,s,a,c){if(n=+n,e=+e,c=!!c,(i=+i)<0)throw new Error(`negative radius: ${i}`);let d=i*Math.cos(s),v=i*Math.sin(s),_=n+d,D=e+v,k=1^c,V=c?s-a:a-s;null===this._x1?this._append`M${_},${D}`:(Math.abs(this._x1-_)>Hn||Math.abs(this._y1-D)>Hn)&&this._append`L${_},${D}`,i&&(V<0&&(V=V%Kr+Kr),V>jd?this._append`A${i},${i},0,1,${k},${n-d},${e-v}A${i},${i},0,1,${k},${this._x1=_},${this._y1=D}`:V>Hn&&this._append`A${i},${i},0,${+(V>=Qr)},${k},${this._x1=n+i*Math.cos(a)},${this._y1=e+i*Math.sin(a)}`)}rect(n,e,i,s){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${i=+i}v${+s}h${-i}Z`}toString(){return this._}}function Fo(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(null==e)n=null;else{const i=Math.floor(e);if(!(i>=0))throw new RangeError(`invalid digits: ${e}`);n=i}return t},()=>new ir(n)}function Io(t){return t[0]}function Po(t){return t[1]}function Ro(t,n){var e=ui(!0),i=null,s=Jr,a=null,c=Fo(d);function d(v){var _,k,ee,D=(v=Do(v)).length,V=!1;for(null==i&&(a=s(ee=c())),_=0;_<=D;++_)!(_<D&&e(k=v[_],_,v))===V&&((V=!V)?a.lineStart():a.lineEnd()),V&&a.point(+t(k,_,v),+n(k,_,v));if(ee)return a=null,ee+""||null}return t="function"==typeof t?t:void 0===t?Io:ui(t),n="function"==typeof n?n:void 0===n?Po:ui(n),d.x=function(v){return arguments.length?(t="function"==typeof v?v:ui(+v),d):t},d.y=function(v){return arguments.length?(n="function"==typeof v?v:ui(+v),d):n},d.defined=function(v){return arguments.length?(e="function"==typeof v?v:ui(!!v),d):e},d.curve=function(v){return arguments.length?(s=v,null!=i&&(a=s(i)),d):s},d.context=function(v){return arguments.length?(null==v?i=a=null:a=s(i=v),d):i},d}function Bo(t,n,e){var i=null,s=ui(!0),a=null,c=Jr,d=null,v=Fo(_);function _(k){var V,ee,me,J,Re,Pe=(k=Do(k)).length,Ce=!1,be=new Array(Pe),He=new Array(Pe);for(null==a&&(d=c(Re=v())),V=0;V<=Pe;++V){if(!(V<Pe&&s(J=k[V],V,k))===Ce)if(Ce=!Ce)ee=V,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),me=V-1;me>=ee;--me)d.point(be[me],He[me]);d.lineEnd(),d.areaEnd()}Ce&&(be[V]=+t(J,V,k),He[V]=+n(J,V,k),d.point(i?+i(J,V,k):be[V],e?+e(J,V,k):He[V]))}if(Re)return d=null,Re+""||null}function D(){return Ro().defined(s).curve(c).context(a)}return t="function"==typeof t?t:void 0===t?Io:ui(+t),n="function"==typeof n?n:ui(void 0===n?0:+n),e="function"==typeof e?e:void 0===e?Po:ui(+e),_.x=function(k){return arguments.length?(t="function"==typeof k?k:ui(+k),i=null,_):t},_.x0=function(k){return arguments.length?(t="function"==typeof k?k:ui(+k),_):t},_.x1=function(k){return arguments.length?(i=null==k?null:"function"==typeof k?k:ui(+k),_):i},_.y=function(k){return arguments.length?(n="function"==typeof k?k:ui(+k),e=null,_):n},_.y0=function(k){return arguments.length?(n="function"==typeof k?k:ui(+k),_):n},_.y1=function(k){return arguments.length?(e=null==k?null:"function"==typeof k?k:ui(+k),_):e},_.lineX0=_.lineY0=function(){return D().x(t).y(n)},_.lineY1=function(){return D().x(t).y(e)},_.lineX1=function(){return D().x(i).y(n)},_.defined=function(k){return arguments.length?(s="function"==typeof k?k:ui(!!k),_):s},_.curve=function(k){return arguments.length?(c=k,null!=a&&(d=c(a)),_):c},_.context=function(k){return arguments.length?(null==k?a=d=null:d=c(a=k),_):a},_}var qd=z(5126);const Jd=["caretElm"];function Qd(t,n){}const Kd=function(t){return{model:t}};function eu(t,n){if(1&t&&(r.TgZ(0,"span"),r.YNc(1,Qd,0,0,"ng-template",5),r.qZA()),2&t){const e=r.oxw();r.xp6(1),r.Q6J("ngTemplateOutlet",e.template)("ngTemplateOutletContext",r.VKq(2,Kd,e.context))}}function tu(t,n){if(1&t&&r._UZ(0,"span",6),2&t){const e=r.oxw();r.Q6J("innerHTML",e.title,r.oJD)}}function iu(t,n){if(1&t&&(r.TgZ(0,"header",4)(1,"span",5),r._uU(2),r.qZA()()),2&t){const e=r.oxw();r.xp6(2),r.Oqu(e.title)}}function nu(t,n){if(1&t){const e=r.EpF();r.TgZ(0,"li",6)(1,"ngx-charts-legend-entry",7),r.NdJ("select",function(s){r.CHM(e);const a=r.oxw();return r.KtG(a.labelClick.emit(s))})("activate",function(s){r.CHM(e);const a=r.oxw();return r.KtG(a.activate(s))})("deactivate",function(s){r.CHM(e);const a=r.oxw();return r.KtG(a.deactivate(s))}),r.qZA()()}if(2&t){const e=n.$implicit,i=r.oxw();r.xp6(1),r.Q6J("label",e.label)("formattedLabel",e.formattedLabel)("color",e.color)("isActive",i.isActive(e))}}function su(t,n){if(1&t&&(r.O4$(),r.kcU(),r._UZ(0,"ngx-charts-scale-legend",4)),2&t){const e=r.oxw();r.Q6J("horizontal",e.legendOptions&&e.legendOptions.position===e.LegendPosition.Below)("valueRange",e.legendOptions.domain)("colors",e.legendOptions.colors)("height",e.view[1])("width",e.legendWidth)}}function ru(t,n){if(1&t){const e=r.EpF();r.O4$(),r.kcU(),r.TgZ(0,"ngx-charts-legend",5),r.NdJ("labelClick",function(s){r.CHM(e);const a=r.oxw();return r.KtG(a.legendLabelClick.emit(s))})("labelActivate",function(s){r.CHM(e);const a=r.oxw();return r.KtG(a.legendLabelActivate.emit(s))})("labelDeactivate",function(s){r.CHM(e);const a=r.oxw();return r.KtG(a.legendLabelDeactivate.emit(s))}),r.qZA()}if(2&t){const e=r.oxw();r.Q6J("horizontal",e.legendOptions&&e.legendOptions.position===e.LegendPosition.Below)("data",e.legendOptions.domain)("title",e.legendOptions.title)("colors",e.legendOptions.colors)("height",e.view[1])("width",e.legendWidth)("activeEntries",e.activeEntries)}}const Vo=["*"],au=["ngx-charts-axis-label",""],No=["ticksel"],ou=["ngx-charts-x-axis-ticks",""];function lu(t,n){1&t&&(r.O4$(),r.GkF(0))}function cu(t,n){if(1&t&&(r.O4$(),r.TgZ(0,"tspan",10),r._uU(1),r.qZA()),2&t){const e=n.$implicit;r.uIk("y",12*n.index),r.xp6(1),r.hij(" ",e," ")}}function hu(t,n){if(1&t&&(r.O4$(),r.ynx(0),r.YNc(1,cu,2,2,"tspan",9),r.BQk()),2&t){const e=n.ngIf;r.xp6(1),r.Q6J("ngForOf",e)}}function du(t,n){if(1&t&&(r.O4$(),r.YNc(0,hu,2,1,"ng-container",4)),2&t){const e=r.oxw(2).$implicit,i=r.oxw();r.Q6J("ngIf",i.tickChunks(e))}}function uu(t,n){if(1&t&&(r.O4$(),r._uU(0)),2&t){const e=r.oxw().ngIf,i=r.oxw(2);r.hij(" ",i.tickTrim(e)," ")}}function mu(t,n){if(1&t&&(r.O4$(),r.ynx(0),r.TgZ(1,"title"),r._uU(2),r.qZA(),r.TgZ(3,"text",5),r.YNc(4,lu,1,0,"ng-container",6),r.qZA(),r.YNc(5,du,1,1,"ng-template",null,7,r.W1O),r.YNc(7,uu,1,1,"ng-template",null,8,r.W1O),r.BQk()),2&t){const e=n.ngIf,i=r.MAs(6),s=r.MAs(8),a=r.oxw(2);r.xp6(2),r.Oqu(e),r.xp6(1),r.uIk("text-anchor",a.textAnchor)("transform",a.textTransform),r.xp6(1),r.Q6J("ngIf",a.isWrapTicksSupported)("ngIfThen",i)("ngIfElse",s)}}function pu(t,n){if(1&t&&(r.O4$(),r.TgZ(0,"g",3),r.YNc(1,mu,9,6,"ng-container",4),r.qZA()),2&t){const e=n.$implicit,i=r.oxw();r.uIk("transform",i.tickTransform(e)),r.xp6(1),r.Q6J("ngIf",i.tickFormat(e))}}function gu(t,n){if(1&t&&(r.O4$(),r.TgZ(0,"g"),r._UZ(1,"line",11),r.qZA()),2&t){const e=r.oxw(2);r.uIk("transform",e.gridLineTransform()),r.xp6(1),r.uIk("y1",-e.gridLineHeight)}}function fu(t,n){if(1&t&&(r.O4$(),r.TgZ(0,"g"),r.YNc(1,gu,2,2,"g",4),r.qZA()),2&t){const e=n.$implicit,i=r.oxw();r.uIk("transform",i.tickTransform(e)),r.xp6(1),r.Q6J("ngIf",i.showGridLines)}}const _u=["ngx-charts-x-axis",""];function vu(t,n){if(1&t){const e=r.EpF();r.O4$(),r.TgZ(0,"g",2),r.NdJ("dimensionsChanged",function(s){r.CHM(e);const a=r.oxw();return r.KtG(a.emitTicksHeight(s))}),r.qZA()}if(2&t){const e=r.oxw();r.Q6J("trimTicks",e.trimTicks)("rotateTicks",e.rotateTicks)("maxTickLength",e.maxTickLength)("tickFormatting",e.tickFormatting)("tickArguments",e.tickArguments)("tickStroke",e.tickStroke)("scale",e.xScale)("orient",e.xOrient)("showGridLines",e.showGridLines)("gridLineHeight",e.dims.height)("width",e.dims.width)("tickValues",e.ticks)("wrapTicks",e.wrapTicks)}}function xu(t,n){if(1&t&&(r.O4$(),r._UZ(0,"g",3)),2&t){const e=r.oxw();r.Q6J("label",e.labelText)("offset",e.labelOffset)("orient",e.orientation.Bottom)("height",e.dims.height)("width",e.dims.width)}}const yu=["ngx-charts-y-axis-ticks",""];function bu(t,n){1&t&&(r.O4$(),r.GkF(0))}function Cu(t,n){if(1&t&&(r.O4$(),r.TgZ(0,"tspan",12),r._uU(1),r.qZA()),2&t){const e=n.$implicit,i=n.index,s=r.oxw(6);r.uIk("y",i*(8+s.tickSpacing)),r.xp6(1),r.hij(" ",e," ")}}function Tu(t,n){if(1&t&&(r.O4$(),r.ynx(0),r.YNc(1,Cu,2,2,"tspan",11),r.BQk()),2&t){const e=r.oxw().ngIf;r.xp6(1),r.Q6J("ngForOf",e)}}function wu(t,n){if(1&t&&(r.O4$(),r.ynx(0),r.YNc(1,Tu,2,1,"ng-container",10),r.BQk()),2&t){const e=n.ngIf;r.oxw(2);const i=r.MAs(8);r.xp6(1),r.Q6J("ngIf",e.length>1)("ngIfElse",i)}}function Su(t,n){if(1&t&&(r.O4$(),r.YNc(0,wu,2,2,"ng-container",5)),2&t){const e=r.oxw(2).$implicit,i=r.oxw();r.Q6J("ngIf",i.tickChunks(e))}}function ku(t,n){if(1&t&&(r.O4$(),r._uU(0)),2&t){const e=r.oxw().ngIf,i=r.oxw(2);r.hij(" ",i.tickTrim(e)," ")}}function Au(t,n){if(1&t&&(r.O4$(),r.ynx(0),r.TgZ(1,"title"),r._uU(2),r.qZA(),r.TgZ(3,"text",6),r.YNc(4,bu,1,0,"ng-container",7),r.qZA(),r.YNc(5,Su,1,1,"ng-template",null,8,r.W1O),r.YNc(7,ku,1,1,"ng-template",null,9,r.W1O),r.BQk()),2&t){const e=n.ngIf,i=r.MAs(6),s=r.MAs(8),a=r.oxw(2);r.xp6(2),r.Oqu(e),r.xp6(1),r.Udp("font-size","12px"),r.uIk("dy",a.dy)("x",a.x1)("y",a.y1)("text-anchor",a.textAnchor),r.xp6(1),r.Q6J("ngIf",a.wrapTicks)("ngIfThen",i)("ngIfElse",s)}}function Lu(t,n){if(1&t&&(r.O4$(),r.TgZ(0,"g",4),r.YNc(1,Au,9,10,"ng-container",5),r.qZA()),2&t){const e=n.$implicit,i=r.oxw();r.uIk("transform",i.transform(e)),r.xp6(1),r.Q6J("ngIf",i.tickFormat(e))}}function Eu(t,n){if(1&t&&(r.O4$(),r._UZ(0,"path",13)),2&t){const e=r.oxw();r.uIk("d",e.referenceAreaPath)("transform",e.gridLineTransform())}}function Du(t,n){if(1&t&&(r.O4$(),r._UZ(0,"line",15)),2&t){const e=r.oxw(3);r.uIk("x2",e.gridLineWidth)}}function Mu(t,n){if(1&t&&(r.O4$(),r._UZ(0,"line",15)),2&t){const e=r.oxw(3);r.uIk("x2",-e.gridLineWidth)}}function Ou(t,n){if(1&t&&(r.O4$(),r.TgZ(0,"g"),r.YNc(1,Du,1,1,"line",14),r.YNc(2,Mu,1,1,"line",14),r.qZA()),2&t){const e=r.oxw(2);r.uIk("transform",e.gridLineTransform()),r.xp6(1),r.Q6J("ngIf",e.orient===e.Orientation.Left),r.xp6(1),r.Q6J("ngIf",e.orient===e.Orientation.Right)}}function Fu(t,n){if(1&t&&(r.O4$(),r.TgZ(0,"g"),r.YNc(1,Ou,3,3,"g",5),r.qZA()),2&t){const e=n.$implicit,i=r.oxw();r.uIk("transform",i.transform(e)),r.xp6(1),r.Q6J("ngIf",i.showGridLines)}}function Iu(t,n){if(1&t&&(r.O4$(),r.TgZ(0,"g")(1,"title"),r._uU(2),r.qZA(),r.TgZ(3,"text",17),r._uU(4),r.qZA()()),2&t){const e=r.oxw(2).$implicit,i=r.oxw();r.xp6(2),r.Oqu(i.tickTrim(i.tickFormat(e.value))),r.xp6(1),r.uIk("dy",i.dy)("y",-6)("x",i.gridLineWidth)("text-anchor",i.textAnchor),r.xp6(1),r.hij(" ",e.name," ")}}function Pu(t,n){if(1&t&&(r.O4$(),r.TgZ(0,"g"),r._UZ(1,"line",16),r.YNc(2,Iu,5,6,"g",5),r.qZA()),2&t){const e=r.oxw().$implicit,i=r.oxw();r.uIk("transform",i.transform(e.value)),r.xp6(1),r.uIk("x2",i.gridLineWidth)("transform",i.gridLineTransform()),r.xp6(1),r.Q6J("ngIf",i.showRefLabels)}}function Ru(t,n){if(1&t&&(r.O4$(),r.TgZ(0,"g"),r.YNc(1,Pu,3,4,"g",5),r.qZA()),2&t){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",e.showRefLines)}}const Bu=["ngx-charts-y-axis",""];function Vu(t,n){if(1&t){const e=r.EpF();r.O4$(),r.TgZ(0,"g",2),r.NdJ("dimensionsChanged",function(s){r.CHM(e);const a=r.oxw();return r.KtG(a.emitTicksWidth(s))}),r.qZA()}if(2&t){const e=r.oxw();r.Q6J("trimTicks",e.trimTicks)("maxTickLength",e.maxTickLength)("tickFormatting",e.tickFormatting)("tickArguments",e.tickArguments)("tickValues",e.ticks)("tickStroke",e.tickStroke)("scale",e.yScale)("orient",e.yOrient)("showGridLines",e.showGridLines)("gridLineWidth",e.dims.width)("referenceLines",e.referenceLines)("showRefLines",e.showRefLines)("showRefLabels",e.showRefLabels)("height",e.dims.height)("wrapTicks",e.wrapTicks)}}function Nu(t,n){if(1&t&&(r.O4$(),r._UZ(0,"g",3)),2&t){const e=r.oxw();r.Q6J("label",e.labelText)("offset",e.labelOffset)("orient",e.yOrient)("height",e.dims.height)("width",e.dims.width)}}const Hu=["ngx-charts-svg-linear-gradient",""];function $u(t,n){if(1&t&&(r.O4$(),r._UZ(0,"stop")),2&t){const e=n.$implicit;r.Udp("stop-color",e.color)("stop-opacity",e.opacity),r.uIk("offset",e.offset+"%")}}const zu=["ngx-charts-circle",""],Gu=["ngx-charts-circle-series",""];function Yu(t,n){if(1&t&&(r.O4$(),r._UZ(0,"rect",4)),2&t){const e=r.oxw(2);r.Q6J("@animationState","active"),r.uIk("x",e.circle.cx-e.circle.radius)("y",e.circle.cy)("width",2*e.circle.radius)("height",e.circle.height)("fill",e.gradientFill)}}function Xu(t,n){if(1&t&&(r.O4$(),r._UZ(0,"rect",4)),2&t){const e=r.oxw(2);r.uIk("x",e.circle.cx-e.circle.radius)("y",e.circle.cy)("width",2*e.circle.radius)("height",e.circle.height)("fill",e.gradientFill)}}const Wu=function(t){return{name:t}};function ju(t,n){if(1&t){const e=r.EpF();r.O4$(),r.TgZ(0,"g")(1,"defs"),r._UZ(2,"g",1),r.qZA(),r.YNc(3,Yu,1,6,"rect",2),r.YNc(4,Xu,1,5,"rect",2),r.TgZ(5,"g",3),r.NdJ("select",function(){r.CHM(e);const s=r.oxw();return r.KtG(s.onClick(s.circle.data))})("activate",function(){r.CHM(e);const s=r.oxw();return r.KtG(s.activateCircle())})("deactivate",function(){r.CHM(e);const s=r.oxw();return r.KtG(s.deactivateCircle())}),r.qZA()()}if(2&t){const e=r.oxw();r.xp6(2),r.Q6J("orientation",e.barOrientation.Vertical)("name",e.gradientId)("stops",e.circle.gradientStops),r.xp6(1),r.Q6J("ngIf",!e.isSSR&&e.barVisible&&"standard"===e.type),r.xp6(1),r.Q6J("ngIf",e.isSSR&&e.barVisible&&"standard"===e.type),r.xp6(1),r.ekj("active",e.isActive(r.VKq(20,Wu,e.circle.seriesName))),r.Q6J("cx",e.circle.cx)("cy",e.circle.cy)("r",e.circle.radius)("fill",e.circle.color)("pointerEvents",0===e.circle.value?"none":"all")("data",e.circle.value)("classNames",e.circle.classNames)("tooltipDisabled",e.tooltipDisabled)("tooltipPlacement",e.placementTypes.Top)("tooltipType",e.styleTypes.tooltip)("tooltipTitle",e.tooltipTemplate?void 0:e.getTooltipText(e.circle))("tooltipTemplate",e.tooltipTemplate)("tooltipContext",e.circle.data)}}const Ku=["ngx-charts-area",""];function em(t,n){if(1&t&&(r.O4$(),r.TgZ(0,"defs"),r._UZ(1,"g",2),r.qZA()),2&t){const e=r.oxw();r.xp6(1),r.Q6J("orientation",e.barOrientation.Vertical)("name",e.gradientId)("stops",e.gradientStops)}}const im=["tooltipAnchor"],nm=["ngx-charts-tooltip-area",""];function sm(t,n){if(1&t&&(r.TgZ(0,"div",6),r._UZ(1,"span",7),r._uU(2),r.qZA()),2&t){const e=n.$implicit,i=r.oxw(2);r.xp6(1),r.Udp("background-color",e.color),r.xp6(1),r.hij(" ",i.getToolTipText(e)," ")}}function rm(t,n){if(1&t&&(r.O4$(),r.kcU(),r.TgZ(0,"div",4),r.YNc(1,sm,3,3,"div",5),r.qZA()),2&t){const e=n.model;r.xp6(1),r.Q6J("ngForOf",e)}}const am=["ngx-charts-timeline",""],pm=["tooltipTemplate"],gm=["seriesTooltipTemplate"],ks=function(t,n){return[t,n]},Ym=["ngx-charts-line",""];function Xm(t,n){if(1&t&&(r.O4$(),r.TgZ(0,"g"),r._UZ(1,"path",1),r.qZA()),2&t){const e=r.oxw();r.xp6(1),r.Q6J("@animationState","active"),r.uIk("d",e.initialPath)("fill",e.fill)("stroke",e.stroke)}}function Wm(t,n){if(1&t&&(r.O4$(),r.TgZ(0,"g"),r._UZ(1,"path",1),r.qZA()),2&t){const e=r.oxw();r.xp6(1),r.uIk("d",e.initialPath)("fill",e.fill)("stroke",e.stroke)}}const jm=["ngx-charts-line-series",""];function Um(t,n){if(1&t&&(r.O4$(),r._UZ(0,"g",4)),2&t){const e=r.oxw();r.Q6J("orientation",e.barOrientation.Vertical)("name",e.gradientId)("stops",e.gradientStops)}}function Zm(t,n){if(1&t&&(r.O4$(),r._UZ(0,"g",5)),2&t){const e=r.oxw();r.ekj("active",e.isActive(e.data))("inactive",e.isInactive(e.data)),r.Q6J("data",e.data)("path",e.outerPath)("fill",e.hasGradient?e.gradientUrl:e.colors.getColor(e.data.name))("opacity",e.rangeFillOpacity)("animations",e.animations)}}function qm(t,n){if(1&t){const e=r.EpF();r.O4$(),r.TgZ(0,"g",7),r.NdJ("dimensionsChanged",function(s){r.CHM(e);const a=r.oxw();return r.KtG(a.updateXAxisHeight(s))}),r.qZA()}if(2&t){const e=r.oxw();r.Q6J("xScale",e.xScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showXAxisLabel)("labelText",e.xAxisLabel)("trimTicks",e.trimXAxisTicks)("rotateTicks",e.rotateXAxisTicks)("maxTickLength",e.maxXAxisTickLength)("tickFormatting",e.xAxisTickFormatting)("ticks",e.xAxisTicks)("wrapTicks",e.wrapTicks)}}function Jm(t,n){if(1&t){const e=r.EpF();r.O4$(),r.TgZ(0,"g",8),r.NdJ("dimensionsChanged",function(s){r.CHM(e);const a=r.oxw();return r.KtG(a.updateYAxisWidth(s))}),r.qZA()}if(2&t){const e=r.oxw();r.Q6J("yScale",e.yScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showYAxisLabel)("labelText",e.yAxisLabel)("trimTicks",e.trimYAxisTicks)("maxTickLength",e.maxYAxisTickLength)("tickFormatting",e.yAxisTickFormatting)("ticks",e.yAxisTicks)("referenceLines",e.referenceLines)("showRefLines",e.showRefLines)("showRefLabels",e.showRefLabels)("wrapTicks",e.wrapTicks)}}function Qm(t,n){if(1&t&&(r.O4$(),r.TgZ(0,"g"),r._UZ(1,"g",10),r.qZA()),2&t){const e=n.$implicit,i=r.oxw(2);r.Q6J("@animationState","active"),r.xp6(1),r.Q6J("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",e)("activeEntries",i.activeEntries)("scaleType",i.scaleType)("curve",i.curve)("rangeFillOpacity",i.rangeFillOpacity)("hasRange",i.hasRange)("animations",i.animations)}}function Km(t,n){if(1&t&&(r.O4$(),r.TgZ(0,"g"),r.YNc(1,Qm,2,11,"g",9),r.qZA()),2&t){const e=r.oxw();r.xp6(1),r.Q6J("ngForOf",e.results)("ngForTrackBy",e.trackBy)}}function ep(t,n){if(1&t&&(r.O4$(),r.TgZ(0,"g"),r._UZ(1,"g",10),r.qZA()),2&t){const e=n.$implicit,i=r.oxw(2);r.xp6(1),r.Q6J("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",e)("activeEntries",i.activeEntries)("scaleType",i.scaleType)("curve",i.curve)("rangeFillOpacity",i.rangeFillOpacity)("hasRange",i.hasRange)("animations",i.animations)}}function tp(t,n){if(1&t&&(r.O4$(),r.TgZ(0,"g"),r.YNc(1,ep,2,10,"g",9),r.qZA()),2&t){const e=r.oxw();r.xp6(1),r.Q6J("ngForOf",e.results)("ngForTrackBy",e.trackBy)}}function ip(t,n){if(1&t){const e=r.EpF();r.O4$(),r.TgZ(0,"g")(1,"g",14),r.NdJ("select",function(s){r.CHM(e);const a=r.oxw(2);return r.KtG(a.onClick(s))})("activate",function(s){r.CHM(e);const a=r.oxw(2);return r.KtG(a.onActivate(s))})("deactivate",function(s){r.CHM(e);const a=r.oxw(2);return r.KtG(a.onDeactivate(s))}),r.qZA()()}if(2&t){const e=n.$implicit,i=r.oxw(2);r.xp6(1),r.Q6J("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",e)("scaleType",i.scaleType)("visibleValue",i.hoveredVertical)("activeEntries",i.activeEntries)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.tooltipTemplate)}}function np(t,n){if(1&t){const e=r.EpF();r.O4$(),r.TgZ(0,"g",11),r.NdJ("mouseleave",function(){r.CHM(e);const s=r.oxw();return r.KtG(s.hideCircles())}),r.TgZ(1,"g",12),r.NdJ("hover",function(s){r.CHM(e);const a=r.oxw();return r.KtG(a.updateHoveredVertical(s))}),r.qZA(),r.YNc(2,ip,2,9,"g",13),r.qZA()}if(2&t){const e=r.oxw();r.xp6(1),r.Q6J("dims",e.dims)("xSet",e.xSet)("xScale",e.xScale)("yScale",e.yScale)("results",e.results)("colors",e.colors)("tooltipDisabled",e.tooltipDisabled)("tooltipTemplate",e.seriesTooltipTemplate),r.xp6(1),r.Q6J("ngForOf",e.results)}}function sp(t,n){if(1&t&&(r.O4$(),r.TgZ(0,"g"),r._UZ(1,"g",16),r.qZA()),2&t){const e=n.$implicit,i=r.oxw(2);r.xp6(1),r.Q6J("xScale",i.timelineXScale)("yScale",i.timelineYScale)("colors",i.colors)("data",e)("scaleType",i.scaleType)("curve",i.curve)("hasRange",i.hasRange)("animations",i.animations)}}function rp(t,n){if(1&t){const e=r.EpF();r.O4$(),r.TgZ(0,"g",15),r.NdJ("onDomainChange",function(s){r.CHM(e);const a=r.oxw();return r.KtG(a.updateDomain(s))}),r.YNc(1,sp,2,8,"g",9),r.qZA()}if(2&t){const e=r.oxw();r.Q6J("results",e.results)("view",r.WLB(10,ks,e.timelineWidth,e.height))("height",e.timelineHeight)("scheme",e.scheme)("customColors",e.customColors)("scaleType",e.scaleType)("legend",e.legend),r.uIk("transform",e.timelineTransform),r.xp6(1),r.Q6J("ngForOf",e.results)("ngForTrackBy",e.trackBy)}}function xp(t,n,e){e=e||{};let i,s,a,c=null,d=0;function v(){d=!1===e.leading?0:+new Date,c=null,a=t.apply(i,s)}return function(){const _=+new Date;!d&&!1===e.leading&&(d=_);const D=n-(_-d);return i=this,s=arguments,D<=0?(clearTimeout(c),c=null,d=_,a=t.apply(i,s)):!c&&!1!==e.trailing&&(c=setTimeout(v,D)),a}}function yp(t,n){return function(i,s,a){return{configurable:!0,enumerable:a.enumerable,get:function(){return Object.defineProperty(this,s,{configurable:!0,enumerable:a.enumerable,value:xp(a.value,t,n)}),this[s]}}}}var lt=(()=>{return(t=lt||(lt={})).Top="top",t.Bottom="bottom",t.Left="left",t.Right="right",t.Center="center",lt;var t})();const wn=7;function Ho(t,n,e){return e===lt.Top?t.top-wn:e===lt.Bottom?t.top+t.height-n.height+wn:e===lt.Center?t.top+t.height/2-n.height/2:void 0}function $o(t,n,e){return e===lt.Left?t.left-wn:e===lt.Right?t.left+t.width-n.width+wn:e===lt.Center?t.left+t.width/2-n.width/2:void 0}class ji{static calculateVerticalAlignment(n,e,i){let s=Ho(n,e,i);return s+e.height>window.innerHeight&&(s=window.innerHeight-e.height),s}static calculateVerticalCaret(n,e,i,s){let a;s===lt.Top&&(a=n.height/2-i.height/2+wn),s===lt.Bottom&&(a=e.height-n.height/2-i.height/2-wn),s===lt.Center&&(a=e.height/2-i.height/2);const c=Ho(n,e,s);return c+e.height>window.innerHeight&&(a+=c+e.height-window.innerHeight),a}static calculateHorizontalAlignment(n,e,i){let s=$o(n,e,i);return s+e.width>window.innerWidth&&(s=window.innerWidth-e.width),s}static calculateHorizontalCaret(n,e,i,s){let a;s===lt.Left&&(a=n.width/2-i.width/2+wn),s===lt.Right&&(a=e.width-n.width/2-i.width/2-wn),s===lt.Center&&(a=e.width/2-i.width/2);const c=$o(n,e,s);return c+e.width>window.innerWidth&&(a+=c+e.width-window.innerWidth),a}static shouldFlip(n,e,i,s){let a=!1;return i===lt.Right&&n.left+n.width+e.width+s>window.innerWidth&&(a=!0),i===lt.Left&&n.left-e.width-s<0&&(a=!0),i===lt.Top&&n.top-e.height-s<0&&(a=!0),i===lt.Bottom&&n.top+n.height+e.height+s>window.innerHeight&&(a=!0),a}static positionCaret(n,e,i,s,a){let c=0,d=0;return n===lt.Right?(d=-7,c=ji.calculateVerticalCaret(i,e,s,a)):n===lt.Left?(d=e.width,c=ji.calculateVerticalCaret(i,e,s,a)):n===lt.Top?(c=e.height,d=ji.calculateHorizontalCaret(i,e,s,a)):n===lt.Bottom&&(c=-7,d=ji.calculateHorizontalCaret(i,e,s,a)),{top:c,left:d}}static positionContent(n,e,i,s,a){let c=0,d=0;return n===lt.Right?(d=i.left+i.width+s,c=ji.calculateVerticalAlignment(i,e,a)):n===lt.Left?(d=i.left-e.width-s,c=ji.calculateVerticalAlignment(i,e,a)):n===lt.Top?(c=i.top-e.height-s,d=ji.calculateHorizontalAlignment(i,e,a)):n===lt.Bottom&&(c=i.top+i.height+s,d=ji.calculateHorizontalAlignment(i,e,a)),{top:c,left:d}}static determinePlacement(n,e,i,s){if(ji.shouldFlip(i,e,n,s)){if(n===lt.Right)return lt.Left;if(n===lt.Left)return lt.Right;if(n===lt.Top)return lt.Bottom;if(n===lt.Bottom)return lt.Top}return n}}let bp=(()=>{class t{constructor(e,i,s){this.element=e,this.renderer=i,this.platformId=s}get cssClasses(){let e="ngx-charts-tooltip-content";return e+=` position-${this.placement}`,e+=` type-${this.type}`,e+=` ${this.cssClass}`,e}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!(0,I.NF)(this.platformId))return;const e=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;const s=e.getBoundingClientRect();this.checkFlip(i,s),this.positionContent(e,i,s),this.showCaret&&this.positionCaret(i,s),setTimeout(()=>this.renderer.addClass(e,"animate"),1)}positionContent(e,i,s){const{top:a,left:c}=ji.positionContent(this.placement,s,i,this.spacing,this.alignment);this.renderer.setStyle(e,"top",`${a}px`),this.renderer.setStyle(e,"left",`${c}px`)}positionCaret(e,i){const s=this.caretElm.nativeElement,a=s.getBoundingClientRect(),{top:c,left:d}=ji.positionCaret(this.placement,i,e,a,this.alignment);this.renderer.setStyle(s,"top",`${c}px`),this.renderer.setStyle(s,"left",`${d}px`)}checkFlip(e,i){this.placement=ji.determinePlacement(this.placement,i,e,this.spacing)}onWindowResize(){this.position()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(r.Lbi))},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngx-tooltip-content"]],viewQuery:function(e,i){if(1&e&&r.Gf(Jd,5),2&e){let s;r.iGM(s=r.CRH())&&(i.caretElm=s.first)}},hostVars:2,hostBindings:function(e,i){1&e&&r.NdJ("resize",function(){return i.onWindowResize()},!1,r.Jf7),2&e&&r.Tol(i.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(e,i){1&e&&(r.TgZ(0,"div"),r._UZ(1,"span",0,1),r.TgZ(3,"div",2),r.YNc(4,eu,2,4,"span",3),r.YNc(5,tu,1,1,"span",4),r.qZA()()),2&e&&(r.xp6(1),r.Gre("tooltip-caret position-",i.placement,""),r.Q6J("hidden",!i.showCaret),r.xp6(3),r.Q6J("ngIf",!i.title),r.xp6(1),r.Q6J("ngIf",i.title))},dependencies:[I.O5,I.tP],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\n"],encapsulation:2}),(0,oe.gn)([yp(100)],t.prototype,"onWindowResize",null),t})();class Cp{constructor(n){this.injectionService=n,this.defaults={},this.components=new Map}getByType(n=this.type){return this.components.get(n)}create(n){return this.createByType(this.type,n)}createByType(n,e){e=this.assignDefaults(e);const i=this.injectComponent(n,e);return this.register(n,i),i}destroy(n){const e=this.components.get(n.componentType);if(e&&e.length){const i=e.indexOf(n);i>-1&&(e[i].destroy(),e.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(n){const e=this.components.get(n);if(e&&e.length){let i=e.length-1;for(;i>=0;)this.destroy(e[i--])}}injectComponent(n,e){return this.injectionService.appendComponent(n,e)}assignDefaults(n){const e={...this.defaults.inputs},i={...this.defaults.outputs};return!n.inputs&&!n.outputs&&(n={inputs:n}),e&&(n.inputs={...e,...n.inputs}),i&&(n.outputs={...i,...n.outputs}),n}register(n,e){this.components.has(n)||this.components.set(n,[]),this.components.get(n).push(e)}}let zo=(()=>{class t{constructor(e,i,s){this.applicationRef=e,this.componentFactoryResolver=i,this.injector=s}static setGlobalRootViewContainer(e){t.globalRootViewContainer=e}getRootViewContainer(){if(this._container)return this._container;if(t.globalRootViewContainer)return t.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(e){this._container=e}getComponentRootNode(e){return function Tp(t){return t.element}(e)?e.element.nativeElement:e.hostView&&e.hostView.rootNodes.length>0?e.hostView.rootNodes[0]:e.location.nativeElement}getRootViewContainerNode(e){return this.getComponentRootNode(e)}projectComponentBindings(e,i){if(i){if(void 0!==i.inputs){const s=Object.getOwnPropertyNames(i.inputs);for(const a of s)e.instance[a]=i.inputs[a]}if(void 0!==i.outputs){const s=Object.getOwnPropertyNames(i.outputs);for(const a of s)e.instance[a]=i.outputs[a]}}return e}appendComponent(e,i={},s){s||(s=this.getRootViewContainer());const a=this.getComponentRootNode(s),c=new De.u0(a,this.componentFactoryResolver,this.applicationRef,this.injector),d=new De.C5(e),v=c.attach(d);return this.projectComponentBindings(v,i),v}}return t.globalRootViewContainer=null,t.\u0275fac=function(e){return new(e||t)(r.LFG(r.z2F),r.LFG(r._Vd),r.LFG(r.zs3))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),ea=(()=>{class t extends Cp{constructor(e){super(e),this.type=bp}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(zo))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();var bn=(()=>{return(t=bn||(bn={})).Right="right",t.Below="below",bn;var t})(),$n=(()=>{return(t=$n||($n={})).ScaleLegend="scaleLegend",t.Legend="legend",$n;var t})(),Se=(()=>{return(t=Se||(Se={})).Time="time",t.Linear="linear",t.Ordinal="ordinal",t.Quantile="quantile",Se;var t})();let Go=(()=>{class t{constructor(){this.horizontal=!1}ngOnChanges(e){const i=this.gradientString(this.colors.range(),this.colors.domain());this.gradient=`linear-gradient(to ${this.horizontal?"right":"bottom"}, ${i})`}gradientString(e,i){i.push(1);const s=[];return e.reverse().forEach((a,c)=>{s.push(`${a} ${Math.round(100*i[c])}%`)}),s.join(", ")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngx-charts-scale-legend"]],inputs:{valueRange:"valueRange",colors:"colors",height:"height",width:"width",horizontal:"horizontal"},features:[r.TTD],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1)(2,"span"),r._uU(3),r.qZA()(),r._UZ(4,"div",2),r.TgZ(5,"div",1)(6,"span"),r._uU(7),r.qZA()()()),2&e&&(r.Udp("height",i.horizontal?void 0:i.height,"px")("width",i.width,"px"),r.ekj("horizontal-legend",i.horizontal),r.xp6(3),r.Oqu(i.valueRange[1].toLocaleString()),r.xp6(1),r.Udp("background",i.gradient),r.xp6(3),r.Oqu(i.valueRange[0].toLocaleString()))},styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}\n"],encapsulation:2,changeDetection:0}),t})();function ta(t){return t instanceof Date?t.toLocaleDateString():t.toLocaleString()}function Yo(t){return t.toLocaleString().replace(/[&'`"<>]/g,n=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"}[n]))}let Xo=(()=>{class t{constructor(){this.isActive=!1,this.select=new r.vpe,this.activate=new r.vpe,this.deactivate=new r.vpe,this.toggle=new r.vpe}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(e,i){1&e&&r.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{color:"color",label:"label",formattedLabel:"formattedLabel",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},decls:4,vars:6,consts:[["tabindex","-1",3,"title","click"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(e,i){1&e&&(r.TgZ(0,"span",0),r.NdJ("click",function(){return i.select.emit(i.formattedLabel)}),r.TgZ(1,"span",1),r.NdJ("click",function(){return i.toggle.emit(i.formattedLabel)}),r.qZA(),r.TgZ(2,"span",2),r._uU(3),r.qZA()()),2&e&&(r.ekj("active",i.isActive),r.Q6J("title",i.formattedLabel),r.xp6(1),r.Udp("background-color",i.color),r.xp6(2),r.hij(" ",i.trimmedLabel," "))},encapsulation:2,changeDetection:0}),t})(),Wo=(()=>{class t{constructor(e){this.cd=e,this.horizontal=!1,this.labelClick=new r.vpe,this.labelActivate=new r.vpe,this.labelDeactivate=new r.vpe,this.legendEntries=[]}ngOnChanges(e){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){const e=[];for(const i of this.data){const s=ta(i);-1===e.findIndex(c=>c.label===s)&&e.push({label:i,formattedLabel:s,color:this.colors.getColor(i)})}return e}isActive(e){return!!this.activeEntries&&void 0!==this.activeEntries.find(s=>e.label===s.name)}activate(e){this.labelActivate.emit(e)}deactivate(e){this.labelDeactivate.emit(e)}trackBy(e,i){return i.label}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.sBO))},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngx-charts-legend"]],inputs:{data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries",horizontal:"horizontal"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},features:[r.TTD],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"label","formattedLabel","color","isActive","select","activate","deactivate"]],template:function(e,i){1&e&&(r.TgZ(0,"div"),r.YNc(1,iu,3,1,"header",0),r.TgZ(2,"div",1)(3,"ul",2),r.YNc(4,nu,2,4,"li",3),r.qZA()()()),2&e&&(r.Udp("width",i.width,"px"),r.xp6(1),r.Q6J("ngIf",(null==i.title?null:i.title.length)>0),r.xp6(2),r.Udp("max-height",i.height-45,"px"),r.ekj("horizontal-legend",i.horizontal),r.xp6(1),r.Q6J("ngForOf",i.legendEntries)("ngForTrackBy",i.trackBy))},dependencies:[Xo,I.O5,I.sg],styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend ul,.chart-legend li{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:rgba(0,0,0,.05)}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),t})(),jo=(()=>{class t{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new r.vpe,this.legendLabelActivate=new r.vpe,this.legendLabelDeactivate=new r.vpe,this.LegendPosition=bn,this.LegendType=$n}ngOnChanges(e){this.update()}update(){let e=0;this.showLegend&&(this.legendType=this.getLegendType(),(!this.legendOptions||this.legendOptions.position===bn.Right)&&(e=this.legendType===$n.ScaleLegend?1:2)),this.chartWidth=Math.floor(this.view[0]*(12-e)/12),this.legendWidth=this.legendOptions&&this.legendOptions.position!==bn.Right?this.chartWidth:Math.floor(this.view[0]*e/12)}getLegendType(){return this.legendOptions.scaleType===Se.Linear?$n.ScaleLegend:$n.Legend}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngx-charts-chart"]],inputs:{view:"view",showLegend:"showLegend",legendOptions:"legendOptions",legendType:"legendType",activeEntries:"activeEntries",animations:"animations"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},features:[r._Bn([ea]),r.TTD],ngContentSelectors:Vo,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate"]],template:function(e,i){1&e&&(r.F$t(),r.TgZ(0,"div",0),r.O4$(),r.TgZ(1,"svg",1),r.Hsn(2),r.qZA(),r.YNc(3,su,1,5,"ngx-charts-scale-legend",2),r.YNc(4,ru,1,7,"ngx-charts-legend",3),r.qZA()),2&e&&(r.Udp("width",i.view[0],"px")("height",i.view[1],"px"),r.xp6(1),r.uIk("width",i.chartWidth)("height",i.view[1]),r.xp6(2),r.Q6J("ngIf",i.showLegend&&i.legendType===i.LegendType.ScaleLegend),r.xp6(1),r.Q6J("ngIf",i.showLegend&&i.legendType===i.LegendType.Legend))},dependencies:[Go,Wo,I.O5],encapsulation:2,changeDetection:0}),t})(),wp=(()=>{class t{constructor(e,i){this.element=e,this.zone=i,this.visible=new r.vpe,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const e=()=>{if(!this.element)return;const{offsetHeight:i,offsetWidth:s}=this.element.nativeElement;i&&s?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e())})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.R0b))},t.\u0275dir=r.lG2({type:t,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),t})();function Uo(t){return"[object Date]"===toString.call(t)}let Zo=(()=>{class t{constructor(e,i,s,a){this.chartElement=e,this.zone=i,this.cd=s,this.platformId=a,this.scheme="cool",this.schemeType=Se.Ordinal,this.animations=!0,this.select=new r.vpe}ngOnInit(){(0,I.PM)(this.platformId)&&(this.animations=!1)}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new wp(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(e){this.update()}update(){if(this.results=this.results?this.cloneData(this.results):[],this.view)this.width=this.view[0],this.height=this.view[1];else{const e=this.getContainerDims();e&&(this.width=e.width,this.height=e.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let e,i;const s=this.chartElement.nativeElement;if((0,I.NF)(this.platformId)&&null!==s.parentNode){const a=s.parentNode.getBoundingClientRect();e=a.width,i=a.height}return e&&i?{width:e,height:i}:null}formatDates(){for(let e=0;e<this.results.length;e++){const i=this.results[e];if(i.label=i.name,Uo(i.label)&&(i.label=i.label.toLocaleDateString()),i.series)for(let s=0;s<i.series.length;s++){const a=i.series[s];a.label=a.name,Uo(a.label)&&(a.label=a.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){if(!(0,I.NF)(this.platformId))return;const i=(0,$.R)(window,"resize").pipe((0,ne.b)(200)).subscribe(s=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=i}cloneData(e){const i=[];for(const s of e){const a={};if(void 0!==s.name&&(a.name=s.name),void 0!==s.value&&(a.value=s.value),void 0!==s.series){a.series=[];for(const c of s.series){const d=Object.assign({},c);a.series.push(d)}}void 0!==s.extra&&(a.extra=JSON.parse(JSON.stringify(s.extra))),void 0!==s.source&&(a.source=s.source),void 0!==s.target&&(a.target=s.target),i.push(a)}return i}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(r.sBO),r.Y36(r.Lbi))},t.\u0275cmp=r.Xpm({type:t,selectors:[["base-chart"]],inputs:{results:"results",view:"view",scheme:"scheme",schemeType:"schemeType",customColors:"customColors",animations:"animations"},outputs:{select:"select"},features:[r.TTD],decls:1,vars:0,template:function(e,i){1&e&&r._UZ(0,"div")},encapsulation:2}),t})();var oi=(()=>{return(t=oi||(oi={})).Top="top",t.Bottom="bottom",t.Left="left",t.Right="right",oi;var t})();let qo=(()=>{class t{constructor(e){this.textHeight=25,this.margin=5,this.element=e.nativeElement}ngOnChanges(e){this.update()}update(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case oi.Top:case oi.Bottom:this.y=this.offset,this.x=this.width/2;break;case oi.Left:this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case oi.Right:this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)"}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq))},t.\u0275cmp=r.Xpm({type:t,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},features:[r.TTD],attrs:au,decls:2,vars:6,template:function(e,i){1&e&&(r.O4$(),r.TgZ(0,"text"),r._uU(1),r.qZA()),2&e&&(r.uIk("stroke-width",i.strokeWidth)("x",i.x)("y",i.y)("text-anchor",i.textAnchor)("transform",i.transform),r.xp6(1),r.hij(" ",i.label," "))},encapsulation:2,changeDetection:0}),t})();function ia(t,n=16){return"string"!=typeof t?"number"==typeof t?t+"":"":(t=t.trim()).length<=n?t:`${t.slice(0,n)}...`}function Jo(t,n){if(t.length>n){const e=[],i=Math.floor(t.length/n);for(let s=0;s<t.length;s++)s%i==0&&e.push(t[s]);t=e}return t}function Qo(t,n,e){const i=(t||"").toString();let s=[];if(/\s/.test(i))s=i.split(/\s+/).reduce((a,c)=>{const d=(a.pop()||"")+" ";return d.length+c.length>n?[...a,d.trim(),c.trim()]:[...a,d+c]},[]);else{let a=0;for(;a<i.length;)s.push(i.substring(a,a+n)),a+=n}return s.length>e&&(s=s.splice(0,e),s[s.length-1]+="..."),s}var rn=(()=>{return(t=rn||(rn={})).Start="start",t.Middle="middle",t.End="end",rn;var t})();let Ko=(()=>{class t{constructor(e){this.platformId=e,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.wrapTicks=!1,this.dimensionsChanged=new r.vpe,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor=rn.Middle,this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0,this.approxHeight=10,this.maxPossibleLengthForTickIfWrapped=16}get isWrapTicksSupported(){return this.wrapTicks&&this.scale.step}ngOnChanges(e){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!(0,I.NF)(this.platformId))return void this.dimensionsChanged.emit({height:this.approxHeight});const e=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);e!==this.height&&(this.height=e,this.dimensionsChanged.emit({height:this.height}),setTimeout(()=>this.updateDims()))}update(){const e=this.scale;this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:e.tickFormat?e.tickFormat.apply(e,this.tickArguments):function(s){return"Date"===s.constructor.name?s.toLocaleDateString():s.toLocaleString()};const i=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.adjustedScale=this.scale.bandwidth?function(s){return this.scale(s)+.5*this.scale.bandwidth()}:this.scale,this.textTransform="",i&&0!==i?(this.textTransform=`rotate(${i})`,this.textAnchor=rn.End,this.verticalSpacing=10):this.textAnchor=rn.Middle,setTimeout(()=>this.updateDims())}getRotationAngle(e){let i=0;this.maxTicksLength=0;for(let k=0;k<e.length;k++){const V=this.tickFormat(e[k]).toString();let ee=V.length;this.trimTicks&&(ee=this.tickTrim(V).length),ee>this.maxTicksLength&&(this.maxTicksLength=ee)}const c=7*Math.min(this.maxTicksLength,this.maxAllowedLength);let d=c;const v=Math.floor(this.width/e.length);for(;d>v&&i>-90;)i-=30,d=Math.cos(i*(Math.PI/180))*c;let _=14;if(this.isWrapTicksSupported){const k=this.ticks.reduce((ee,me)=>me.length>ee.length?me:ee,"");_=14*(this.tickChunks(k).length||1),this.maxPossibleLengthForTickIfWrapped=this.getMaxPossibleLengthForTick(k)}const D=0!==i?Math.max(Math.abs(Math.sin(i*Math.PI/180))*this.maxTickLength*7,10):_;return this.approxHeight=Math.min(D,200),i}getTicks(){let e;const i=this.getMaxTicks(20),s=this.getMaxTicks(100);return this.tickValues?e=this.tickValues:this.scale.ticks?e=this.scale.ticks.apply(this.scale,[s]):(e=this.scale.domain(),e=Jo(e,i)),e}getMaxTicks(e){return Math.floor(this.width/e)}tickTransform(e){return"translate("+this.adjustedScale(e)+","+this.verticalSpacing+")"}gridLineTransform(){return`translate(0,${-this.verticalSpacing-5})`}tickTrim(e){return this.trimTicks?ia(e,this.maxTickLength):e}getMaxPossibleLengthForTick(e){if(this.scale.bandwidth){const s=Math.floor(this.scale.bandwidth()/7),a=e.slice(0,s);return Math.max(a.length,this.maxTickLength)}return this.maxTickLength}tickChunks(e){if(e.toString().length>this.maxTickLength&&this.scale.bandwidth){let s=this.rotateTicks?Math.floor(this.scale.step()/14):5;if(s<=1)return[this.tickTrim(e)];let a=Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength);return(0,I.NF)(this.platformId)||(a=Math.floor(Math.min(this.approxHeight/5,Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength)))),s=Math.min(s,5),Qo(e,a,s<1?1:s)}return[this.tickTrim(e)]}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Lbi))},t.\u0275cmp=r.Xpm({type:t,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(e,i){if(1&e&&r.Gf(No,5),2&e){let s;r.iGM(s=r.CRH())&&(i.ticksElement=s.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineHeight:"gridLineHeight",width:"width",rotateTicks:"rotateTicks",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[r.TTD],attrs:ou,decls:4,vars:2,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01","font-size","12px"],[4,"ngIf","ngIfThen","ngIfElse"],["tmplMultilineTick",""],["tmplSinglelineTick",""],["x","0",4,"ngFor","ngForOf"],["x","0"],["y2","0",1,"gridline-path","gridline-path-vertical"]],template:function(e,i){1&e&&(r.O4$(),r.TgZ(0,"g",null,0),r.YNc(2,pu,2,2,"g",1),r.qZA(),r.YNc(3,fu,2,2,"g",2)),2&e&&(r.xp6(2),r.Q6J("ngForOf",i.ticks),r.xp6(1),r.Q6J("ngForOf",i.ticks))},dependencies:[I.sg,I.O5],encapsulation:2,changeDetection:0}),t})(),Sp=(()=>{class t{constructor(){this.rotateTicks=!0,this.showGridLines=!1,this.xOrient=oi.Bottom,this.xAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new r.vpe,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5,this.orientation=oi}ngOnChanges(e){this.update()}update(){this.transform=`translate(0,${this.xAxisOffset+this.padding+this.dims.height})`,typeof this.xAxisTickCount<"u"&&(this.tickArguments=[this.xAxisTickCount])}emitTicksHeight({height:e}){const i=e+25+5;i!==this.labelOffset&&(this.labelOffset=i,setTimeout(()=>{this.dimensionsChanged.emit({height:e})},0))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(e,i){if(1&e&&r.Gf(Ko,5),2&e){let s;r.iGM(s=r.CRH())&&(i.ticksComponent=s.first)}},inputs:{xScale:"xScale",dims:"dims",trimTicks:"trimTicks",rotateTicks:"rotateTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickCount:"xAxisTickCount",xOrient:"xOrient",xAxisOffset:"xAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[r.TTD],attrs:_u,decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(e,i){1&e&&(r.O4$(),r.TgZ(0,"g"),r.YNc(1,vu,1,13,"g",0),r.YNc(2,xu,1,5,"g",1),r.qZA()),2&e&&(r.uIk("class",i.xAxisClassName)("transform",i.transform),r.xp6(1),r.Q6J("ngIf",i.xScale),r.xp6(1),r.Q6J("ngIf",i.showLabel))},dependencies:[Ko,qo,I.O5],encapsulation:2,changeDetection:0}),t})(),el=(()=>{class t{constructor(e){this.platformId=e,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.wrapTicks=!1,this.dimensionsChanged=new r.vpe,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor=rn.Middle,this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0,this.Orientation=oi}ngOnChanges(e){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!(0,I.NF)(this.platformId))return this.width=this.getApproximateAxisWidth(),void this.dimensionsChanged.emit({width:this.width});const e=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);e!==this.width&&(this.width=e,this.dimensionsChanged.emit({width:e}),setTimeout(()=>this.updateDims()))}update(){const e=this.scale,i=this.orient===oi.Top||this.orient===oi.Right?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:e.tickFormat?e.tickFormat.apply(e,this.tickArguments):function(s){return"Date"===s.constructor.name?s.toLocaleDateString():s.toLocaleString()},this.adjustedScale=e.bandwidth?s=>{const a=e(s)+.5*e.bandwidth();if(this.wrapTicks&&s.toString().length>this.maxTickLength){const c=this.tickChunks(s).length;if(1===c)return a;const _=.5*e.bandwidth()-8*c*.5;return e(s)+_}return a}:e,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case oi.Top:case oi.Bottom:this.transform=function(s){return"translate("+this.adjustedScale(s)+",0)"},this.textAnchor=rn.Middle,this.y2=this.innerTickSize*i,this.y1=this.tickSpacing*i,this.dy=i<0?"0em":".71em";break;case oi.Left:this.transform=function(s){return"translate(0,"+this.adjustedScale(s)+")"},this.textAnchor=rn.End,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em";break;case oi.Right:this.transform=function(s){return"translate(0,"+this.adjustedScale(s)+")"},this.textAnchor=rn.Start,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em"}setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(e=>e.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(e=>e.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=function kp(t,n,e,i,s,[a,c,d,v]){let _="";return _=`M${[t+s,n]}`,_+="h"+((e=0===(e=Math.floor(e))?1:e)-2*s),_+=c?`a${[s,s]} 0 0 1 ${[s,s]}`:`h${s}v${s}`,_+="v"+((i=0===(i=Math.floor(i))?1:i)-2*s),_+=v?`a${[s,s]} 0 0 1 ${[-s,s]}`:`v${s}h${-s}`,_+="h"+(2*s-e),_+=d?`a${[s,s]} 0 0 1 ${[-s,-s]}`:`h${-s}v${-s}`,_+="v"+(2*s-i),_+=a?`a${[s,s]} 0 0 1 ${[s,-s]}`:`v${-s}h${s}`,_+="z",_}(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])}getTicks(){let e;const i=this.getMaxTicks(20),s=this.getMaxTicks(50);return this.tickValues?e=this.tickValues:this.scale.ticks?e=this.scale.ticks.apply(this.scale,[s]):(e=this.scale.domain(),e=Jo(e,i)),e}getMaxTicks(e){return Math.floor(this.height/e)}tickTransform(e){return`translate(${this.adjustedScale(e)},${this.verticalSpacing})`}gridLineTransform(){return"translate(5,0)"}tickTrim(e){return this.trimTicks?ia(e,this.maxTickLength):e}getApproximateAxisWidth(){return 7*Math.max(...this.ticks.map(s=>this.tickTrim(this.tickFormat(s)).length))}tickChunks(e){if(e.toString().length>this.maxTickLength&&this.scale.bandwidth){const i=this.maxTickLength,s=Math.floor(this.scale.bandwidth()/15);return s<=1?[this.tickTrim(e)]:Qo(e,i,Math.min(s,5))}return[this.tickFormat(e)]}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Lbi))},t.\u0275cmp=r.Xpm({type:t,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(e,i){if(1&e&&r.Gf(No,5),2&e){let s;r.iGM(s=r.CRH())&&(i.ticksElement=s.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[r.TTD],attrs:yu,decls:6,vars:4,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01"],[4,"ngIf","ngIfThen","ngIfElse"],["tmplMultilineTick",""],["tmplSinglelineTick",""],[4,"ngIf","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],[1,"reference-area"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(e,i){1&e&&(r.O4$(),r.TgZ(0,"g",null,0),r.YNc(2,Lu,2,2,"g",1),r.qZA(),r.YNc(3,Eu,1,2,"path",2),r.YNc(4,Fu,2,2,"g",3),r.YNc(5,Ru,2,1,"g",3)),2&e&&(r.xp6(2),r.Q6J("ngForOf",i.ticks),r.xp6(1),r.Q6J("ngIf",i.referenceLineLength>1&&i.refMax&&i.refMin&&i.showRefLines),r.xp6(1),r.Q6J("ngForOf",i.ticks),r.xp6(1),r.Q6J("ngForOf",i.referenceLines))},dependencies:[I.sg,I.O5],encapsulation:2,changeDetection:0}),t})(),Ap=(()=>{class t{constructor(){this.showGridLines=!1,this.yOrient=oi.Left,this.yAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new r.vpe,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}ngOnChanges(e){this.update()}update(){this.offset=-(this.yAxisOffset+this.padding),this.yOrient===oi.Right?(this.labelOffset=65,this.transform=`translate(${this.offset+this.dims.width} , 0)`):this.transform=`translate(${this.offset} , 0)`,void 0!==this.yAxisTickCount&&(this.tickArguments=[this.yAxisTickCount])}emitTicksWidth({width:e}){e!==this.labelOffset&&this.yOrient===oi.Right?(this.labelOffset=e+this.labelOffset,setTimeout(()=>{this.dimensionsChanged.emit({width:e})},0)):e!==this.labelOffset&&(this.labelOffset=e,setTimeout(()=>{this.dimensionsChanged.emit({width:e})},0))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(e,i){if(1&e&&r.Gf(el,5),2&e){let s;r.iGM(s=r.CRH())&&(i.ticksComponent=s.first)}},inputs:{yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",yAxisTickCount:"yAxisTickCount",yOrient:"yOrient",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels",yAxisOffset:"yAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[r.TTD],attrs:Bu,decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(e,i){1&e&&(r.O4$(),r.TgZ(0,"g"),r.YNc(1,Vu,1,15,"g",0),r.YNc(2,Nu,1,5,"g",1),r.qZA()),2&e&&(r.uIk("class",i.yAxisClassName)("transform",i.transform),r.xp6(1),r.Q6J("ngIf",i.yScale),r.xp6(1),r.Q6J("ngIf",i.showLabel))},dependencies:[el,qo,I.O5],encapsulation:2,changeDetection:0}),t})(),tl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[I.ez]]}),t})();var as=(()=>{return(t=as||(as={})).popover="popover",t.tooltip="tooltip",as;var t})(),Sn=(()=>{return(t=Sn||(Sn={}))[t.all="all"]="all",t[t.focus="focus"]="focus",t[t.mouseover="mouseover"]="mouseover",Sn;var t})();let il=(()=>{class t{constructor(e,i,s){this.tooltipService=e,this.viewContainerRef=i,this.renderer=s,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=lt.Top,this.tooltipAlignment=lt.Center,this.tooltipType=as.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=Sn.all,this.tooltipImmediateExit=!1,this.show=new r.vpe,this.hide=new r.vpe}get listensForFocus(){return this.tooltipShowEvent===Sn.all||this.tooltipShowEvent===Sn.focus}get listensForHover(){return this.tooltipShowEvent===Sn.all||this.tooltipShowEvent===Sn.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(e){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(e))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(e){if(this.component||this.tooltipDisabled)return;const i=e?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?400:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();const s=this.createBoundOptions();this.component=this.tooltipService.create(s),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},i)}addHideListeners(e){this.mouseEnterContentEvent=this.renderer.listen(e,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(e,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",i=>{e.contains(i.target)||this.hideTooltip()}))}hideTooltip(e=!1){if(!this.component)return;const i=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),e?i():this.timeout=setTimeout(i,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(ea),r.Y36(r.s_b),r.Y36(r.Qsj))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngx-tooltip",""]],hostBindings:function(e,i){1&e&&r.NdJ("focusin",function(){return i.onFocus()})("blur",function(){return i.onBlur()})("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(a){return i.onMouseLeave(a.target)})("click",function(){return i.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"}}),t})(),nl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[zo,ea],imports:[[I.ez]]}),t})();const sl={};function os(){let t=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return t=`a${t}`,sl[t]?os():(sl[t]=!0,t)}var an=(()=>{return(t=an||(an={})).Vertical="vertical",t.Horizontal="horizontal",an;var t})();let nr=(()=>{class t{constructor(){this.orientation=an.Vertical}ngOnChanges(e){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%",this.orientation===an.Horizontal?this.x2="100%":this.orientation===an.Vertical&&(this.y1="100%")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},features:[r.TTD],attrs:Hu,decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(r.O4$(),r.TgZ(0,"linearGradient",0),r.YNc(1,$u,1,5,"stop",1),r.qZA()),2&e&&(r.Q6J("id",i.name),r.uIk("x1",i.x1)("y1",i.y1)("x2",i.x2)("y2",i.y2),r.xp6(1),r.Q6J("ngForOf",i.stops))},dependencies:[I.sg],encapsulation:2,changeDetection:0}),t})(),rl=(()=>{class t{constructor(){this.select=new r.vpe,this.activate=new r.vpe,this.deactivate=new r.vpe}onClick(){this.select.emit(this.data)}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}ngOnChanges(e){this.classNames=Array.isArray(this.classNames)?this.classNames.join(" "):"",this.classNames+="circle"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["g","ngx-charts-circle",""]],hostBindings:function(e,i){1&e&&r.NdJ("click",function(){return i.onClick()})("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{cx:"cx",cy:"cy",r:"r",fill:"fill",stroke:"stroke",data:"data",classNames:"classNames",circleOpacity:"circleOpacity",pointerEvents:"pointerEvents"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[r.TTD],attrs:zu,decls:1,vars:8,template:function(e,i){1&e&&(r.O4$(),r._UZ(0,"circle")),2&e&&r.uIk("cx",i.cx)("cy",i.cy)("r",i.r)("fill",i.fill)("stroke",i.stroke)("opacity",i.circleOpacity)("class",i.classNames)("pointer-events",i.pointerEvents)},encapsulation:2,changeDetection:0}),t})();var ls=(()=>{return(t=ls||(ls={})).Standard="standard",t.Stacked="stacked",ls;var t})();let na,al=(()=>{class t{constructor(e){this.platformId=e,this.type=ls.Standard,this.tooltipDisabled=!1,this.select=new r.vpe,this.activate=new r.vpe,this.deactivate=new r.vpe,this.barVisible=!1,this.barOrientation=an,this.placementTypes=lt,this.styleTypes=as,this.isSSR=!1}ngOnInit(){this.gradientId="grad"+os().toString(),this.gradientFill=`url(#${this.gradientId})`,(0,I.PM)(this.platformId)&&(this.isSSR=!0)}ngOnChanges(){this.update()}update(){this.circle=this.getActiveCircle()}getActiveCircle(){const e=this.data.series.findIndex(i=>{const s=i.name;return s&&this.visibleValue&&s.toString()===this.visibleValue.toString()&&void 0!==i.value});if(-1!==e)return this.mapDataPointToCircle(this.data.series[e],e)}mapDataPointToCircle(e,i){const s=this.data.name,a=e.value,c=e.name,d=ta(c);let v;v=this.xScale(this.scaleType===Se.Time?c:this.scaleType===Se.Linear?Number(c):c);const _=this.yScale(this.type===ls.Standard?a:e.d1),k=this.yScale.range()[0]-_;let ee;return ee=this.colors.getColor(this.colors.scaleType===Se.Linear?this.type===ls.Standard?a:e.d1:s),{classNames:[`circle-data-${i}`],value:a,label:c,data:Object.assign({},e,{series:s,value:a,name:c}),cx:v,cy:_,radius:5,height:k,tooltipLabel:d,color:ee,opacity:1,seriesName:s,gradientStops:this.getGradientStops(ee),min:e.min,max:e.max}}getTooltipText({tooltipLabel:e,value:i,seriesName:s,min:a,max:c}){return`\n      <span class="tooltip-label">${Yo(s)} \u2022 ${Yo(e)}</span>\n      <span class="tooltip-val">${i.toLocaleString()}${this.getTooltipMinMaxText(a,c)}</span>\n    `}getTooltipMinMaxText(e,i){if(void 0!==e||void 0!==i){let s=" (";return void 0!==e?(void 0===i&&(s+="\u2265"),s+=e.toLocaleString(),void 0!==i&&(s+=" - ")):void 0!==i&&(s+="\u2264"),void 0!==i&&(s+=i.toLocaleString()),s+=")",s}return""}getGradientStops(e){return[{offset:0,color:e,opacity:.2},{offset:100,color:e,opacity:1}]}onClick(e){this.select.emit(e)}isActive(e){return!!this.activeEntries&&void 0!==this.activeEntries.find(s=>e.name===s.name)}activateCircle(){this.barVisible=!0,this.activate.emit({name:this.data.name})}deactivateCircle(){this.barVisible=!1,this.circle.opacity=0,this.deactivate.emit({name:this.data.name})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Lbi))},t.\u0275cmp=r.Xpm({type:t,selectors:[["g","ngx-charts-circle-series",""]],inputs:{data:"data",type:"type",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",visibleValue:"visibleValue",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[r.TTD],attrs:Gu,decls:1,vars:1,consts:[[4,"ngIf"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"],["class","tooltip-bar",4,"ngIf"],["ngx-charts-circle","","ngx-tooltip","",1,"circle",3,"cx","cy","r","fill","pointerEvents","data","classNames","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","select","activate","deactivate"],[1,"tooltip-bar"]],template:function(e,i){1&e&&r.YNc(0,ju,6,22,"g",0),2&e&&r.Q6J("ngIf",i.circle)},dependencies:[nr,rl,I.O5,il],encapsulation:2,data:{animation:[(0,K.X$)("animationState",[(0,K.eR)(":enter",[(0,K.oB)({opacity:0}),(0,K.jt)(250,(0,K.oB)({opacity:1}))])])]},changeDetection:0}),t})(),ll=(()=>{class t{constructor(e){this.opacity=1,this.startOpacity=.5,this.endOpacity=1,this.gradient=!1,this.animations=!0,this.select=new r.vpe,this.animationsLoaded=!1,this.hasGradient=!1,this.barOrientation=an,this.element=e.nativeElement}ngOnChanges(){this.update(),this.animationsLoaded||(this.loadAnimation(),this.animationsLoaded=!0)}update(){this.gradientId="grad"+os().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl()}loadAnimation(){this.areaPath=this.startingPath,setTimeout(this.updatePathEl.bind(this),100)}updatePathEl(){const e=ri(this.element).select(".area");this.animations?e.transition().duration(750).attr("d",this.path):e.attr("d",this.path)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.startOpacity},{offset:100,color:this.fill,opacity:this.endOpacity}]}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq))},t.\u0275cmp=r.Xpm({type:t,selectors:[["g","ngx-charts-area",""]],inputs:{data:"data",path:"path",startingPath:"startingPath",fill:"fill",opacity:"opacity",startOpacity:"startOpacity",endOpacity:"endOpacity",gradient:"gradient",stops:"stops",animations:"animations"},outputs:{select:"select"},features:[r.TTD],attrs:Ku,decls:2,vars:5,consts:[[4,"ngIf"],[1,"area"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(e,i){1&e&&(r.YNc(0,em,2,3,"defs",0),r.O4$(),r._UZ(1,"path",1)),2&e&&(r.Q6J("ngIf",i.gradient),r.xp6(1),r.Udp("opacity",i.opacity),r.uIk("d",i.areaPath)("fill",i.gradient?i.gradientFill:i.fill))},dependencies:[nr,I.O5],encapsulation:2,changeDetection:0}),t})();typeof window<"u"?na=window:typeof global<"u"&&(na=global);const dl=na.MouseEvent;function sa(t,n=!1,e=!0){if("function"==typeof dl)return new dl(t,{bubbles:n,cancelable:e});{const i=document.createEvent("MouseEvent");return i.initEvent(t,n,e),i}}let ul=(()=>{class t{constructor(e){this.platformId=e,this.anchorOpacity=0,this.anchorPos=-1,this.anchorValues=[],this.placementTypes=lt,this.styleTypes=as,this.showPercentage=!1,this.tooltipDisabled=!1,this.hover=new r.vpe}getValues(e){const i=[];for(const s of this.results){const a=s.series.find(d=>d.name.toString()===e.toString());let c=s.name;if(c instanceof Date&&(c=c.toLocaleDateString()),a){const d=a.name;let _,v=a.value;if(this.showPercentage&&(v=(a.d1-a.d0).toFixed(2)+"%"),this.colors.scaleType===Se.Linear){let k=v;a.d1&&(k=a.d1),_=this.colors.getColor(k)}else _=this.colors.getColor(s.name);const D=Object.assign({},a,{value:v,name:d,series:c,min:a.min,max:a.max,color:_});i.push(D)}}return i}mouseMove(e){if(!(0,I.NF)(this.platformId))return;const i=e.pageX-e.target.getBoundingClientRect().left,s=this.findClosestPointIndex(i),a=this.xSet[s];if(this.anchorPos=this.xScale(a),this.anchorPos=Math.max(0,this.anchorPos),this.anchorPos=Math.min(this.dims.width,this.anchorPos),this.anchorValues=this.getValues(a),this.anchorPos!==this.lastAnchorPos){const c=sa("mouseleave");this.tooltipAnchor.nativeElement.dispatchEvent(c),this.anchorOpacity=.7,this.hover.emit({value:a}),this.showTooltip(),this.lastAnchorPos=this.anchorPos}}findClosestPointIndex(e){let i=0,s=this.xSet.length-1,a=Number.MAX_VALUE,c=0;for(;i<=s;){const d=(i+s)/2|0,v=this.xScale(this.xSet[d]),_=Math.abs(v-e);if(_<a&&(a=_,c=d),v<e)i=d+1;else{if(!(v>e)){a=0,c=d;break}s=d-1}}return c}showTooltip(){const e=sa("mouseenter");this.tooltipAnchor.nativeElement.dispatchEvent(e)}hideTooltip(){const e=sa("mouseleave");this.tooltipAnchor.nativeElement.dispatchEvent(e),this.anchorOpacity=0,this.lastAnchorPos=-1}getToolTipText(e){let i="";return i+=void 0!==e.series?e.series:"???",i+=": ",void 0!==e.value&&(i+=e.value.toLocaleString()),(void 0!==e.min||void 0!==e.max)&&(i+=" (",void 0!==e.min?(void 0===e.max&&(i+="\u2265"),i+=e.min.toLocaleString(),void 0!==e.max&&(i+=" - ")):void 0!==e.max&&(i+="\u2264"),void 0!==e.max&&(i+=e.max.toLocaleString()),i+=")"),i}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Lbi))},t.\u0275cmp=r.Xpm({type:t,selectors:[["g","ngx-charts-tooltip-area",""]],viewQuery:function(e,i){if(1&e&&r.Gf(im,5),2&e){let s;r.iGM(s=r.CRH())&&(i.tooltipAnchor=s.first)}},inputs:{dims:"dims",xSet:"xSet",xScale:"xScale",yScale:"yScale",results:"results",colors:"colors",showPercentage:"showPercentage",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate"},outputs:{hover:"hover"},attrs:nm,decls:6,vars:18,consts:[["y","0",1,"tooltip-area",2,"opacity","0","cursor","'auto'",3,"mousemove","mouseleave"],["defaultTooltipTemplate",""],["y","0","ngx-tooltip","",1,"tooltip-anchor",3,"tooltipDisabled","tooltipPlacement","tooltipType","tooltipSpacing","tooltipTemplate","tooltipContext","tooltipImmediateExit"],["tooltipAnchor",""],[1,"area-tooltip-container"],["class","tooltip-item",4,"ngFor","ngForOf"],[1,"tooltip-item"],[1,"tooltip-item-color"]],template:function(e,i){if(1&e&&(r.O4$(),r.TgZ(0,"g")(1,"rect",0),r.NdJ("mousemove",function(a){return i.mouseMove(a)})("mouseleave",function(){return i.hideTooltip()}),r.qZA(),r.YNc(2,rm,2,1,"ng-template",null,1,r.W1O),r._UZ(4,"rect",2,3),r.qZA()),2&e){const s=r.MAs(3);r.xp6(1),r.uIk("x",0)("width",i.dims.width)("height",i.dims.height),r.xp6(3),r.Udp("opacity",i.anchorOpacity)("pointer-events","none"),r.Q6J("@animationState",0!==i.anchorOpacity?"active":"inactive")("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.placementTypes.Right)("tooltipType",i.styleTypes.tooltip)("tooltipSpacing",15)("tooltipTemplate",i.tooltipTemplate?i.tooltipTemplate:s)("tooltipContext",i.anchorValues)("tooltipImmediateExit",!0),r.uIk("x",i.anchorPos)("width",1)("height",i.dims.height)}},dependencies:[I.sg,il],encapsulation:2,data:{animation:[(0,K.X$)("animationState",[(0,K.eR)("inactive => active",[(0,K.oB)({opacity:0}),(0,K.jt)(250,(0,K.oB)({opacity:.7}))]),(0,K.eR)("active => inactive",[(0,K.oB)({opacity:.7}),(0,K.jt)(250,(0,K.oB)({opacity:0}))])])]},changeDetection:0}),t})(),ml=(()=>{class t{constructor(e,i){this.cd=i,this.height=50,this.select=new r.vpe,this.onDomainChange=new r.vpe,this.initialized=!1,this.element=e.nativeElement}ngOnChanges(e){this.update(),this.initialized||(this.addBrush(),this.initialized=!0)}update(){this.dims=this.getDims(),this.height=this.dims.height;const e=this.view[1]-this.height;this.xDomain=this.getXDomain(),this.xScale=this.getXScale(),this.brush&&this.updateBrush(),this.transform=`translate(0 , ${e})`,this.filterId="filter"+os().toString(),this.filter=`url(#${this.filterId})`,this.cd.markForCheck()}getXDomain(){let e=[];for(const s of this.results)for(const a of s.series)e.includes(a.name)||e.push(a.name);let i=[];return this.scaleType===Se.Time?i=[Math.min(...e),Math.max(...e)]:this.scaleType===Se.Linear?(e=e.map(c=>Number(c)),i=[Math.min(...e),Math.max(...e)]):i=e,i}getXScale(){let e;return this.scaleType===Se.Time?e=uo().range([0,this.dims.width]).domain(this.xDomain):this.scaleType===Se.Linear?e=Nn().range([0,this.dims.width]).domain(this.xDomain):this.scaleType===Se.Ordinal&&(e=Lo().range([0,this.dims.width]).padding(.1).domain(this.xDomain)),e}addBrush(){if(this.brush)return;const e=this.height,i=this.view[0];this.brush=function Gc(){return function Sr(t){var d,n=Hc,e=Nc,i=$c,s=!0,a=j("start","brush","end"),c=6;function v(J){var Ce=J.property("__brush",Pe).selectAll(".overlay").data([_s("overlay")]);Ce.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",fn.overlay).merge(Ce).each(function(){var be=wr(this).extent;ri(this).attr("x",be[0][0]).attr("y",be[0][1]).attr("width",be[1][0]-be[0][0]).attr("height",be[1][1]-be[0][1])}),J.selectAll(".selection").data([_s("selection")]).enter().append("rect").attr("class","selection").attr("cursor",fn.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var Re=J.selectAll(".handle").data(t.handles,function(be){return be.type});Re.exit().remove(),Re.enter().append("rect").attr("class",function(be){return"handle handle--"+be.type}).attr("cursor",function(be){return fn[be.type]}),J.each(_).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",V).filter(i).on("touchstart.brush",V).on("touchmove.brush",ee).on("touchend.brush touchcancel.brush",me).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function _(){var J=ri(this),Ce=wr(this).selection;Ce?(J.selectAll(".selection").style("display",null).attr("x",Ce[0][0]).attr("y",Ce[0][1]).attr("width",Ce[1][0]-Ce[0][0]).attr("height",Ce[1][1]-Ce[0][1]),J.selectAll(".handle").style("display",null).attr("x",function(Re){return"e"===Re.type[Re.type.length-1]?Ce[1][0]-c/2:Ce[0][0]-c/2}).attr("y",function(Re){return"s"===Re.type[0]?Ce[1][1]-c/2:Ce[0][1]-c/2}).attr("width",function(Re){return"n"===Re.type||"s"===Re.type?Ce[1][0]-Ce[0][0]+c:c}).attr("height",function(Re){return"e"===Re.type||"w"===Re.type?Ce[1][1]-Ce[0][1]+c:c})):J.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function D(J,Ce,Re){var be=J.__brush.emitter;return!be||Re&&be.clean?new k(J,Ce,Re):be}function k(J,Ce,Re){this.that=J,this.args=Ce,this.state=J.__brush,this.active=0,this.clean=Re}function V(J){if((!d||J.touches)&&e.apply(this,arguments)){var Dt,ze,ft,kt,Ot,Ft,xt,li,As,ds,us,Ce=this,Re=J.target.__data__.type,be="selection"===(s&&J.metaKey?Re="overlay":Re)?wa:s&&J.altKey?Kn:Qn,He=t===js?null:Bc[Re],Ye=t===Ws?null:Vc[Re],Be=wr(Ce),Tt=Be.extent,wt=Be.selection,Di=Tt[0][0],mi=Tt[0][1],Zi=Tt[1][0],Mi=Tt[1][1],Yt=0,Xt=0,hs=He&&Ye&&s&&J.shiftKey,Ti=Array.from(J.touches||[J],Ze=>{const Ht=Ze.identifier;return(Ze=et(Ze,Ce)).point0=Ze.slice(),Ze.identifier=Ht,Ze});_r(Ce);var zn=D(Ce,arguments,!0).beforestart();if("overlay"===Re){wt&&(As=!0);const Ze=[Ti[0],Ti[1]||Ti[0]];Be.selection=wt=[[Dt=t===js?Di:Ci(Ze[0][0],Ze[1][0]),ft=t===Ws?mi:Ci(Ze[0][1],Ze[1][1])],[Ot=t===js?Zi:bi(Ze[0][0],Ze[1][0]),xt=t===Ws?Mi:bi(Ze[0][1],Ze[1][1])]],Ti.length>1&&Nt(J)}else Dt=wt[0][0],ft=wt[0][1],Ot=wt[1][0],xt=wt[1][1];ze=Dt,kt=ft,Ft=Ot,li=xt;var Ae=ri(Ce).attr("pointer-events","none"),at=Ae.selectAll(".overlay").attr("cursor",fn[Re]);if(J.touches)zn.moved=_e,zn.ended=yt;else{var dt=ri(J.view).on("mousemove.brush",_e,!0).on("mouseup.brush",yt,!0);s&&dt.on("keydown.brush",function Oi(Ze){switch(Ze.keyCode){case 16:hs=He&&Ye;break;case 18:be===Qn&&(He&&(Ot=Ft-Yt*He,Dt=ze+Yt*He),Ye&&(xt=li-Xt*Ye,ft=kt+Xt*Ye),be=Kn,Nt(Ze));break;case 32:(be===Qn||be===Kn)&&(He<0?Ot=Ft-Yt:He>0&&(Dt=ze-Yt),Ye<0?xt=li-Xt:Ye>0&&(ft=kt-Xt),be=Cr,at.attr("cursor",fn.selection),Nt(Ze));break;default:return}br(Ze)},!0).on("keyup.brush",function Fi(Ze){switch(Ze.keyCode){case 16:hs&&(ds=us=hs=!1,Nt(Ze));break;case 18:be===Kn&&(He<0?Ot=Ft:He>0&&(Dt=ze),Ye<0?xt=li:Ye>0&&(ft=kt),be=Qn,Nt(Ze));break;case 32:be===Cr&&(Ze.altKey?(He&&(Ot=Ft-Yt*He,Dt=ze+Yt*He),Ye&&(xt=li-Xt*Ye,ft=kt+Xt*Ye),be=Kn):(He<0?Ot=Ft:He>0&&(Dt=ze),Ye<0?xt=li:Ye>0&&(ft=kt),be=Qn),at.attr("cursor",fn[Re]),Nt(Ze));break;default:return}br(Ze)},!0),function Et(t){var n=t.document.documentElement,e=ri(t).on("dragstart.drag",Xe,ye);"onselectstart"in n?e.on("selectstart.drag",Xe,ye):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}(J.view)}_.call(Ce),zn.start(J,be.name)}function _e(Ze){for(const Ht of Ze.changedTouches||[Ze])for(const Ls of Ti)Ls.identifier===Ht.identifier&&(Ls.cur=et(Ht,Ce));if(hs&&!ds&&!us&&1===Ti.length){const Ht=Ti[0];Sa(Ht.cur[0]-Ht[0])>Sa(Ht.cur[1]-Ht[1])?us=!0:ds=!0}for(const Ht of Ti)Ht.cur&&(Ht[0]=Ht.cur[0],Ht[1]=Ht.cur[1]);As=!0,br(Ze),Nt(Ze)}function Nt(Ze){const Ht=Ti[0],Ls=Ht.point0;var kn;switch(Yt=Ht[0]-Ls[0],Xt=Ht[1]-Ls[1],be){case Cr:case wa:He&&(Yt=bi(Di-Dt,Ci(Zi-Ot,Yt)),ze=Dt+Yt,Ft=Ot+Yt),Ye&&(Xt=bi(mi-ft,Ci(Mi-xt,Xt)),kt=ft+Xt,li=xt+Xt);break;case Qn:Ti[1]?(He&&(ze=bi(Di,Ci(Zi,Ti[0][0])),Ft=bi(Di,Ci(Zi,Ti[1][0])),He=1),Ye&&(kt=bi(mi,Ci(Mi,Ti[0][1])),li=bi(mi,Ci(Mi,Ti[1][1])),Ye=1)):(He<0?(Yt=bi(Di-Dt,Ci(Zi-Dt,Yt)),ze=Dt+Yt,Ft=Ot):He>0&&(Yt=bi(Di-Ot,Ci(Zi-Ot,Yt)),ze=Dt,Ft=Ot+Yt),Ye<0?(Xt=bi(mi-ft,Ci(Mi-ft,Xt)),kt=ft+Xt,li=xt):Ye>0&&(Xt=bi(mi-xt,Ci(Mi-xt,Xt)),kt=ft,li=xt+Xt));break;case Kn:He&&(ze=bi(Di,Ci(Zi,Dt-Yt*He)),Ft=bi(Di,Ci(Zi,Ot+Yt*He))),Ye&&(kt=bi(mi,Ci(Mi,ft-Xt*Ye)),li=bi(mi,Ci(Mi,xt+Xt*Ye)))}Ft<ze&&(He*=-1,kn=Dt,Dt=Ot,Ot=kn,kn=ze,ze=Ft,Ft=kn,Re in Aa&&at.attr("cursor",fn[Re=Aa[Re]])),li<kt&&(Ye*=-1,kn=ft,ft=xt,xt=kn,kn=kt,kt=li,li=kn,Re in La&&at.attr("cursor",fn[Re=La[Re]])),Be.selection&&(wt=Be.selection),ds&&(ze=wt[0][0],Ft=wt[1][0]),us&&(kt=wt[0][1],li=wt[1][1]),(wt[0][0]!==ze||wt[0][1]!==kt||wt[1][0]!==Ft||wt[1][1]!==li)&&(Be.selection=[[ze,kt],[Ft,li]],_.call(Ce),zn.brush(Ze,be.name))}function yt(Ze){if(function Pc(t){t.stopImmediatePropagation()}(Ze),Ze.touches){if(Ze.touches.length)return;d&&clearTimeout(d),d=setTimeout(function(){d=null},500)}else(function gi(t,n){var e=t.document.documentElement,i=ri(t).on("dragstart.drag",null);n&&(i.on("click.drag",Xe,ye),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in e?i.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)})(Ze.view,As),dt.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Ae.attr("pointer-events","all"),at.attr("cursor",fn.overlay),Be.selection&&(wt=Be.selection),function zc(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}(wt)&&(Be.selection=null,_.call(Ce)),zn.end(Ze,be.name)}}function ee(J){D(this,arguments).moved(J)}function me(J){D(this,arguments).ended(J)}function Pe(){var J=this.__brush||{selection:null};return J.extent=Tr(n.apply(this,arguments)),J.dim=t,J}return v.move=function(J,Ce,Re){J.tween?J.on("start.brush",function(be){D(this,arguments).beforestart().start(be)}).on("interrupt.brush end.brush",function(be){D(this,arguments).end(be)}).tween("brush",function(){var be=this,He=be.__brush,Ye=D(be,arguments),Be=He.selection,Tt=t.input("function"==typeof Ce?Ce.apply(this,arguments):Ce,He.extent),wt=Ie(Be,Tt);function Di(Dt){He.selection=1===Dt&&null===Tt?null:wt(Dt),_.call(be),Ye.brush()}return null!==Be&&null!==Tt?Di:Di(1)}):J.each(function(){var be=this,He=arguments,Ye=be.__brush,Be=t.input("function"==typeof Ce?Ce.apply(be,He):Ce,Ye.extent),Tt=D(be,He).beforestart();_r(be),Ye.selection=null===Be?null:Be,_.call(be),Tt.start(Re).brush(Re).end(Re)})},v.clear=function(J,Ce){v.move(J,null,Ce)},k.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(J,Ce){return this.starting?(this.starting=!1,this.emit("start",J,Ce)):this.emit("brush",J),this},brush:function(J,Ce){return this.emit("brush",J,Ce),this},end:function(J,Ce){return 0==--this.active&&(delete this.state.emitter,this.emit("end",J,Ce)),this},emit:function(J,Ce,Re){var be=ri(this.that).datum();a.call(J,this.that,new Ic(J,{sourceEvent:Ce,target:v,selection:t.output(this.state.selection),mode:Re,dispatch:a}),be)}},v.extent=function(J){return arguments.length?(n="function"==typeof J?J:yr(Tr(J)),v):n},v.filter=function(J){return arguments.length?(e="function"==typeof J?J:yr(!!J),v):e},v.touchable=function(J){return arguments.length?(i="function"==typeof J?J:yr(!!J),v):i},v.handleSize=function(J){return arguments.length?(c=+J,v):c},v.keyModifiers=function(J){return arguments.length?(s=!!J,v):s},v.on=function(){var J=a.on.apply(a,arguments);return J===a?v:J},v}(Ws)}().extent([[0,0],[i,e]]).on("brush end",({selection:s})=>{const c=(s||this.xScale.range()).map(this.xScale.invert);this.onDomainChange.emit(c),this.cd.markForCheck()}),ri(this.element).select(".brush").call(this.brush)}updateBrush(){this.brush&&(this.brush.extent([[0,0],[this.view[0],this.height]]),ri(this.element).select(".brush").call(this.brush),ri(this.element).select(".selection").attr("fill",void 0).attr("stroke",void 0).attr("fill-opacity",void 0),this.cd.markForCheck())}getDims(){return{width:this.view[0],height:this.height}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.sBO))},t.\u0275cmp=r.Xpm({type:t,selectors:[["g","ngx-charts-timeline",""]],inputs:{view:"view",results:"results",scheme:"scheme",customColors:"customColors",legend:"legend",autoScale:"autoScale",scaleType:"scaleType",height:"height"},outputs:{select:"select",onDomainChange:"onDomainChange"},features:[r.TTD],attrs:am,ngContentSelectors:Vo,decls:7,vars:4,consts:[[1,"timeline"],["in","SourceGraphic","type","matrix","values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"],[1,"embedded-chart"],["x","0","y","0",1,"brush-background"],[1,"brush"]],template:function(e,i){1&e&&(r.F$t(),r.O4$(),r.TgZ(0,"g",0)(1,"filter"),r._UZ(2,"feColorMatrix",1),r.qZA(),r.TgZ(3,"g",2),r.Hsn(4),r.qZA(),r._UZ(5,"rect",3)(6,"g",4),r.qZA()),2&e&&(r.uIk("transform",i.transform),r.xp6(1),r.uIk("id",i.filterId),r.xp6(4),r.uIk("width",i.view[0])("height",i.height))},styles:[".timeline .brush-background{fill:#0000000d}.timeline .brush .selection{fill:#0000001a;stroke-width:1px;stroke:#888}.timeline .brush .handle{fill-opacity:0}.timeline .embedded-chart{opacity:.6}\n"],encapsulation:2,changeDetection:0}),t})(),Ui=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[I.ez,tl,nl],I.ez,tl,nl]}),t})();const pl=[{name:"vivid",selectable:!0,group:Se.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:Se.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:Se.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:Se.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:Se.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:Se.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:Se.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:Se.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:Se.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:Se.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:Se.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:Se.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:Se.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:Se.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:Se.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}];class Fp{constructor(n,e,i,s){"string"==typeof n&&(n=pl.find(a=>a.name===n)),this.colorDomain=n.domain,this.scaleType=e,this.domain=i,this.customColors=s,this.scale=this.generateColorScheme(n,e,this.domain)}generateColorScheme(n,e,i){let s;switch("string"==typeof n&&(n=pl.find(a=>a.name===n)),e){case Se.Quantile:s=Eo().range(n.domain).domain(i);break;case Se.Ordinal:s=Zr().range(n.domain).domain(i);break;case Se.Linear:{const a=[...n.domain];1===a.length&&(a.push(a[0]),this.colorDomain=a);const c=bo(0,1,1/a.length);s=Nn().range(a).domain(c)}}return s}getColor(n){if(null==n)throw new Error("Value can not be null");if(this.scaleType===Se.Linear){const e=Nn().domain(this.domain).range([0,1]);return this.scale(e(n))}{if("function"==typeof this.customColors)return this.customColors(n);const e=n.toString();let i;return this.customColors&&this.customColors.length>0&&(i=this.customColors.find(s=>s.name.toLowerCase()===e.toLowerCase())),i?i.value:this.scale(n)}}getLinearGradientStops(n,e){void 0===e&&(e=this.domain[0]);const i=Nn().domain(this.domain).range([0,1]),s=qr().domain(this.colorDomain).range([0,1]),a=this.getColor(n),c=i(e),d=this.getColor(e),v=i(n);let _=1,D=c;const k=[];for(k.push({color:d,offset:c,originalOffset:c,opacity:1});D<v&&_<this.colorDomain.length;){const V=this.colorDomain[_],ee=s(V);if(ee<=c)_++;else{if(ee.toFixed(4)>=(v-s.bandwidth()).toFixed(4))break;k.push({color:V,offset:ee,opacity:1}),D=ee,_++}}if(k[k.length-1].offset<100&&k.push({color:a,offset:v,opacity:1}),v===c)k[0].offset=0,k[1].offset=100;else if(100!==k[k.length-1].offset)for(const V of k)V.offset=(V.offset-c)/(v-c)*100;return k}}let Vp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Ui]]}),t})(),fl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Ui]]}),t})();qd();let Np=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Ui]]}),t})(),Hp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Ui]]}),t})(),$p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Ui]]}),t})(),zp=(()=>{class t{constructor(e,i){this.element=e,this.platformId=i,this.fill="none",this.animations=!0,this.initialized=!1,this.isSSR=!1}ngOnInit(){(0,I.PM)(this.platformId)&&(this.isSSR=!0)}ngOnChanges(e){this.initialized?this.updatePathEl():(this.initialized=!0,this.initialPath=this.path)}updatePathEl(){const e=ri(this.element.nativeElement).select(".line");this.animations?e.transition().duration(750).attr("d",this.path):e.attr("d",this.path)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.Lbi))},t.\u0275cmp=r.Xpm({type:t,selectors:[["g","ngx-charts-line",""]],inputs:{path:"path",stroke:"stroke",data:"data",fill:"fill",animations:"animations"},features:[r.TTD],attrs:Ym,decls:2,vars:2,consts:[[4,"ngIf"],["stroke-width","1.5px",1,"line"]],template:function(e,i){1&e&&(r.YNc(0,Xm,2,4,"g",0),r.YNc(1,Wm,2,3,"g",0)),2&e&&(r.Q6J("ngIf",!i.isSSR),r.xp6(1),r.Q6J("ngIf",i.isSSR))},dependencies:[I.O5],encapsulation:2,data:{animation:[(0,K.X$)("animationState",[(0,K.eR)(":enter",[(0,K.oB)({strokeDasharray:2e3,strokeDashoffset:2e3}),(0,K.jt)(1e3,(0,K.oB)({strokeDashoffset:0}))])])]},changeDetection:0}),t})(),Gp=(()=>{class t{constructor(){this.animations=!0,this.barOrientation=an}ngOnChanges(e){this.update()}update(){this.updateGradients();const e=this.sortData(this.data.series),i=this.getLineGenerator();this.path=i(e)||"";const s=this.getAreaGenerator();if(this.areaPath=s(e)||"",this.hasRange){const a=this.getRangeGenerator();this.outerPath=a(e)||""}if(this.hasGradient){this.stroke=this.gradientUrl;const a=this.data.series.map(v=>v.value),c=Math.max(...a);c===Math.min(...a)&&(this.stroke=this.colors.getColor(c))}else this.stroke=this.colors.getColor(this.data.name)}getLineGenerator(){return Ro().x(e=>{const i=e.name;let s;return s=this.xScale(this.scaleType===Se.Time?i:this.scaleType===Se.Linear?Number(i):i),s}).y(e=>this.yScale(e.value)).curve(this.curve)}getRangeGenerator(){return Bo().x(e=>{const i=e.name;let s;return s=this.xScale(this.scaleType===Se.Time?i:this.scaleType===Se.Linear?Number(i):i),s}).y0(e=>this.yScale("number"==typeof e.min?e.min:e.value)).y1(e=>this.yScale("number"==typeof e.max?e.max:e.value)).curve(this.curve)}getAreaGenerator(){return Bo().x(i=>this.xScale(i.name)).y0(()=>this.yScale.range()[0]).y1(i=>this.yScale(i.value)).curve(this.curve)}sortData(e){return e=this.scaleType===Se.Linear?function Pp(t,n,e="asc"){return t.sort((i,s)=>"asc"===e?i[n]-s[n]:s[n]-i[n])}(e,"name"):this.scaleType===Se.Time?function Bp(t,n,e="asc"){return t.sort((i,s)=>{const a=i[n].getTime(),c=s[n].getTime();return"asc"===e?a>c?1:c>a?-1:0:a>c?-1:c>a?1:0})}(e,"name"):function Rp(t,n,e="asc",i){return t.sort((s,a)=>{const d=a[n],v=i.indexOf(s[n]),_=i.indexOf(d);return"asc"===e?v-_:_-v})}(e,"name","asc",this.xScale.domain()),e}updateGradients(){if(this.colors.scaleType===Se.Linear){this.hasGradient=!0,this.gradientId="grad"+os().toString(),this.gradientUrl=`url(#${this.gradientId})`;const e=this.data.series.map(a=>a.value),i=Math.max(...e),s=Math.min(...e);this.gradientStops=this.colors.getLinearGradientStops(i,s),this.areaGradientStops=this.colors.getLinearGradientStops(i)}else this.hasGradient=!1,this.gradientStops=void 0,this.areaGradientStops=void 0}isActive(e){return!!this.activeEntries&&void 0!==this.activeEntries.find(s=>e.name===s.name)}isInactive(e){return!(!this.activeEntries||0===this.activeEntries.length)&&void 0===this.activeEntries.find(s=>e.name===s.name)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["g","ngx-charts-line-series",""]],inputs:{data:"data",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",curve:"curve",activeEntries:"activeEntries",rangeFillOpacity:"rangeFillOpacity",hasRange:"hasRange",animations:"animations"},features:[r.TTD],attrs:jm,decls:6,vars:22,consts:[["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops",4,"ngIf"],["ngx-charts-area","",1,"line-highlight",3,"data","path","fill","opacity","startOpacity","gradient","stops","animations"],["ngx-charts-line","",1,"line-series",3,"data","path","stroke","animations"],["ngx-charts-area","","class","line-series-range",3,"data","path","fill","active","inactive","opacity","animations",4,"ngIf"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"],["ngx-charts-area","",1,"line-series-range",3,"data","path","fill","opacity","animations"]],template:function(e,i){1&e&&(r.O4$(),r.TgZ(0,"g")(1,"defs"),r.YNc(2,Um,1,3,"g",0),r.qZA(),r._UZ(3,"g",1)(4,"g",2),r.YNc(5,Zm,1,9,"g",3),r.qZA()),2&e&&(r.xp6(2),r.Q6J("ngIf",i.hasGradient),r.xp6(1),r.ekj("active",i.isActive(i.data))("inactive",i.isInactive(i.data)),r.Q6J("data",i.data)("path",i.areaPath)("fill",i.hasGradient?i.gradientUrl:i.colors.getColor(i.data.name))("opacity",.25)("startOpacity",0)("gradient",!0)("stops",i.areaGradientStops)("animations",i.animations),r.xp6(1),r.ekj("active",i.isActive(i.data))("inactive",i.isInactive(i.data)),r.Q6J("data",i.data)("path",i.path)("stroke",i.stroke)("animations",i.animations),r.xp6(1),r.Q6J("ngIf",i.hasRange))},dependencies:[nr,ll,zp,I.O5],encapsulation:2,changeDetection:0}),t})(),Yp=(()=>{class t extends Zo{constructor(){super(...arguments),this.legendTitle="Legend",this.legendPosition=bn.Right,this.showGridLines=!0,this.curve=Jr,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.roundDomains=!1,this.tooltipDisabled=!1,this.showRefLines=!1,this.showRefLabels=!0,this.wrapTicks=!1,this.activate=new r.vpe,this.deactivate=new r.vpe,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.timelineHeight=50,this.timelinePadding=10,this.isSSR=!1}ngOnInit(){(0,I.PM)(this.platformId)&&(this.isSSR=!0)}update(){super.update(),this.dims=function Op({width:t,height:n,margins:e,showXAxis:i=!1,showYAxis:s=!1,xAxisHeight:a=0,yAxisWidth:c=0,showXLabel:d=!1,showYLabel:v=!1,showLegend:_=!1,legendType:D=Se.Ordinal,legendPosition:k=bn.Right,columns:V=12}){let ee=e[3],me=t,Pe=n-e[0]-e[2];return _&&k===bn.Right&&(V-=D===Se.Ordinal?2:1),me=me*V/12,me=me-e[1]-e[3],i&&(Pe-=5,Pe-=a,d&&(Pe-=30)),s&&(me-=5,me-=c,ee+=c,ee+=10,v&&(me-=30,ee+=30)),me=Math.max(0,me),Pe=Math.max(0,Pe),{width:Math.floor(me),height:Math.floor(Pe),xOffset:Math.floor(ee)}}({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.timeline&&(this.dims.height-=this.timelineHeight+this.margin[2]+this.timelinePadding),this.xDomain=this.getXDomain(),this.filteredDomain&&(this.xDomain=this.filteredDomain),this.yDomain=this.getYDomain(),this.seriesDomain=this.getSeriesDomain(),this.xScale=this.getXScale(this.xDomain,this.dims.width),this.yScale=this.getYScale(this.yDomain,this.dims.height),this.updateTimeline(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`,this.clipPathId="clip"+os().toString(),this.clipPath=`url(#${this.clipPathId})`}updateTimeline(){this.timeline&&(this.timelineWidth=this.dims.width,this.timelineXDomain=this.getXDomain(),this.timelineXScale=this.getXScale(this.timelineXDomain,this.timelineWidth),this.timelineYScale=this.getYScale(this.yDomain,this.timelineHeight),this.timelineTransform=`translate(${this.dims.xOffset}, ${-this.margin[2]})`)}getXDomain(){let e=function Ip(t){const n=new Set;for(const e of t)for(const i of e.series)n.add(i.name);return Array.from(n)}(this.results);this.scaleType=function gl(t,n=!0){return n&&t.every(s=>s instanceof Date)?Se.Time:t.every(i=>"number"==typeof i)?Se.Linear:Se.Ordinal}(e);let s,a,i=[];return this.scaleType===Se.Linear&&(e=e.map(c=>Number(c))),(this.scaleType===Se.Time||this.scaleType===Se.Linear)&&(s=this.xScaleMin?this.xScaleMin:Math.min(...e),a=this.xScaleMax?this.xScaleMax:Math.max(...e)),this.scaleType===Se.Time?(i=[new Date(s),new Date(a)],this.xSet=[...e].sort((c,d)=>{const v=c.getTime(),_=d.getTime();return v>_?1:_>v?-1:0})):this.scaleType===Se.Linear?(i=[s,a],this.xSet=[...e].sort((c,d)=>c-d)):(i=e,this.xSet=e),i}getYDomain(){const e=[];for(const c of this.results)for(const d of c.series)e.indexOf(d.value)<0&&e.push(d.value),void 0!==d.min&&(this.hasRange=!0,e.indexOf(d.min)<0&&e.push(d.min)),void 0!==d.max&&(this.hasRange=!0,e.indexOf(d.max)<0&&e.push(d.max));const i=[...e];return this.autoScale||i.push(0),[this.yScaleMin?this.yScaleMin:Math.min(...i),this.yScaleMax?this.yScaleMax:Math.max(...i)]}getSeriesDomain(){return this.results.map(e=>e.name)}getXScale(e,i){let s;return this.scaleType===Se.Time?s=uo().range([0,i]).domain(e):this.scaleType===Se.Linear?(s=Nn().range([0,i]).domain(e),this.roundDomains&&(s=s.nice())):this.scaleType===Se.Ordinal&&(s=Lo().range([0,i]).padding(.1).domain(e)),s}getYScale(e,i){const s=Nn().range([i,0]).domain(e);return this.roundDomains?s.nice():s}updateDomain(e){this.filteredDomain=e,this.xDomain=this.filteredDomain,this.xScale=this.getXScale(this.xDomain,this.dims.width)}updateHoveredVertical(e){this.hoveredVertical=e.value,this.deactivateAll()}hideCircles(){this.hoveredVertical=null,this.deactivateAll()}onClick(e){this.select.emit(e)}trackBy(e,i){return`${i.name}`}setColors(){let e;e=this.schemeType===Se.Ordinal?this.seriesDomain:this.yDomain,this.colors=new Fp(this.scheme,this.schemeType,e,this.customColors)}getLegendOptions(){const e={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return e.scaleType===Se.Ordinal?(e.domain=this.seriesDomain,e.colors=this.colors,e.title=this.legendTitle):(e.domain=this.yDomain,e.colors=this.colors.scale),e}updateYAxisWidth({width:e}){this.yAxisWidth=e,this.update()}updateXAxisHeight({height:e}){this.xAxisHeight=e,this.update()}onActivate(e){this.deactivateAll(),!(this.activeEntries.findIndex(s=>s.name===e.name&&s.value===e.value)>-1)&&(this.activeEntries=[e],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e){const i=this.activeEntries.findIndex(s=>s.name===e.name&&s.value===e.value);this.activeEntries.splice(i,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}deactivateAll(){this.activeEntries=[...this.activeEntries];for(const e of this.activeEntries)this.deactivate.emit({value:e,entries:[]});this.activeEntries=[]}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=r.n5z(t)))(i||t)}}(),t.\u0275cmp=r.Xpm({type:t,selectors:[["ngx-charts-line-chart"]],contentQueries:function(e,i,s){if(1&e&&(r.Suo(s,pm,5),r.Suo(s,gm,5)),2&e){let a;r.iGM(a=r.CRH())&&(i.tooltipTemplate=a.first),r.iGM(a=r.CRH())&&(i.seriesTooltipTemplate=a.first)}},hostBindings:function(e,i){1&e&&r.NdJ("mouseleave",function(){return i.hideCircles()})},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",autoScale:"autoScale",timeline:"timeline",gradient:"gradient",showGridLines:"showGridLines",curve:"curve",activeEntries:"activeEntries",schemeType:"schemeType",rangeFillOpacity:"rangeFillOpacity",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",roundDomains:"roundDomains",tooltipDisabled:"tooltipDisabled",showRefLines:"showRefLines",referenceLines:"referenceLines",showRefLabels:"showRefLabels",xScaleMin:"xScaleMin",xScaleMax:"xScaleMax",yScaleMin:"yScaleMin",yScaleMax:"yScaleMax",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[r.qOj],decls:12,vars:20,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"line-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","wrapTicks","dimensionsChanged",4,"ngIf"],[4,"ngIf"],[3,"mouseleave",4,"ngIf"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","scaleType","legend","onDomainChange",4,"ngIf"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","wrapTicks","dimensionsChanged"],[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-line-series","",3,"xScale","yScale","colors","data","activeEntries","scaleType","curve","rangeFillOpacity","hasRange","animations"],[3,"mouseleave"],["ngx-charts-tooltip-area","",3,"dims","xSet","xScale","yScale","results","colors","tooltipDisabled","tooltipTemplate","hover"],[4,"ngFor","ngForOf"],["ngx-charts-circle-series","",3,"xScale","yScale","colors","data","scaleType","visibleValue","activeEntries","tooltipDisabled","tooltipTemplate","select","activate","deactivate"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","scaleType","legend","onDomainChange"],["ngx-charts-line-series","",3,"xScale","yScale","colors","data","scaleType","curve","hasRange","animations"]],template:function(e,i){1&e&&(r.TgZ(0,"ngx-charts-chart",0),r.NdJ("legendLabelClick",function(a){return i.onClick(a)})("legendLabelActivate",function(a){return i.onActivate(a)})("legendLabelDeactivate",function(a){return i.onDeactivate(a)}),r.O4$(),r.TgZ(1,"defs")(2,"clipPath"),r._UZ(3,"rect"),r.qZA()(),r.TgZ(4,"g",1),r.YNc(5,qm,1,11,"g",2),r.YNc(6,Jm,1,13,"g",3),r.TgZ(7,"g"),r.YNc(8,Km,2,2,"g",4),r.YNc(9,tp,2,2,"g",4),r.YNc(10,np,3,9,"g",5),r.qZA()(),r.YNc(11,rp,2,13,"g",6),r.qZA()),2&e&&(r.Q6J("view",r.WLB(17,ks,i.width,i.height))("showLegend",i.legend)("legendOptions",i.legendOptions)("activeEntries",i.activeEntries)("animations",i.animations),r.xp6(2),r.uIk("id",i.clipPathId),r.xp6(1),r.uIk("width",i.dims.width+10)("height",i.dims.height+10)("transform","translate(-5, -5)"),r.xp6(1),r.uIk("transform",i.transform),r.xp6(1),r.Q6J("ngIf",i.xAxis),r.xp6(1),r.Q6J("ngIf",i.yAxis),r.xp6(1),r.uIk("clip-path",i.clipPath),r.xp6(1),r.Q6J("ngIf",!i.isSSR),r.xp6(1),r.Q6J("ngIf",i.isSSR),r.xp6(1),r.Q6J("ngIf",!i.tooltipDisabled),r.xp6(1),r.Q6J("ngIf",i.timeline&&"ordinal"!=i.scaleType))},dependencies:[jo,Sp,Ap,Gp,ul,al,ml,I.O5,I.sg],styles:[".ngx-charts-outer{animation:chartFadeIn linear .6s}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .node,.ngx-charts .link,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .node.active,.ngx-charts .node:hover,.ngx-charts .link.active,.ngx-charts .link:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .node:focus,.ngx-charts .link:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .node.hidden,.ngx-charts .link.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}\n"],encapsulation:2,data:{animation:[(0,K.X$)("animationState",[(0,K.eR)(":leave",[(0,K.oB)({opacity:1}),(0,K.jt)(500,(0,K.oB)({opacity:0}))])])]},changeDetection:0}),t})(),_l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Ui]]}),t})();Math;let ra=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Ui]]}),t})(),jp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Ui,ra,_l]]}),t})(),Zp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Ui]]}),t})(),qp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Ui]]}),t})(),Jp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Ui,ra,fl]]}),t})(),Kp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Ui]]}),t})(),eg=(()=>{class t{constructor(){!function Qp(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[Ui,Vp,fl,Np,Hp,$p,Kp,_l,jp,Zp,ra,qp,Jp]}),t})()},5861:(Pt,We,z)=>{function r(oe,De,$,ne,K,ie,X){try{var fe=oe[ie](X),pe=fe.value}catch(ve){return void $(ve)}fe.done?De(pe):Promise.resolve(pe).then(ne,K)}function I(oe){return function(){var De=this,$=arguments;return new Promise(function(ne,K){var ie=oe.apply(De,$);function X(pe){r(ie,ne,K,X,fe,"next",pe)}function fe(pe){r(ie,ne,K,X,fe,"throw",pe)}X(void 0)})}}z.d(We,{Z:()=>I})}}]);